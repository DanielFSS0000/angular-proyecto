(self.webpackChunkempleados=self.webpackChunkempleados||[]).push([[179],{8255:ze=>{function Ce(k){return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+k+"'");throw g.code="MODULE_NOT_FOUND",g})}Ce.keys=()=>[],Ce.resolve=Ce,Ce.id=8255,ze.exports=Ce},3018:(ze,Ce,k)=>{"use strict";k.d(Ce,{deG:()=>ka,tb:()=>f_,AFp:()=>d_,ip1:()=>Gp,CZH:()=>ih,hGG:()=>LD,z2F:()=>E_,sBO:()=>fN,Sil:()=>Xl,_Vd:()=>ha,EJc:()=>g_,SBq:()=>si,qLn:()=>K,vpe:()=>_o,gxx:()=>_l,tBr:()=>Ua,XFs:()=>Se,OlP:()=>In,zs3:()=>pn,ZZ4:()=>vp,aQg:()=>Qn,soG:()=>p_,YKP:()=>oT,v3s:()=>hR,h0i:()=>jl,PXZ:()=>TD,R0b:()=>ai,FiY:()=>ei,Lbi:()=>k0,g9A:()=>h_,Qsj:()=>lN,FYo:()=>uu,JOm:()=>ao,Tiy:()=>yp,q3G:()=>en,tp0:()=>so,EAV:()=>mR,Rgc:()=>jd,dDg:()=>ED,DyG:()=>Pc,q4F:()=>Vy,GfV:()=>QI,s_b:()=>$y,ifc:()=>wn,eFA:()=>Yp,G48:()=>bD,Gpc:()=>ne,X6Q:()=>Kp,_c5:()=>wR,VLi:()=>sR,c2e:()=>cD,zSh:()=>$m,wAp:()=>Je,vHH:()=>xe,EiD:()=>cf,mCW:()=>Jo,qzn:()=>Pr,JVY:()=>tm,pB0:()=>rm,eBb:()=>af,L6k:()=>nm,LAX:()=>Qo,cg1:()=>Sy,Tjo:()=>J0,kL8:()=>zA,yhl:()=>oo,dqk:()=>L,sIi:()=>Of,CqO:()=>Rl,QGY:()=>cy,F4k:()=>lI,RDi:()=>zs,AaK:()=>U,z3N:()=>ti,qOj:()=>Rf,TTD:()=>xh,_Bn:()=>ky,xp6:()=>oC,uIk:()=>Mf,Tol:()=>HE,ekj:()=>gy,Suo:()=>t_,Xpm:()=>Ea,lG2:()=>yg,Yz7:()=>un,cJS:()=>Si,oAB:()=>bu,Yjl:()=>_g,Y36:()=>Id,_UZ:()=>OE,BQk:()=>jf,ynx:()=>Dd,qZA:()=>Nl,TgZ:()=>Td,EpF:()=>PE,n5z:()=>Vg,Ikx:()=>Ty,LFG:()=>An,$8M:()=>Wi,NdJ:()=>dy,CRH:()=>n_,oxw:()=>fy,ALo:()=>kp,lcZ:()=>Lp,Q6J:()=>Uf,VKq:()=>MT,iGM:()=>e_,CHM:()=>Ph,oJD:()=>hf,LSH:()=>yi,kYT:()=>ba,Udp:()=>py,d8E:()=>xd,YNc:()=>yE,_uU:()=>zE,Oqu:()=>Ey,hij:()=>Jf});var g=k(9765),ae=k(5319),$=k(7574),re=k(6682),ye=k(2441);var me=k(1307);function Z(){return new g.xQ}function j(o){for(let a in o)if(o[a]===j)return a;throw Error("Could not find renamed property on target object.")}function G(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function U(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(U).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function W(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const ce=j({__forward_ref__:j});function ne(o){return o.__forward_ref__=ne,o.toString=function(){return U(this())},o}function te(o){return Pe(o)?o():o}function Pe(o){return"function"==typeof o&&o.hasOwnProperty(ce)&&o.__forward_ref__===ne}class xe extends Error{constructor(a,u){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,u)),this.code=a}}function Ve(o){return"string"==typeof o?o:null==o?"":String(o)}function dt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ve(o)}function oe(o,a){const u=a?` in ${a}`:"";throw new xe("201",`No provider for ${dt(o)} found${u}`)}function vn(o,a){null==o&&function(o,a,u,c){throw new Error(`ASSERTION ERROR: ${o}`+(null==c?"":` [Expected=> ${u} ${c} ${a} <=Actual]`))}(a,o,null,"!=")}function un(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Si(o){return{providers:o.providers||[],imports:o.imports||[]}}function Rr(o){return Io(o,Hn)||Io(o,Hs)}function Io(o,a){return o.hasOwnProperty(a)?o[a]:null}function hs(o){return o&&(o.hasOwnProperty(Ai)||o.hasOwnProperty(mt))?o[Ai]:null}const Hn=j({\u0275prov:j}),Ai=j({\u0275inj:j}),Hs=j({ngInjectableDef:j}),mt=j({ngInjectorDef:j});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let zt;function cn(o){const a=zt;return zt=o,a}function Lt(o,a,u){const c=Rr(o);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Se.Optional?null:void 0!==a?a:void oe(U(o),"Injector")}function Ye(o){return{toString:o}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),wn=(()=>((wn=wn||{})[wn.Emulated=0]="Emulated",wn[wn.None=2]="None",wn[wn.ShadowDom=3]="ShadowDom",wn))();const Gr="undefined"!=typeof globalThis&&globalThis,Ao="undefined"!=typeof window&&window,nn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,L=Gr||q||Ao||nn,Y={},Te=[],nt=j({\u0275cmp:j}),wt=j({\u0275dir:j}),Rt=j({\u0275pipe:j}),kt=j({\u0275mod:j}),On=j({\u0275loc:j}),Wt=j({\u0275fac:j}),bn=j({__NG_ELEMENT_ID__:j});let No=0;function Ea(o){return Ye(()=>{const u={},c={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Te,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||wn.Emulated,id:"c",styles:o.styles||Te,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,f=o.features,_=o.pipes;return c.id+=No++,c.inputs=Ni(o.inputs,u),c.outputs=Ni(o.outputs),f&&f.forEach(w=>w(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(vh):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(pc):null,c})}function vh(o){return nr(o)||function(o){return o[wt]||null}(o)}function pc(o){return function(o){return o[Rt]||null}(o)}const wa={};function bu(o){return Ye(()=>{const a={type:o.type,bootstrap:o.bootstrap||Te,declarations:o.declarations||Te,imports:o.imports||Te,exports:o.exports||Te,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(wa[o.id]=o.type),a})}function ba(o,a){return Ye(()=>{const u=vr(o,!0);u.declarations=a.declarations||Te,u.imports=a.imports||Te,u.exports=a.exports||Te})}function Ni(o,a){if(null==o)return Y;const u={};for(const c in o)if(o.hasOwnProperty(c)){let h=o[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),u[h]=c,a&&(a[h]=f)}return u}const yg=Ea;function _g(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function nr(o){return o[nt]||null}function vr(o,a){const u=o[kt]||null;if(!u&&!0===a)throw new Error(`Type ${U(o)} does not have '\u0275mod' property.`);return u}function Wr(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ut(o){return Array.isArray(o)&&!0===o[1]}function Tu(o){return 0!=(8&o.flags)}function mc(o){return 2==(2&o.flags)}function Kr(o){return 1==(1&o.flags)}function Ri(o){return null!==o.template}function Ih(o){return 0!=(512&o[2])}function gs(o,a){return o.hasOwnProperty(Wt)?o[Wt]:null}class Rh{constructor(a,u,c){this.previousValue=a,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function xh(){return Du}function Du(o){return o.type.prototype.ngOnChanges&&(o.setInput=k_),xi}function xi(){const o=Su(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===Y)o.previous=a;else for(let c in a)u[c]=a[c];o.current=null,this.ngOnChanges(a)}}function k_(o,a,u,c){const h=Su(o)||function(o,a){return o[F_]=a}(o,{previous:Y,current:null}),f=h.current||(h.current={}),_=h.previous,w=this.declaredInputs[u],I=_[w];f[w]=new Rh(I&&I.currentValue,a,_===Y),o[c]=a}xh.ngInherit=!0;const F_="__ngSimpleChanges__";function Su(o){return o[F_]||null}let ko;function zs(o){ko=o}function Nu(){return void 0!==ko?ko:"undefined"!=typeof document?document:void 0}function rn(o){return!!o.listen}const bc={createRenderer:(o,a)=>Nu()};function sn(o){for(;Array.isArray(o);)o=o[0];return o}function Ru(o,a){return sn(a[o])}function Zr(o,a){return sn(a[o.index])}function Ws(o,a){return o.data[a]}function wr(o,a){const u=a[o];return Wr(u)?u:u[0]}function Ou(o){return 4==(4&o[2])}function Mu(o){return 128==(128&o[2])}function Ks(o,a){return null==a?null:o[a]}function Ic(o){o[18]=0}function Oh(o,a){o[5]+=a;let u=o,c=o[3];for(;null!==c&&(1===a&&1===u[5]||-1===a&&0===u[5]);)c[5]+=a,u=c,c=c[3]}const ct={lFrame:xg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Mh(){return ct.bindingsEnabled}function Ie(){return ct.lFrame.lView}function xt(){return ct.lFrame.tView}function Ph(o){return ct.lFrame.contextLView=o,o[8]}function Cn(){let o=Sg();for(;null!==o&&64===o.type;)o=o.parent;return o}function Sg(){return ct.lFrame.currentTNode}function hi(o,a){const u=ct.lFrame;u.currentTNode=o,u.isParent=a}function kh(){return ct.lFrame.isParent}function Zs(){ct.lFrame.isParent=!1}function Vo(){return ct.isInCheckNoChangesMode}function Ys(o){ct.isInCheckNoChangesMode=o}function xr(){const o=ct.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Qs(){return ct.lFrame.bindingIndex++}function ms(o){const a=ct.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function Vh(o,a){const u=ct.lFrame;u.bindingIndex=u.bindingRootIndex=o,Vu(a)}function Vu(o){ct.lFrame.currentDirectiveIndex=o}function Bh(o){const a=ct.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Uo(){return ct.lFrame.currentQueryIndex}function jh(o){ct.lFrame.currentQueryIndex=o}function V_(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function U_(o,a,u){if(u&Se.SkipSelf){let h=a,f=o;for(;!(h=h.parent,null!==h||u&Se.Host||(h=V_(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;a=h,o=f}const c=ct.lFrame=Rg();return c.currentTNode=a,c.lView=o,!0}function Uu(o){const a=Rg(),u=o[1];ct.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Rg(){const o=ct.lFrame,a=null===o?null:o.child;return null===a?xg(o):a}function xg(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Og(){const o=ct.lFrame;return ct.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Fb=Og;function Mg(){const o=Og();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Or(){return ct.lFrame.selectedIndex}function Bo(o){ct.lFrame.selectedIndex=o}function on(){const o=ct.lFrame;return Ws(o.tView,o.selectedIndex)}function Na(o,a){for(let u=a.directiveStart,c=a.directiveEnd;u<c;u++){const f=o.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:A}=f;_&&(o.contentHooks||(o.contentHooks=[])).push(-u,_),w&&((o.contentHooks||(o.contentHooks=[])).push(u,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,w)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),D&&((o.viewHooks||(o.viewHooks=[])).push(u,D),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,D)),null!=A&&(o.destroyHooks||(o.destroyHooks=[])).push(u,A)}}function Ra(o,a,u){qh(o,a,3,u)}function Gh(o,a,u,c){(3&o[2])===u&&qh(o,a,u,c)}function Bu(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function qh(o,a,u,c){const f=null!=c?c:-1,_=a.length-1;let w=0;for(let I=void 0!==c?65535&o[18]:0;I<_;I++)if("number"==typeof a[I+1]){if(w=a[I],null!=c&&w>=c)break}else a[I]<0&&(o[18]+=65536),(w<f||-1==f)&&(H_(o,u,a,I),o[18]=(4294901760&o[18])+I+2),I++}function H_(o,a,u,c){const h=u[c]<0,f=u[c+1],w=o[h?-u[c]:u[c]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{f.call(w)}finally{}}}else try{f.call(w)}finally{}}class jo{constructor(a,u,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function an(o,a,u){const c=rn(o);let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const _=u[h++],w=u[h++],I=u[h++];c?o.setAttribute(a,w,I,_):a.setAttributeNS(_,w,I)}else{const _=f,w=u[++h];Sc(_)?c&&o.setProperty(a,_,w):c?o.setAttribute(a,_,w):a.setAttribute(_,w),h++}}return h}function Wh(o){return 3===o||4===o||6===o}function Sc(o){return 64===o.charCodeAt(0)}function Kh(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let c=0;c<a.length;c++){const h=a[c];"number"==typeof h?u=h:0===u||Zh(o,u,h,null,-1===u||2===u?a[++c]:null)}}return o}function Zh(o,a,u,c,h){let f=0,_=o.length;if(-1===a)_=-1;else for(;f<o.length;){const w=o[f++];if("number"==typeof w){if(w===a){_=-1;break}if(w>a){_=f-1;break}}}for(;f<o.length;){const w=o[f];if("number"==typeof w)break;if(w===u){if(null===c)return void(null!==h&&(o[f+1]=h));if(c===o[f+1])return void(o[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==_&&(o.splice(_,0,a),f=_+1),o.splice(f++,0,u),null!==c&&o.splice(f++,0,c),null!==h&&o.splice(f++,0,h)}function Pg(o){return-1!==o}function ju(o){return 32767&o}function $u(o,a){let u=function(o){return o>>16}(o),c=a;for(;u>0;)c=c[15],u--;return c}let Hu=!0;function Ac(o){const a=Hu;return Hu=o,a}let ot=0;function eo(o,a){const u=xa(o,a);if(-1!==u)return u;const c=a[1];c.firstCreatePass&&(o.injectorIndex=a.length,Yr(c.data,o),Yr(a,null),Yr(c.blueprint,null));const h=$o(o,a),f=o.injectorIndex;if(Pg(h)){const _=ju(h),w=$u(h,a),I=w[1].data;for(let D=0;D<8;D++)a[f+D]=w[_+D]|I[_+D]}return a[f+8]=h,f}function Yr(o,a){o.push(0,0,0,0,0,0,0,0,a)}function xa(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function $o(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,c=null,h=a;for(;null!==h;){const f=h[1],_=f.type;if(c=2===_?f.declTNode:1===_?h[6]:null,null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function Mr(o,a,u){!function(o,a,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(bn)&&(c=u[bn]),null==c&&(c=u[bn]=ot++);const h=255&c;a.data[o+(h>>5)]|=1<<h}(o,a,u)}function z_(o,a,u){if(u&Se.Optional)return o;oe(a,"NodeInjector")}function Oa(o,a,u,c){if(u&Se.Optional&&void 0===c&&(c=null),0==(u&(Se.Self|Se.Host))){const h=o[9],f=cn(void 0);try{return h?h.get(a,c,u&Se.Optional):Lt(a,c,u&Se.Optional)}finally{cn(f)}}return z_(c,a,u)}function pi(o,a,u,c=Se.Default,h){if(null!==o){const f=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(bn)?o[bn]:void 0;return"number"==typeof a?a>=0?255&a:W_:a}(u);if("function"==typeof f){if(!U_(a,o,c))return c&Se.Host?z_(h,u,c):Oa(a,u,c,h);try{const _=f(c);if(null!=_||c&Se.Optional)return _;oe(u)}finally{Fb()}}else if("number"==typeof f){let _=null,w=xa(o,a),I=-1,D=c&Se.Host?a[16][6]:null;for((-1===w||c&Se.SkipSelf)&&(I=-1===w?$o(o,a):a[w+8],-1!==I&&Gu(c,!1)?(_=a[1],w=ju(I),a=$u(I,a)):w=-1);-1!==w;){const A=a[1];if(K_(f,w,A.data)){const O=xc(w,a,u,_,c,D);if(O!==Fg)return O}I=a[w+8],-1!==I&&Gu(c,a[1].data[w+8]===D)&&K_(f,w,a)?(_=A,w=ju(I),a=$u(I,a)):w=-1}}}return Oa(a,u,c,h)}const Fg={};function W_(){return new gi(Cn(),Ie())}function xc(o,a,u,c,h,f){const _=a[1],w=_.data[o+8],A=Oc(w,_,u,null==c?mc(w)&&Hu:c!=_&&0!=(3&w.type),h&Se.Host&&f===w);return null!==A?Ma(a,_,A,w):Fg}function Oc(o,a,u,c,h){const f=o.providerIndexes,_=a.data,w=1048575&f,I=o.directiveStart,A=f>>20,P=h?w+A:o.directiveEnd;for(let V=c?w:w+A;V<P;V++){const z=_[V];if(V<I&&u===z||V>=I&&z.type===u)return V}if(h){const V=_[I];if(V&&Ri(V)&&V.type===u)return I}return null}function Ma(o,a,u,c){let h=o[u];const f=a.data;if(function(o){return o instanceof jo}(h)){const _=h;_.resolving&&function(o,a){throw new xe("200",`Circular dependency in DI detected for ${o}`)}(dt(f[u]));const w=Ac(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?cn(_.injectImpl):null;U_(o,c,Se.Default);try{h=o[u]=_.factory(void 0,f,o,c),a.firstCreatePass&&u>=c.directiveStart&&function(o,a,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=a.type.prototype;if(c){const _=Du(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,_)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,h),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,f))}(u,f[u],a)}finally{null!==I&&cn(I),Ac(w),_.resolving=!1,Fb()}}return h}function K_(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function Gu(o,a){return!(o&Se.Self||o&Se.Host&&a)}class gi{constructor(a,u){this._tNode=a,this._lView=u}get(a,u){return pi(this._tNode,this._lView,a,void 0,u)}}function Vg(o){return Ye(()=>{const a=o.prototype.constructor,u=a[Wt]||qu(a),c=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==c;){const f=h[Wt]||qu(h);if(f&&f!==u)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function qu(o){return Pe(o)?()=>{const a=qu(te(o));return a&&a()}:gs(o)}function Wi(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const f=u[h];if(Wh(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(f===a)return u[h+1];h+=2}}}return null}(Cn(),o)}const Pa="__parameters__";function Ho(o,a,u){return Ye(()=>{const c=function(o){return function(...u){if(o){const c=o(...u);for(const h in c)this[h]=c[h]}}}(a);function h(...f){if(this instanceof h)return c.apply(this,f),this;const _=new h(...f);return w.annotation=_,w;function w(I,D,A){const O=I.hasOwnProperty(Pa)?I[Pa]:Object.defineProperty(I,Pa,{value:[]})[Pa];for(;O.length<=A;)O.push(null);return(O[A]=O[A]||[]).push(_),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class In{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=un({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ka=new In("AnalyzeForEntryComponents"),Pc=Function;function mi(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let c=o[u];Array.isArray(c)?(a===o&&(a=o.slice(0,u)),mi(c,a)):a!==o&&a.push(c)}return a}function Qr(o,a){o.forEach(u=>Array.isArray(u)?Qr(u,a):a(u))}function kc(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function vs(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function br(o,a,u){let c=hr(o,a);return c>=0?o[1|c]=u:(c=~c,function(o,a,u,c){let h=o.length;if(h==a)o.push(u,c);else if(1===h)o.push(c,o[0]),o[0]=u;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=u,o[a+1]=c}}(o,c,a,u)),c}function zu(o,a){const u=hr(o,a);if(u>=0)return o[1|u]}function hr(o,a){return function(o,a,u){let c=0,h=o.length>>u;for(;h!==c;){const f=c+(h-c>>1),_=o[f<<u];if(a===_)return f<<u;_>a?h=f:c=f+1}return~(h<<u)}(o,a,1)}const qo={},ef="__NG_DI_FLAG__",no="ngTempTokenPath",Vc=/\n/gm,Yu="__source",Ju=j({provide:String,useValue:j});let ro;function zo(o){const a=ro;return ro=o,a}function rv(o,a=Se.Default){if(void 0===ro)throw new Error("inject() must be called from an injection context");return null===ro?Lt(o,void 0,a):ro.get(o,a&Se.Optional?null:void 0,a)}function An(o,a=Se.Default){return(zt||rv)(te(o),a)}function io(o){const a=[];for(let u=0;u<o.length;u++){const c=te(o[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,f=Se.Default;for(let _=0;_<c.length;_++){const w=c[_],I=Kg(w);"number"==typeof I?-1===I?h=w.token:f|=I:h=w}a.push(An(h,f))}else a.push(An(c))}return a}function Va(o,a){return o[ef]=a,o.prototype[ef]=a,o}function Kg(o){return o[ef]}function zn(o,a,u,c){const h=o[no];throw a[Yu]&&h.unshift(a[Yu]),o.message=function(o,a,u,c=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=U(a);if(Array.isArray(a))h=a.map(U).join(" -> ");else if("object"==typeof a){let f=[];for(let _ in a)if(a.hasOwnProperty(_)){let w=a[_];f.push(_+":"+("string"==typeof w?JSON.stringify(w):U(w)))}h=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${o.replace(Vc,"\n  ")}`}("\n"+o.message,h,u,c),o.ngTokenPath=h,o[no]=null,o}const Ua=Va(Ho("Inject",o=>({token:o})),-1),ei=Va(Ho("Optional"),8),so=Va(Ho("SkipSelf"),4);let bs,Ba;function Qi(o){var a;return(null===(a=function(){if(void 0===bs&&(bs=null,L.trustedTypes))try{bs=L.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return bs}())||void 0===a?void 0:a.createHTML(o))||o}function Jg(o){var a;return(null===(a=function(){if(void 0===Ba&&(Ba=null,L.trustedTypes))try{Ba=L.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Ba}())||void 0===a?void 0:a.createHTML(o))||o}class Zo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class av extends Zo{getTypeName(){return"HTML"}}class jb extends Zo{getTypeName(){return"Style"}}class Yo extends Zo{getTypeName(){return"Script"}}class em extends Zo{getTypeName(){return"URL"}}class of extends Zo{getTypeName(){return"ResourceURL"}}function ti(o){return o instanceof Zo?o.changingThisBreaksApplicationSecurity:o}function Pr(o,a){const u=oo(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function oo(o){return o instanceof Zo&&o.getTypeName()||null}function tm(o){return new av(o)}function nm(o){return new jb(o)}function af(o){return new Yo(o)}function Qo(o){return new em(o)}function rm(o){return new of(o)}class Gc{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(Qi(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class im{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Qi(a),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Qi(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(a){const u=a.attributes;for(let h=u.length-1;0<h;h--){const _=u.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&a.removeAttribute(_)}let c=a.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const sm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jo(o){return(o=String(o)).match(sm)||o.match(qc)?o:"unsafe:"+o}function Fi(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function Xo(...o){const a={};for(const u of o)for(const c in u)u.hasOwnProperty(c)&&(a[c]=!0);return a}const zc=Fi("area,br,col,hr,img,wbr"),am=Fi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ol=Fi("rp,rt"),Wc=Xo(zc,Xo(am,Fi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xo(ol,Fi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xo(ol,am)),Kc=Fi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),al=Fi("srcset"),lm=Xo(Kc,al,Fi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ul=Fi("script,style,template");class Zc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Wc.hasOwnProperty(u))return this.sanitizedSomething=!0,!ul.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=a.attributes;for(let h=0;h<c.length;h++){const f=c.item(h),_=f.name,w=_.toLowerCase();if(!lm.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=f.value;Kc[w]&&(I=Jo(I)),al[w]&&(o=I,I=(o=String(o)).split(",").map(a=>Jo(a.trim())).join(", ")),this.buf.push(" ",_,'="',dm(I),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Wc.hasOwnProperty(u)&&!zc.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(dm(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const cm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lf=/([^\#-~ |!])/g;function dm(o){return o.replace(/&/g,"&amp;").replace(cm,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(lf,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ll;function cf(o,a){let u=null;try{ll=ll||function(o){const a=new im(o);return function(){try{return!!(new window.DOMParser).parseFromString(Qi(""),"text/html")}catch(o){return!1}}()?new Gc(a):a}(o);let c=a?String(a):"";u=ll.getInertBodyElement(c);let h=5,f=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=f,f=u.innerHTML,u=ll.getInertBodyElement(c)}while(c!==f);return Qi((new Zc).sanitizeChildren(Yc(u)||u))}finally{if(u){const c=Yc(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Yc(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var en=(()=>((en=en||{})[en.NONE=0]="NONE",en[en.HTML=1]="HTML",en[en.STYLE=2]="STYLE",en[en.SCRIPT=3]="SCRIPT",en[en.URL=4]="URL",en[en.RESOURCE_URL=5]="RESOURCE_URL",en))();function hf(o){const a=ja();return a?Jg(a.sanitize(en.HTML,o)||""):Pr(o,"HTML")?Jg(ti(o)):cf(Nu(),Ve(o))}function yi(o){const a=ja();return a?a.sanitize(en.URL,o)||"":Pr(o,"URL")?ti(o):Jo(Ve(o))}function ja(){const o=Ie();return o&&o[12]}const Xc="__ngContext__";function Zt(o,a){o[Xc]=a}function rr(o){const a=function(o){return o[Xc]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function C(o){return o.ngOriginalError}function M(o,...a){o.error(...a)}class K{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),c=this._findContext(a),h=(o=a)&&o.ngErrorLogger||M;var o;h(this._console,"ERROR",a),u&&h(this._console,"ORIGINAL ERROR",u),c&&h(this._console,"ERROR CONTEXT",c)}_findContext(a){return a?a.ngDebugContext||this._findContext(C(a)):null}_findOriginalError(a){let u=a&&C(a);for(;u&&C(u);)u=C(u);return u||null}}const nd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function Xi(o){return o instanceof Function?o():o}var ao=(()=>((ao=ao||{})[ao.Important=1]="Important",ao[ao.DashCase=2]="DashCase",ao))();function pv(o,a){return undefined(o,a)}function rd(o){const a=o[3];return Ut(a)?a[3]:a}function _m(o){return zb(o[13])}function yv(o){return zb(o[4])}function zb(o){for(;null!==o&&!Ut(o);)o=o[4];return o}function id(o,a,u,c,h){if(null!=c){let f,_=!1;Ut(c)?f=c:Wr(c)&&(_=!0,c=c[0]);const w=sn(c);0===o&&null!==u?null==h?od(a,u,w):uo(a,u,w,h||null,!0):1===o&&null!==u?uo(a,u,w,h||null,!0):2===o?function(o,a,u){const c=bm(o,a);c&&function(o,a,u,c){rn(o)?o.removeChild(a,u,c):a.removeChild(u)}(o,c,a,u)}(a,w,_):3===o&&a.destroyNode(w),null!=f&&function(o,a,u,c,h){const f=u[7];f!==sn(u)&&id(a,o,c,f,h);for(let w=10;w<u.length;w++){const I=u[w];bf(I[1],I,o,a,c,f)}}(a,o,f,u,h)}}function vv(o,a,u){return rn(o)?o.createElement(a,u):null===u?o.createElement(a):o.createElementNS(u,a)}function Kb(o,a){const u=o[9],c=u.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,Oh(h,-1)),u.splice(c,1)}function wv(o,a){if(o.length<=10)return;const u=10+a,c=o[u];if(c){const h=c[17];null!==h&&h!==o&&Kb(h,c),a>0&&(o[u-1][4]=c[4]);const f=vs(o,10+a);!function(o,a){bf(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Zb(o,a){if(!(256&a[2])){const u=a[11];rn(u)&&u.destroyNode&&bf(o,a,u,3,null,null),function(o){let a=o[13];if(!a)return Em(o[1],o);for(;a;){let u=null;if(Wr(a))u=a[13];else{const c=a[10];c&&(u=c)}if(!u){for(;a&&!a[4]&&a!==o;)Wr(a)&&Em(a[1],a),a=a[3];null===a&&(a=o),Wr(a)&&Em(a[1],a),u=a&&a[4]}a=u}}(a)}}function Em(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let c=0;c<u.length;c+=2){const h=a[u[c]];if(!(h instanceof jo)){const f=u[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const w=h[f[_]],I=f[_+1];try{I.call(w)}finally{}}else try{f.call(h)}finally{}}}}(o,a),function(o,a){const u=o.cleanup,c=a[7];let h=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const _=u[f+1],w="function"==typeof _?_(a):sn(a[_]),I=c[h=u[f+2]],D=u[f+3];"boolean"==typeof D?w.removeEventListener(u[f],I,D):D>=0?c[h=D]():c[h=-D].unsubscribe(),f+=2}else{const _=c[h=u[f+1]];u[f].call(_)}if(null!==c){for(let f=h+1;f<c.length;f++)c[f]();a[7]=null}}(o,a),1===a[1].type&&rn(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&Ut(a[3])){u!==a[3]&&Kb(u,a);const c=a[19];null!==c&&c.detachView(o)}}}function Fr(o,a,u){return function(o,a,u){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return u[0];if(2&c.flags){const h=o.data[c.directiveStart].encapsulation;if(h===wn.None||h===wn.Emulated)return null}return Zr(c,u)}(o,a.parent,u)}function uo(o,a,u,c,h){rn(o)?o.insertBefore(a,u,c,h):a.insertBefore(u,c,h)}function od(o,a,u){rn(o)?o.appendChild(a,u):a.appendChild(u)}function wm(o,a,u,c,h){null!==c?uo(o,a,u,c,h):od(o,a,u)}function bm(o,a){return rn(o)?o.parentNode(a):a.parentNode}let bv=function(o,a,u){return 40&o.type?Zr(o,u):null};function wf(o,a,u,c){const h=Fr(o,c,a),f=a[11],w=function(o,a,u){return bv(o,a,u)}(c.parent||a[6],c,a);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)wm(f,h,u[I],w,!1);else wm(f,h,u,w,!1)}function ud(o,a){if(null!==a){const u=a.type;if(3&u)return Zr(a,o);if(4&u)return ia(-1,o[a.index]);if(8&u){const c=a.child;if(null!==c)return ud(o,c);{const h=o[a.index];return Ut(h)?ia(-1,h):sn(h)}}if(32&u)return pv(a,o)()||sn(o[a.index]);{const c=US(o,a);return null!==c?Array.isArray(c)?c[0]:ud(rd(o[16]),c):ud(o,a.next)}}return null}function US(o,a){return null!==a?o[16][6].projection[a.projection]:null}function ia(o,a){const u=10+o+1;if(u<a.length){const c=a[u],h=c[1].firstChild;if(null!==h)return ud(c,h)}return a[7]}function Dv(o,a,u,c,h,f,_){for(;null!=u;){const w=c[u.index],I=u.type;if(_&&0===a&&(w&&Zt(sn(w),c),u.flags|=4),64!=(64&u.flags))if(8&I)Dv(o,a,u.child,c,h,f,!1),id(a,o,h,w,f);else if(32&I){const D=pv(u,c);let A;for(;A=D();)id(a,o,h,A,f);id(a,o,h,w,f)}else 16&I?Sv(o,a,c,u,h,f):id(a,o,h,w,f);u=_?u.projectionNext:u.next}}function bf(o,a,u,c,h,f){Dv(u,c,o.firstChild,a,h,f,!1)}function Sv(o,a,u,c,h,f){const _=u[16],I=_[6].projection[c.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)id(a,o,h,I[D],f);else Dv(o,a,I,_[3],h,f,!0)}function Jb(o,a,u){rn(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function Im(o,a,u){rn(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function Xb(o,a,u){let c=o.length;for(;;){const h=o.indexOf(a,u);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const f=a.length;if(h+f===c||o.charCodeAt(h+f)<=32)return h}u=h+1}}const eC="ng-template";function Av(o,a,u){let c=0;for(;c<o.length;){let h=o[c++];if(u&&"class"===h){if(h=o[c],-1!==Xb(h.toLowerCase(),a,0))return!0}else if(1===h){for(;c<o.length&&"string"==typeof(h=o[c++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function tC(o){return 4===o.type&&o.value!==eC}function HS(o,a,u){return a===(4!==o.type||u?o.value:eC)}function nC(o,a,u){let c=4;const h=o.attrs||[],f=function(o){for(let a=0;a<o.length;a++)if(Wh(o[a]))return a;return o.length}(h);let _=!1;for(let w=0;w<a.length;w++){const I=a[w];if("number"!=typeof I){if(!_)if(4&c){if(c=2|1&c,""!==I&&!HS(o,I,u)||""===I&&1===a.length){if(Cs(c))return!1;_=!0}}else{const D=8&c?I:a[++w];if(8&c&&null!==o.attrs){if(!Av(o.attrs,D,u)){if(Cs(c))return!1;_=!0}continue}const O=Ux(8&c?"class":I,h,tC(o),u);if(-1===O){if(Cs(c))return!1;_=!0;continue}if(""!==D){let P;P=O>f?"":h[O+1].toLowerCase();const V=8&c?P:null;if(V&&-1!==Xb(V,D,0)||2&c&&D!==P){if(Cs(c))return!1;_=!0}}}}else{if(!_&&!Cs(c)&&!Cs(I))return!1;if(_&&Cs(I))continue;_=!1,c=I|1&c}}return Cs(c)||_}function Cs(o){return 0==(1&o)}function Ux(o,a,u,c){if(null===a)return-1;let h=0;if(c||!u){let f=!1;for(;h<a.length;){const _=a[h];if(_===o)return h;if(3===_||6===_)f=!0;else{if(1===_||2===_){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=f?1:2}return-1}return function(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const c=o[u];if("number"==typeof c)return-1;if(c===a)return u;u++}return-1}(a,o)}function rC(o,a,u=!1){for(let c=0;c<a.length;c++)if(nC(o,a[c],u))return!0;return!1}function Is(o,a){return o?":not("+a.trim()+")":a}function qS(o){let a=o[0],u=1,c=2,h="",f=!1;for(;u<o.length;){let _=o[u];if("string"==typeof _)if(2&c){const w=o[++u];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!Cs(_)&&(a+=Is(f,h),h=""),c=_,f=f||!Cs(c);u++}return""!==h&&(a+=Is(f,h)),a}const _t={};function oC(o){Cf(xt(),Ie(),Or()+o,Vo())}function Cf(o,a,u,c){if(!c)if(3==(3&a[2])){const f=o.preOrderCheckHooks;null!==f&&Ra(a,f,u)}else{const f=o.preOrderHooks;null!==f&&Gh(a,f,0,u)}Bo(u)}function Ts(o,a){return o<<17|a<<2}function es(o){return o>>17&32767}function Nv(o){return 2|o}function ts(o){return(131068&o)>>2}function Dm(o,a){return-131069&o|a<<2}function Sm(o){return 1|o}function fC(o,a){const u=o.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],f=u[c+1];if(-1!==f){const _=o.data[f];jh(h),_.contentQueries(2,a[f],f)}}}function Wa(o,a,u,c,h,f,_,w,I,D){const A=a.blueprint.slice();return A[0]=h,A[2]=140|c,Ic(A),A[3]=A[15]=o,A[8]=u,A[10]=_||o&&o[10],A[11]=w||o&&o[11],A[12]=I||o&&o[12]||null,A[9]=D||o&&o[9]||null,A[6]=f,A[16]=2==a.type?o[16]:A,A}function sa(o,a,u,c,h){let f=o.data[a];if(null===f)f=function(o,a,u,c,h){const f=Sg(),_=kh(),I=o.data[a]=function(o,a,u,c,h,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,u,a,c,h);return null===o.firstChild&&(o.firstChild=I),null!==f&&(_?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I)),I}(o,a,u,c,h),ct.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=h;const _=function(){const o=ct.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return hi(f,!0),f}function Ka(o,a,u,c){if(0===u)return-1;const h=a.length;for(let f=0;f<u;f++)a.push(c),o.blueprint.push(c),o.data.push(null);return h}function Za(o,a,u){Uu(a);try{const c=o.viewQuery;null!==c&&Jv(1,c,u);const h=o.template;null!==h&&Lv(o,a,h,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&fC(o,a),o.staticViewQueries&&Jv(2,o.viewQuery,u);const f=o.components;null!==f&&function(o,a){for(let u=0;u<a.length;u++)EC(o,a[u])}(a,f)}catch(c){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),c}finally{a[2]&=-5,Mg()}}function cd(o,a,u,c){const h=a[2];if(256==(256&h))return;Uu(a);const f=Vo();try{Ic(a),function(o){ct.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Lv(o,a,u,2,c);const _=3==(3&h);if(!f)if(_){const D=o.preOrderCheckHooks;null!==D&&Ra(a,D,null)}else{const D=o.preOrderHooks;null!==D&&Gh(a,D,0,null),Bu(a,0)}if(function(o){for(let a=_m(o);null!==a;a=yv(a)){if(!a[2])continue;const u=a[9];for(let c=0;c<u.length;c++){const h=u[c],f=h[3];0==(1024&h[2])&&Oh(f,1),h[2]|=1024}}}(a),function(o){for(let a=_m(o);null!==a;a=yv(a))for(let u=10;u<a.length;u++){const c=a[u],h=c[1];Mu(c)&&cd(h,c,h.template,c[8])}}(a),null!==o.contentQueries&&fC(o,a),!f)if(_){const D=o.contentCheckHooks;null!==D&&Ra(a,D)}else{const D=o.contentHooks;null!==D&&Gh(a,D,1),Bu(a,1)}!function(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)Bo(~h);else{const f=h,_=u[++c],w=u[++c];Vh(_,f),w(2,a[f])}}}finally{Bo(-1)}}(o,a);const w=o.components;null!==w&&function(o,a){for(let u=0;u<a.length;u++)mA(o,a[u])}(a,w);const I=o.viewQuery;if(null!==I&&Jv(2,I,c),!f)if(_){const D=o.viewCheckHooks;null!==D&&Ra(a,D)}else{const D=o.viewHooks;null!==D&&Gh(a,D,2),Bu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),f||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Oh(a[3],-1))}finally{Mg()}}function sA(o,a,u,c){const h=a[10],f=!Vo(),_=Ou(a);try{f&&!_&&h.begin&&h.begin(),_&&Za(o,a,c),cd(o,a,u,c)}finally{f&&!_&&h.end&&h.end()}}function Lv(o,a,u,c,h){const f=Or(),_=2&c;try{Bo(-1),_&&a.length>20&&Cf(o,a,20,Vo()),u(c,h)}finally{Bo(f)}}function pC(o,a,u){if(Tu(a)){const h=a.directiveEnd;for(let f=a.directiveStart;f<h;f++){const _=o.data[f];_.contentQueries&&_.contentQueries(1,u[f],f)}}}function Pm(o,a,u){!Mh()||(function(o,a,u,c){const h=u.directiveStart,f=u.directiveEnd;o.firstCreatePass||eo(u,a),Zt(c,a);const _=u.initialInputs;for(let w=h;w<f;w++){const I=o.data[w],D=Ri(I);D&&fA(a,u,I);const A=Ma(a,o,w,u);Zt(A,a),null!==_&&Wx(0,w-h,A,I,0,_),D&&(wr(u.index,a)[8]=A)}}(o,a,u,Zr(u,a)),128==(128&u.flags)&&function(o,a,u){const c=u.directiveStart,h=u.directiveEnd,_=u.index,w=ct.lFrame.currentDirectiveIndex;try{Bo(_);for(let I=c;I<h;I++){const D=o.data[I],A=a[I];Vu(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&pd(D,A)}}finally{Bo(-1),Vu(w)}}(o,a,u))}function Vv(o,a,u=Zr){const c=a.localNames;if(null!==c){let h=a.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],w=-1===_?u(a,o):o[_];o[h++]=w}}}function oA(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=km(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function km(o,a,u,c,h,f,_,w,I,D){const A=20+c,O=A+h,P=function(o,a){const u=[];for(let c=0;c<a;c++)u.push(c<o?null:_t);return u}(A,O),V="function"==typeof D?D():D;return P[1]={type:o,blueprint:P,template:u,queries:null,viewQuery:w,declTNode:a,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:V,incompleteFirstPass:!1}}function Sf(o,a,u,c){const h=Um(a);null===u?h.push(c):(h.push(u),o.firstCreatePass&&Xv(o).push(c,h.length-1))}function dd(o,a,u){for(let c in o)if(o.hasOwnProperty(c)){const h=o[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(a,h):u[c]=[a,h]}return u}function Ir(o,a,u,c,h,f,_,w){const I=Zr(a,u);let A,D=a.inputs;!w&&null!=D&&(A=D[c])?(IC(o,u,A,c,h),mc(a)&&function(o,a){const u=wr(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(c=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(c),h=null!=_?_(h,a.value||"",c):h,rn(f)?f.setProperty(I,c,h):Sc(c)||(I.setProperty?I.setProperty(c,h):I[c]=h))}function Ya(o,a,u,c){let h=!1;if(Mh()){const f=function(o,a,u){const c=o.directiveRegistry;let h=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];rC(u,_.selectors,!1)&&(h||(h=[]),Mr(eo(u,a),o,_.type),Ri(_)?(qv(o,u),h.unshift(_)):h.push(_))}return h}(o,a,u),_=null===c?null:{"":-1};if(null!==f){h=!0,dA(u,o.data.length,f.length);for(let A=0;A<f.length;A++){const O=f[A];O.providersResolver&&O.providersResolver(O)}let w=!1,I=!1,D=Ka(o,a,f.length,null);for(let A=0;A<f.length;A++){const O=f[A];u.mergedAttrs=Kh(u.mergedAttrs,O.hostAttrs),hA(o,u,a,D,O),zx(D,O,_),null!==O.contentQueries&&(u.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(u.flags|=128);const P=O.type.prototype;!w&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),w=!0),!I&&(P.ngOnChanges||P.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),D++}!function(o,a){const c=a.directiveEnd,h=o.data,f=a.attrs,_=[];let w=null,I=null;for(let D=a.directiveStart;D<c;D++){const A=h[D],O=A.inputs,P=null===f||tC(a)?null:_C(O,f);_.push(P),w=dd(O,D,w),I=dd(A.outputs,D,I)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=_,a.inputs=w,a.outputs=I}(o,u)}_&&function(o,a,u){if(a){const c=o.localNames=[];for(let h=0;h<a.length;h+=2){const f=u[a[h+1]];if(null==f)throw new xe("301",`Export of name '${a[h+1]}' not found!`);c.push(a[h],f)}}}(u,c,_)}return u.mergedAttrs=Kh(u.mergedAttrs,u.attrs),h}function fd(o,a,u,c,h,f){const _=f.hostBindings;if(_){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const I=~a.index;(function(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(w)!=I&&w.push(I),w.push(c,h,_)}}function pd(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function qv(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function zx(o,a,u){if(u){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)u[a.exportAs[c]]=o;Ri(a)&&(u[""]=o)}}function dA(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function hA(o,a,u,c,h){o.data[c]=h;const f=h.factory||(h.factory=gs(h.type)),_=new jo(f,Ri(h),null);o.blueprint[c]=_,u[c]=_,fd(o,a,0,c,Ka(o,u,h.hostVars,_t),h)}function fA(o,a,u){const c=Zr(a,o),h=oA(u),f=o[10],_=Af(o,Wa(o,h,null,u.onPush?64:16,c,a,f,f.createRenderer(c,u),null,null));o[a.index]=_}function Ss(o,a,u,c,h,f){const _=Zr(o,a);!function(o,a,u,c,h,f,_){if(null==f)rn(o)?o.removeAttribute(a,h,u):a.removeAttribute(h);else{const w=null==_?Ve(f):_(f,c||"",h);rn(o)?o.setAttribute(a,h,w,u):u?a.setAttributeNS(u,h,w):a.setAttribute(h,w)}}(a[11],_,f,o.value,u,c,h)}function Wx(o,a,u,c,h,f){const _=f[a];if(null!==_){const w=c.setInput;for(let I=0;I<_.length;){const D=_[I++],A=_[I++],O=_[I++];null!==w?c.setInput(u,O,D,A):u[A]=O}}}function _C(o,a){let u=null,c=0;for(;c<a.length;){const h=a[c];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,o[h],a[c+1])),c+=2}else c+=2;else c+=4}return u}function Wv(o,a,u,c){return new Array(o,!0,!1,a,null,0,c,u,null,null)}function mA(o,a){const u=wr(a,o);if(Mu(u)){const c=u[1];80&u[2]?cd(c,u,c.template,u[8]):u[5]>0&&vC(u)}}function vC(o){for(let c=_m(o);null!==c;c=yv(c))for(let h=10;h<c.length;h++){const f=c[h];if(1024&f[2]){const _=f[1];cd(_,f,_.template,f[8])}else f[5]>0&&vC(f)}const u=o[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=wr(u[c],o);Mu(h)&&h[5]>0&&vC(h)}}function EC(o,a){const u=wr(a,o),c=u[1];(function(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(c,u),Za(c,u,u[8])}function Af(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Zv(o){for(;o;){o[2]|=64;const a=rd(o);if(Ih(o)&&!a)return o;o=a}return null}function Yv(o,a,u){const c=a[10];c.begin&&c.begin();try{cd(o,a,o.template,u)}catch(h){throw Bm(a,h),h}finally{c.end&&c.end()}}function Qv(o){!function(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],c=rr(u),h=c[1];sA(h,c,h.template,u)}}(o[8])}function Jv(o,a,u){jh(0),a(o,u)}const vA=(()=>Promise.resolve(null))();function Um(o){return o[7]||(o[7]=[])}function Xv(o){return o.cleanup||(o.cleanup=[])}function Bm(o,a){const u=o[9],c=u?u.get(K,null):null;c&&c.handleError(a)}function IC(o,a,u,c,h){for(let f=0;f<u.length;){const _=u[f++],w=u[f++],I=a[_],D=o.data[_];null!==D.setInput?D.setInput(I,h,c,w):I[w]=h}}function co(o,a,u){const c=Ru(a,o);!function(o,a,u){rn(o)?o.setValue(a,u):a.textContent=u}(o[11],c,u)}function jm(o,a,u){let c=u?o.styles:null,h=u?o.classes:null,f=0;if(null!==a)for(let _=0;_<a.length;_++){const w=a[_];"number"==typeof w?f=w:1==f?h=W(h,w):2==f&&(c=W(c,w+": "+a[++_]+";"))}u?o.styles=c:o.stylesWithoutHost=c,u?o.classes=h:o.classesWithoutHost=h}const _l=new In("INJECTOR",-1);class TC{get(a,u=qo){if(u===qo){const c=new Error(`NullInjectorError: No provider for ${U(a)}!`);throw c.name="NullInjectorError",c}return u}}const $m=new In("Set Injector scope."),vl={},wA={};let Hm;function tE(){return void 0===Hm&&(Hm=new TC),Hm}function nE(o,a=null,u=null,c){return new CA(o,u,a||tE(),c)}class CA{constructor(a,u,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&Qr(u,w=>this.processProvider(w,a,u)),Qr([a],w=>this.processInjectorType(w,[],f)),this.records.set(_l,El(void 0,this));const _=this.records.get($m);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof a?null:U(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=qo,c=Se.Default){this.assertNotDestroyed();const h=zo(this),f=cn(void 0);try{if(!(c&Se.SkipSelf)){let w=this.records.get(a);if(void 0===w){const I=("function"==typeof(o=a)||"object"==typeof o&&o instanceof In)&&Rr(a);w=I&&this.injectableDefInScope(I)?El(Gm(a),vl):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(c&Se.Self?tE():this.parent).get(a,u=c&Se.Optional&&u===qo?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[no]=_[no]||[]).unshift(U(a)),h)throw _;return zn(_,a,"R3InjectorError",this.source)}throw _}finally{cn(f),zo(h)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((c,h)=>a.push(U(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,u,c){if(!(a=te(a)))return!1;let h=hs(a);const f=null==h&&a.ngModule||void 0,_=void 0===f?a:f,w=-1!==c.indexOf(_);if(void 0!==f&&(h=hs(f)),null==h)return!1;if(null!=h.imports&&!w){let A;c.push(_);try{Qr(h.imports,O=>{this.processInjectorType(O,u,c)&&(void 0===A&&(A=[]),A.push(O))})}finally{}if(void 0!==A)for(let O=0;O<A.length;O++){const{ngModule:P,providers:V}=A[O];Qr(V,z=>this.processProvider(z,P,V||Te))}}this.injectorDefTypes.add(_);const I=gs(_)||(()=>new _);this.records.set(_,El(I,vl));const D=h.providers;if(null!=D&&!w){const A=a;Qr(D,O=>this.processProvider(O,A,D))}return void 0!==f&&void 0!==a.providers}processProvider(a,u,c){let h=wl(a=te(a))?a:te(a&&a.provide);const f=DC(o=a)?El(void 0,o.useValue):El(qm(o),vl);var o;if(wl(a)||!0!==a.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=El(void 0,vl,!0),_.factory=()=>io(_.multi),this.records.set(h,_)),h=a,_.multi.push(a)}this.records.set(h,f)}hydrate(a,u){return u.value===vl&&(u.value=wA,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(o=u.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const u=te(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Gm(o){const a=Rr(o),u=null!==a?a.factory:gs(o);if(null!==u)return u;if(o instanceof In)throw new Error(`Token ${U(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const c=function(o,a){const u=[];for(let c=0;c<o;c++)u.push(a);return u}(a,"?");throw new Error(`Can't resolve all parameters for ${U(o)}: (${c.join(", ")}).`)}const u=function(o){const a=o&&(o[Hn]||o[Hs]);if(a){const u=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Error("unreachable")}function qm(o,a,u){let c;if(wl(o)){const h=te(o);return gs(h)||Gm(h)}if(DC(o))c=()=>te(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))c=()=>o.useFactory(...io(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))c=()=>An(te(o.useExisting));else{const h=te(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return gs(h)||Gm(h);c=()=>new h(...io(o.deps))}return c}function El(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function DC(o){return null!==o&&"object"==typeof o&&Ju in o}function wl(o){return"function"==typeof o}const NA=function(o,a,u){return function(o,a=null,u=null,c){const h=nE(o,a,u,c);return h._resolveInjectorDefTypes(),h}({name:u},a,o,u)};let pn=(()=>{class o{static create(u,c){return Array.isArray(u)?NA(u,c,""):NA(u.providers,u.parent,u.name||"")}}return o.THROW_IF_NOT_FOUND=qo,o.NULL=new TC,o.\u0275prov=un({token:o,providedIn:"any",factory:()=>An(_l)}),o.__NG_ELEMENT_ID__=-1,o})();function HC(o,a){Na(rr(o)[1],Cn())}function Rf(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const c=[o];for(;a;){let h;if(Ri(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");h=a.\u0275dir}if(h){if(u){c.push(h);const _=o;_.inputs=Jm(o.inputs),_.declaredInputs=Jm(o.declaredInputs),_.outputs=Jm(o.outputs);const w=h.hostBindings;w&&ri(o,w);const I=h.viewQuery,D=h.contentQueries;if(I&&ni(o,I),D&&fE(o,D),G(o.inputs,h.inputs),G(o.declaredInputs,h.declaredInputs),G(o.outputs,h.outputs),Ri(h)&&h.data.animation){const A=o.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let _=0;_<f.length;_++){const w=f[_];w&&w.ngInherit&&w(o),w===Rf&&(u=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,u=null;for(let c=o.length-1;c>=0;c--){const h=o[c];h.hostVars=a+=h.hostVars,h.hostAttrs=Kh(h.hostAttrs,u=Kh(u,h.hostAttrs))}}(c)}function Jm(o){return o===Y?{}:o===Te?[]:o}function ni(o,a){const u=o.viewQuery;o.viewQuery=u?(c,h)=>{a(c,h),u(c,h)}:a}function fE(o,a){const u=o.contentQueries;o.contentQueries=u?(c,h,f)=>{a(c,h,f),u(c,h,f)}:a}function ri(o,a){const u=o.hostBindings;o.hostBindings=u?(c,h)=>{a(c,h),u(c,h)}:a}let xf=null;function Cl(){if(!xf){const o=L.Symbol;if(o&&o.iterator)xf=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const c=a[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(xf=c)}}}return xf}class Vi{constructor(a){this.wrapped=a}static wrap(a){return new Vi(a)}static unwrap(a){return Vi.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof Vi}}function Of(o){return!!Xm(o)&&(Array.isArray(o)||!(o instanceof Map)&&Cl()in o)}function Xm(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Vr(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Mf(o,a,u,c){const h=Ie();return Vr(h,Qs(),a)&&(xt(),Ss(on(),h,o,a,u,c)),Mf}function yE(o,a,u,c,h,f,_,w){const I=Ie(),D=xt(),A=o+20,O=D.firstCreatePass?function(o,a,u,c,h,f,_,w,I){const D=a.consts,A=sa(a,o,4,_||null,Ks(D,w));Ya(a,u,A,Ks(D,I)),Na(a,A);const O=A.tViews=km(2,A,c,h,f,a.directiveRegistry,a.pipeRegistry,null,a.schemas,D);return null!==a.queries&&(a.queries.template(a,A),O.queries=a.queries.embeddedTView(A)),A}(A,D,I,a,u,c,h,f,_):D.data[A];hi(O,!1);const P=I[11].createComment("");wf(D,I,P,O),Zt(P,I),Af(I,I[A]=Wv(P,I,P,O)),Kr(O)&&Pm(D,I,O),null!=_&&Vv(I,O,w)}function Id(o,a=Se.Default){const u=Ie();return null===u?An(o,a):pi(Cn(),u,te(o),a)}function Uf(o,a,u){const c=Ie();return Vr(c,Qs(),a)&&Ir(xt(),on(),c,o,a,c[11],u,!1),Uf}function Bf(o,a,u,c,h){const _=h?"class":"style";IC(o,u,a.inputs[_],_,c)}function Td(o,a,u,c){const h=Ie(),f=xt(),_=20+o,w=h[11],I=h[_]=vv(w,a,ct.lFrame.currentNamespace),D=f.firstCreatePass?function(o,a,u,c,h,f,_){const w=a.consts,D=sa(a,o,2,h,Ks(w,f));return Ya(a,u,D,Ks(w,_)),null!==D.attrs&&jm(D,D.attrs,!1),null!==D.mergedAttrs&&jm(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(_,f,h,0,a,u,c):f.data[_];hi(D,!0);const A=D.mergedAttrs;null!==A&&an(w,I,A);const O=D.classes;null!==O&&Im(w,I,O);const P=D.styles;null!==P&&Jb(w,I,P),64!=(64&D.flags)&&wf(f,h,I,D),0===ct.lFrame.elementDepthCount&&Zt(I,h),ct.lFrame.elementDepthCount++,Kr(D)&&(Pm(f,h,D),pC(f,D,h)),null!==c&&Vv(h,D)}function Nl(){let o=Cn();kh()?Zs():(o=o.parent,hi(o,!1));const a=o;ct.lFrame.elementDepthCount--;const u=xt();u.firstCreatePass&&(Na(u,o),Tu(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&Bf(u,a,Ie(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&Bf(u,a,Ie(),a.stylesWithoutHost,!1)}function OE(o,a,u,c){Td(o,a,u,c),Nl()}function Dd(o,a,u){const c=Ie(),h=xt(),f=o+20,_=h.firstCreatePass?function(o,a,u,c,h){const f=a.consts,_=Ks(f,c),w=sa(a,o,8,"ng-container",_);return null!==_&&jm(w,_,!0),Ya(a,u,w,Ks(f,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(f,h,c,a,u):h.data[f];hi(_,!0);const w=c[f]=c[11].createComment("");wf(h,c,w,_),Zt(w,c),Kr(_)&&(Pm(h,c,_),pC(h,_,c)),null!=u&&Vv(c,_)}function jf(){let o=Cn();const a=xt();kh()?Zs():(o=o.parent,hi(o,!1)),a.firstCreatePass&&(Na(a,o),Tu(o)&&a.queries.elementEnd(o))}function PE(){return Ie()}function cy(o){return!!o&&"function"==typeof o.then}function lI(o){return!!o&&"function"==typeof o.subscribe}const Rl=lI;function dy(o,a,u,c){const h=Ie(),f=xt(),_=Cn();return function(o,a,u,c,h,f,_,w){const I=Kr(c),A=o.firstCreatePass&&Xv(o),O=a[8],P=Um(a);let V=!0;if(3&c.type||w){const J=Zr(c,a),Oe=w?w(J):J,we=P.length,Xe=w?lt=>w(sn(lt[c.index])):c.index;if(rn(u)){let lt=null;if(!w&&I&&(lt=function(o,a,u,c){const h=o.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const _=h[f];if(_===u&&h[f+1]===c){const w=a[7],I=h[f+2];return w.length>I?w[I]:null}"string"==typeof _&&(f+=2)}return null}(o,a,h,c.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=f,lt.__ngLastListenerFn__=f,V=!1;else{f=kE(c,a,O,f,!1);const Tt=u.listen(Oe,h,f);P.push(f,Tt),A&&A.push(h,Xe,we,we+1)}}else f=kE(c,a,O,f,!0),Oe.addEventListener(h,f,_),P.push(f),A&&A.push(h,Xe,we,_)}else f=kE(c,a,O,f,!1);const z=c.outputs;let ue;if(V&&null!==z&&(ue=z[h])){const J=ue.length;if(J)for(let Oe=0;Oe<J;Oe+=2){const er=a[ue[Oe]][ue[Oe+1]].subscribe(f),Di=P.length;P.push(f,er),A&&A.push(h,c.index,Di,-(Di+1))}}}(f,h,h[11],_,o,a,!!u,c),dy}function hy(o,a,u,c){try{return!1!==u(c)}catch(h){return Bm(o,h),!1}}function kE(o,a,u,c,h){return function f(_){if(_===Function)return c;const w=2&o.flags?wr(o.index,a):a;0==(32&a[2])&&Zv(w);let I=hy(a,0,c,_),D=f.__ngNextListenerFn__;for(;D;)I=hy(a,0,D,_)&&I,D=D.__ngNextListenerFn__;return h&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function fy(o=1){return function(o){return(ct.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,ct.lFrame.contextLView))[8]}(o)}function Ad(o,a,u,c,h){const f=o[u+1],_=null===a;let w=c?es(f):ts(f),I=!1;for(;0!==w&&(!1===I||_);){const A=o[w+1];BA(o[w],a)&&(I=!0,o[w+1]=c?Sm(A):Nv(A)),w=c?es(A):ts(A)}I&&(o[u+1]=c?Nv(f):Sm(f))}function BA(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&hr(o,a)>=0}const Wn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cI(o){return o.substring(Wn.key,Wn.keyEnd)}function dI(o,a){const u=Wn.textEnd;return u===a?-1:(a=Wn.keyEnd=function(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,Wn.key=a,u),Ol(o,a,u))}function Ol(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function py(o,a,u){return Ui(o,a,u,!1),py}function gy(o,a){return Ui(o,a,null,!0),gy}function HE(o){!function(o,a,u,c){const h=xt(),f=ms(2);h.firstUpdatePass&&gI(h,null,f,c);const _=Ie();if(u!==_t&&Vr(_,f,u)){const w=h.data[Or()];if(_I(w,c)&&!pI(h,f)){let I=c?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(u=W(I,u||"")),Bf(h,w,_,u,c)}else!function(o,a,u,c,h,f,_,w){h===_t&&(h=Te);let I=0,D=0,A=0<h.length?h[0]:null,O=0<f.length?f[0]:null;for(;null!==A||null!==O;){const P=I<h.length?h[I+1]:void 0,V=D<f.length?f[D+1]:void 0;let ue,z=null;A===O?(I+=2,D+=2,P!==V&&(z=O,ue=V)):null===O||null!==A&&A<O?(I+=2,z=A):(D+=2,z=O,ue=V),null!==z&&qE(o,a,u,c,z,ue,_,w),A=I<h.length?h[I]:null,O=D<f.length?f[D]:null}}(h,w,_,_[11],_[f+1],_[f+1]=function(o,a,u){if(null==u||""===u)return Te;const c=[],h=ti(u);if(Array.isArray(h))for(let f=0;f<h.length;f++)o(c,h[f],!0);else if("object"==typeof h)for(const f in h)h.hasOwnProperty(f)&&o(c,f,h[f]);else"string"==typeof h&&a(c,h);return c}(o,a,u),c,f)}}(br,As,o,!0)}function As(o,a){for(let u=function(o){return function(o){Wn.key=0,Wn.keyEnd=0,Wn.value=0,Wn.valueEnd=0,Wn.textEnd=o.length}(o),dI(o,Ol(o,0,Wn.textEnd))}(a);u>=0;u=dI(a,u))br(o,cI(a),!0)}function Ui(o,a,u,c){const h=Ie(),f=xt(),_=ms(2);f.firstUpdatePass&&gI(f,o,_,c),a!==_t&&Vr(h,_,a)&&qE(f,f.data[Or()],h,h[11],o,h[_+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=U(ti(o)))),o}(a,u),c,_)}function pI(o,a){return a>=o.expandoStartIndex}function gI(o,a,u,c){const h=o.data;if(null===h[u+1]){const f=h[Or()],_=pI(o,u);_I(f,c)&&null===a&&!_&&(a=!1),a=function(o,a,u,c){const h=Bh(o);let f=c?a.residualClasses:a.residualStyles;if(null===h)0===(c?a.classBindings:a.styleBindings)&&(u=la(u=_y(null,o,a,u,c),a.attrs,c),f=null);else{const _=a.directiveStylingLast;if(-1===_||o[_]!==h)if(u=_y(h,o,a,u,c),null===f){let I=function(o,a,u){const c=u?a.classBindings:a.styleBindings;if(0!==ts(c))return o[es(c)]}(o,a,c);void 0!==I&&Array.isArray(I)&&(I=_y(null,o,a,I[1],c),I=la(I,a.attrs,c),function(o,a,u,c){o[es(u?a.classBindings:a.styleBindings)]=c}(o,a,c,I))}else f=function(o,a,u){let c;const h=a.directiveEnd;for(let f=1+a.directiveStylingLast;f<h;f++)c=la(c,o[f].hostAttrs,u);return la(c,a.attrs,u)}(o,a,c)}return void 0!==f&&(c?a.residualClasses=f:a.residualStyles=f),u}(h,f,a,c),function(o,a,u,c,h,f){let _=f?a.classBindings:a.styleBindings,w=es(_),I=ts(_);o[c]=u;let A,D=!1;if(Array.isArray(u)){const O=u;A=O[1],(null===A||hr(O,A)>0)&&(D=!0)}else A=u;if(h)if(0!==I){const P=es(o[w+1]);o[c+1]=Ts(P,w),0!==P&&(o[P+1]=Dm(o[P+1],c)),o[w+1]=function(o,a){return 131071&o|a<<17}(o[w+1],c)}else o[c+1]=Ts(w,0),0!==w&&(o[w+1]=Dm(o[w+1],c)),w=c;else o[c+1]=Ts(I,0),0===w?w=c:o[I+1]=Dm(o[I+1],c),I=c;D&&(o[c+1]=Nv(o[c+1])),Ad(o,A,c,!0),Ad(o,A,c,!1),function(o,a,u,c,h){const f=h?o.residualClasses:o.residualStyles;null!=f&&"string"==typeof a&&hr(f,a)>=0&&(u[c+1]=Sm(u[c+1]))}(a,A,o,c,f),_=Ts(w,I),f?a.classBindings=_:a.styleBindings=_}(h,f,a,u,_,c)}}function _y(o,a,u,c,h){let f=null;const _=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<_&&(f=a[w],c=la(c,f.hostAttrs,h),f!==o);)w++;return null!==o&&(u.directiveStylingLast=w),c}function la(o,a,u){const c=u?1:2;let h=-1;if(null!==a)for(let f=0;f<a.length;f++){const _=a[f];"number"==typeof _?h=_:h===c&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),br(o,_,!!u||a[++f]))}return void 0===o?null:o}function qE(o,a,u,c,h,f,_,w){if(!(3&a.type))return;const I=o.data,D=I[w+1];vy(function(o){return 1==(1&o)}(D)?yI(I,a,u,h,ts(D),_):void 0)||(vy(f)||function(o){return 2==(2&o)}(D)&&(f=yI(I,null,u,h,w,_)),function(o,a,u,c,h){const f=rn(o);if(a)h?f?o.addClass(u,c):u.classList.add(c):f?o.removeClass(u,c):u.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:ao.DashCase;if(null==h)f?o.removeStyle(u,c,_):u.style.removeProperty(c);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),_|=ao.Important),f?o.setStyle(u,c,h,_):u.style.setProperty(c,h,w?"important":"")}}}(c,_,Ru(Or(),u),h,f))}function yI(o,a,u,c,h,f){const _=null===a;let w;for(;h>0;){const I=o[h],D=Array.isArray(I),A=D?I[1]:I,O=null===A;let P=u[h+1];P===_t&&(P=O?Te:void 0);let V=O?zu(P,c):A===c?P:void 0;if(D&&!vy(V)&&(V=zu(I,c)),vy(V)&&(w=V,_))return w;const z=o[h+1];h=_?es(z):ts(z)}if(null!==a){let I=f?a.residualClasses:a.residualStyles;null!=I&&(w=zu(I,c))}return w}function vy(o){return void 0!==o}function _I(o,a){return 0!=(o.flags&(a?16:32))}function zE(o,a=""){const u=Ie(),c=xt(),h=o+20,f=c.firstCreatePass?sa(c,h,1,a,null):c.data[h],_=u[h]=function(o,a){return rn(o)?o.createText(a):o.createTextNode(a)}(u[11],a);wf(c,u,_,f),hi(f,!1)}function Ey(o){return Jf("",o,""),Ey}function Jf(o,a,u){const c=Ie(),h=function(o,a,u,c){return Vr(o,Qs(),u)?a+Ve(u)+c:_t}(c,o,a,u);return h!==_t&&co(c,Or(),h),Jf}function Ty(o,a,u){const c=Ie();return Vr(c,Qs(),a)&&Ir(xt(),on(),c,o,a,c[11],u,!0),Ty}function xd(o,a,u){const c=Ie();if(Vr(c,Qs(),a)){const f=xt(),_=on();Ir(f,_,c,o,a,function(o,a,u){return(null===o||Ri(o))&&(u=function(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[a.index])),u[11]}(Bh(f.data),_,c),u,!0)}return xd}const ru=void 0;var ow=["en",[["a","p"],["AM","PM"],ru],[["AM","PM"],ru,ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ru,"{1} 'at' {0}",ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let kl={};function Sy(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=pr(a);if(u)return u;const c=a.split("-")[0];if(u=pr(c),u)return u;if("en"===c)return ow;throw new Error(`Missing locale data for the locale "${o}".`)}function zA(o){return Sy(o)[Je.PluralCase]}function pr(o){return o in kl||(kl[o]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[o]),kl[o]}var Je=(()=>((Je=Je||{})[Je.LocaleId=0]="LocaleId",Je[Je.DayPeriodsFormat=1]="DayPeriodsFormat",Je[Je.DayPeriodsStandalone=2]="DayPeriodsStandalone",Je[Je.DaysFormat=3]="DaysFormat",Je[Je.DaysStandalone=4]="DaysStandalone",Je[Je.MonthsFormat=5]="MonthsFormat",Je[Je.MonthsStandalone=6]="MonthsStandalone",Je[Je.Eras=7]="Eras",Je[Je.FirstDayOfWeek=8]="FirstDayOfWeek",Je[Je.WeekendRange=9]="WeekendRange",Je[Je.DateFormat=10]="DateFormat",Je[Je.TimeFormat=11]="TimeFormat",Je[Je.DateTimeFormat=12]="DateTimeFormat",Je[Je.NumberSymbols=13]="NumberSymbols",Je[Je.NumberFormats=14]="NumberFormats",Je[Je.CurrencyCode=15]="CurrencyCode",Je[Je.CurrencySymbol=16]="CurrencySymbol",Je[Je.CurrencyName=17]="CurrencyName",Je[Je.Currencies=18]="Currencies",Je[Je.Directionality=19]="Directionality",Je[Je.PluralCase=20]="PluralCase",Je[Je.ExtraData=21]="ExtraData",Je))();const Nn="en-US";let Be=Nn;function he(o){vn(o,"Expected localeId to be defined"),"string"==typeof o&&(Be=o.toLowerCase().replace(/_/g,"-"))}function fp(o,a,u,c,h){if(o=te(o),Array.isArray(o))for(let f=0;f<o.length;f++)fp(o[f],a,u,c,h);else{const f=xt(),_=Ie();let w=wl(o)?o:te(o.provide),I=qm(o);const D=Cn(),A=1048575&D.providerIndexes,O=D.directiveStart,P=D.providerIndexes>>20;if(wl(o)||!o.multi){const V=new jo(I,h,Id),z=au(w,a,h?A:A+P,O);-1===z?(Mr(eo(D,_),f,w),pp(f,o,a.length),a.push(w),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),u.push(V),_.push(V)):(u[z]=V,_[z]=V)}else{const V=au(w,a,A+P,O),z=au(w,a,A,A+P),ue=V>=0&&u[V],J=z>=0&&u[z];if(h&&!J||!h&&!ue){Mr(eo(D,_),f,w);const Oe=function(o,a,u,c,h){const f=new jo(o,u,Id);return f.multi=[],f.index=a,f.componentProviders=0,Py(f,h,c&&!u),f}(h?qI:is,u.length,h,c,I);!h&&J&&(u[z].providerFactory=Oe),pp(f,o,a.length,0),a.push(w),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),u.push(Oe),_.push(Oe)}else pp(f,o,V>-1?V:z,Py(u[h?z:V],I,!h&&c));!h&&c&&J&&u[z].componentProviders++}}}function pp(o,a,u,c){const h=wl(a);if(h||function(o){return!!o.useClass}(a)){const _=(a.useClass||a).prototype.ngOnDestroy;if(_){const w=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const I=w.indexOf(u);-1===I?w.push(u,[c,_]):w[I+1].push(c,_)}else w.push(u,_)}}}function Py(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function au(o,a,u,c){for(let h=u;h<c;h++)if(a[h]===o)return h;return-1}function is(o,a,u,c){return Ul(this.multi,[])}function qI(o,a,u,c){const h=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Ma(u,u[1],this.providerFactory.index,c);f=w.slice(0,_),Ul(h,f);for(let I=_;I<w.length;I++)f.push(w[I])}else f=[],Ul(h,f);return f}function Ul(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function ky(o,a=[]){return u=>{u.providersResolver=(c,h)=>function(o,a,u){const c=xt();if(c.firstCreatePass){const h=Ri(o);fp(u,c.data,c.blueprint,h,!0),fp(a,c.data,c.blueprint,h,!1)}}(c,h?h(o):o,a)}}class yw{}const _w="ngComponent";class KI{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${U(o)}. Did you add it to @NgModule.entryComponents?`);return a[_w]=o,a}(a)}}let ha=(()=>{class o{}return o.NULL=new KI,o})();function mp(...o){}function ss(o,a){return new si(Zr(o,a))}const YI=function(){return ss(Cn(),Ie())};let si=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=YI,o})();function Ew(o){return o instanceof si?o.nativeElement:o}class uu{}let lN=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>Fy(),o})();const Fy=function(){const o=Ie(),u=wr(Cn().index,o);return function(o){return o[11]}(Wr(u)?u:o)};let yp=(()=>{class o{}return o.\u0275prov=un({token:o,providedIn:"root",factory:()=>null}),o})();class QI{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Vy=new QI("12.2.6");class ww{constructor(){}supports(a){return Of(a)}create(a){return new JI(a)}}const _p=(o,a)=>a;class JI{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||_p}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,c=this._removalsHead,h=0,f=null;for(;u||c;){const _=!c||u&&u.currentIndex<Uy(c,h,f)?u:c,w=Uy(_,h,f),I=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{f||(f=[]);const D=w-h,A=I-h;if(D!=A){for(let P=0;P<D;P++){const V=P<f.length?f[P]:f[P]=0,z=V+P;A<=z&&z<D&&(f[P]=V+1)}f[_.previousIndex]=A-D}}w!==I&&a(_,w,I)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Of(a))throw new Error(`Error trying to diff '${U(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,f,_,u=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)f=a[w],_=this._trackByFn(w,f),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,f,_,w)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,_,w),c=!0),u=u._next}else h=0,function(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Cl()]();let c;for(;!(c=u.next()).done;)a(c.value)}}(a,w=>{_=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,w,_,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,_,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,c,h){let f;return null===a?f=this._itTail:(f=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,f,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,f,h)):a=this._addAfter(new XI(u,c),f,h),a}_verifyReinsertion(a,u,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?a=this._reinsertAfter(f,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,f=a._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(a,u,c),this._addToMoves(a,c),a}_moveAfter(a,u,c){return this._unlink(a),this._insertAfter(a,u,c),this._addToMoves(a,c),a}_addAfter(a,u,c){return this._insertAfter(a,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,c){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Ud),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,c=a._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ud),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class XI{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const u=a._prevDup,c=a._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Ud{constructor(){this.map=new Map}put(a){const u=a.trackById;let c=this.map.get(u);c||(c=new eT,this.map.set(u,c)),c.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Uy(o,a,u){const c=o.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+a+h}class tT{constructor(){}supports(a){return a instanceof Map||Xm(a)}create(){return new Yn}}class Yn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Xm(a)))throw new Error(`Error trying to diff '${U(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const c=a._prev;return u._next=a,u._prev=c,a._prev=u,c&&(c._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const f=h._prev,_=h._next;return f&&(f._next=_),_&&(_._prev=f),h._next=null,h._prev=null,h}const c=new Mt(a);return this._records.set(a,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(c=>u(a[c],c))}}class Mt{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bw(){return new vp([new ww])}let vp=(()=>{class o{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:c=>o.create(u,c||bw()),deps:[[o,new so,new ei]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(o){return o.name||typeof o}(u)}'`)}}return o.\u0275prov=un({token:o,providedIn:"root",factory:bw}),o})();function Ep(){return new Qn([new tT])}let Qn=(()=>{class o{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:c=>o.create(u,c||Ep()),deps:[[o,new so,new ei]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return o.\u0275prov=un({token:o,providedIn:"root",factory:Ep}),o})();function yn(o,a,u,c,h=!1){for(;null!==u;){const f=a[u.index];if(null!==f&&c.push(sn(f)),Ut(f))for(let w=10;w<f.length;w++){const I=f[w],D=I[1].firstChild;null!==D&&yn(I[1],I,D,c)}const _=u.type;if(8&_)yn(o,a,u.child,c);else if(32&_){const w=pv(u,a);let I;for(;I=w();)c.push(I)}else if(16&_){const w=US(a,u);if(Array.isArray(w))c.push(...w);else{const I=rd(a[16]);yn(I[1],I,w,c,!0)}}u=h?u.projectionNext:u.next}return c}class Bd{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return yn(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Ut(a)){const u=a[8],c=u?u.indexOf(this):-1;c>-1&&(wv(a,c),vs(u,c))}this._attachedToViewContainer=!1}Zb(this._lView[1],this._lView)}onDestroy(a){Sf(this._lView[1],this._lView,null,a)}markForCheck(){Zv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,u){Ys(!0);try{Yv(o,a,u)}finally{Ys(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,bf(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class hN extends Bd{constructor(a){super(a),this._view=a}detectChanges(){Qv(this._view)}checkNoChanges(){!function(o){Ys(!0);try{Qv(o)}finally{Ys(!1)}}(this._view)}get context(){return null}}const Cw=function(o){return function(o,a,u){if(mc(o)&&!u){const c=wr(o.index,a);return new Bd(c,c)}return 47&o.type?new Bd(a[16],a):null}(Cn(),Ie(),16==(16&o))};let fN=(()=>{class o{}return o.__NG_ELEMENT_ID__=Cw,o})();const Yt=[new tT],By=new vp([new ww]),wp=new Qn(Yt),rT=function(){return Cp(Cn(),Ie())};let jd=(()=>{class o{}return o.__NG_ELEMENT_ID__=rT,o})();const iT=jd,mN=class extends iT{constructor(a,u,c){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(a){const u=this._declarationTContainer.tViews,c=Wa(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(u)),Za(u,c,a),new Bd(c)}};function Cp(o,a){return 4&o.type?new mN(a,o,ss(o,a)):null}class jl{}class oT{}const aT=function(){return Hy(Cn(),Ie())};let $y=(()=>{class o{}return o.__NG_ELEMENT_ID__=aT,o})();const Tw=$y,Dw=class extends Tw{constructor(a,u,c){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=c}get element(){return ss(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){const a=$o(this._hostTNode,this._hostLView);if(Pg(a)){const u=$u(a,this._hostLView),c=ju(a);return new gi(u[1].data[c+8],u)}return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=$d(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,c){const h=a.createEmbeddedView(u||{});return this.insert(h,c),h}createComponent(a,u,c,h,f){const _=c||this.parentInjector;if(!f&&null==a.ngModule&&_){const I=_.get(jl,null);I&&(f=I)}const w=a.create(_,h,void 0,f);return this.insert(w.hostView,u),w}insert(a,u){const c=a._lView,h=c[1];if(Ut(c[3])){const A=this.indexOf(a);if(-1!==A)this.detach(A);else{const O=c[3],P=new Dw(O,O[6],O[3]);P.detach(P.indexOf(a))}}const f=this._adjustIndex(u),_=this._lContainer;!function(o,a,u,c){const h=10+c,f=u.length;c>0&&(u[h-1][4]=a),c<f-10?(a[4]=u[h],kc(u,10+c,a)):(u.push(a),a[4]=null),a[3]=u;const _=a[17];null!==_&&u!==_&&function(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(_,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(h,c,_,f);const w=ia(f,_),I=c[11],D=bm(I,_[7]);return null!==D&&function(o,a,u,c,h,f){c[0]=h,c[6]=a,bf(o,c,u,1,h,f)}(h,_[6],I,c,D,w),a.attachToViewContainerRef(),kc(as(_),f,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=$d(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),c=wv(this._lContainer,u);c&&(vs(as(this._lContainer),u),Zb(c[1],c))}detach(a){const u=this._adjustIndex(a,-1),c=wv(this._lContainer,u);return c&&null!=vs(as(this._lContainer),u)?new Bd(c):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function $d(o){return o[8]}function as(o){return o[8]||(o[8]=[])}function Hy(o,a){let u;const c=a[o.index];if(Ut(c))u=c;else{let h;if(8&o.type)h=sn(c);else{const f=a[11];h=f.createComment("");const _=Zr(o,a);uo(f,bm(f,_),h,function(o,a){return rn(o)?o.nextSibling(a):a.nextSibling}(f,_),!1)}a[o.index]=u=Wv(c,a,h,o),Af(a,u)}return new Dw(u,o,a)}const yo={};class AT extends ha{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=nr(a);return new Kw(u,this.ngModule)}}function zw(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}const Ww=new In("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>nd});class Kw extends yw{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=a.selectors.map(qS).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return zw(this.componentDef.inputs)}get outputs(){return zw(this.componentDef.outputs)}create(a,u,c,h){const f=(h=h||this.ngModule)?function(o,a){return{get:(u,c,h)=>{const f=o.get(u,yo,h);return f!==yo||c===yo?f:a.get(u,c,h)}}}(a,h.injector):a,_=f.get(uu,bc),w=f.get(yp,null),I=_.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",A=c?function(o,a,u){if(rn(o))return o.selectRootElement(a,u===wn.ShadowDom);let c="string"==typeof a?o.querySelector(a):a;return c.textContent="",c}(I,c,this.componentDef.encapsulation):vv(_.createRenderer(null,this.componentDef),D,function(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(D)),O=this.componentDef.onPush?576:528,P=function(o,a){return{components:[],scheduler:o||nd,clean:vA,playerHandler:a||null,flags:0}}(),V=km(0,null,null,1,0,null,null,null,null,null),z=Wa(null,V,P,O,null,null,_,I,w,f);let ue,J;Uu(z);try{const Oe=function(o,a,u,c,h,f){const _=u[1];u[20]=o;const I=sa(_,20,2,"#host",null),D=I.mergedAttrs=a.hostAttrs;null!==D&&(jm(I,D,!0),null!==o&&(an(h,o,D),null!==I.classes&&Im(h,o,I.classes),null!==I.styles&&Jb(h,o,I.styles)));const A=c.createRenderer(o,a),O=Wa(u,oA(a),null,a.onPush?64:16,u[20],I,c,A,f||null,null);return _.firstCreatePass&&(Mr(eo(I,u),_,a.type),qv(_,I),dA(I,u.length,1)),Af(u,O),u[20]=O}(A,this.componentDef,z,_,I);if(A)if(c)an(I,A,["ng-version",Vy.full]);else{const{attrs:we,classes:Xe}=function(o){const a=[],u=[];let c=1,h=2;for(;c<o.length;){let f=o[c];if("string"==typeof f)2===h?""!==f&&a.push(f,o[++c]):8===h&&u.push(f);else{if(!Cs(h))break;h=f}c++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);we&&an(I,A,we),Xe&&Xe.length>0&&Im(I,A,Xe.join(" "))}if(J=Ws(V,20),void 0!==u){const we=J.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const lt=u[Xe];we.push(null!=lt?Array.from(lt):null)}}ue=function(o,a,u,c,h){const f=u[1],_=function(o,a,u){const c=Cn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),hA(o,c,a,Ka(o,a,1,null),u));const h=Ma(a,o,c.directiveStart,c);Zt(h,a);const f=Zr(c,a);return f&&Zt(f,a),h}(f,u,a);if(c.components.push(_),o[8]=_,h&&h.forEach(I=>I(_,a)),a.contentQueries){const I=Cn();a.contentQueries(1,_,I.directiveStart)}const w=Cn();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Bo(w.index),fd(u[1],w,0,w.directiveStart,w.directiveEnd,a),pd(a,_)),_}(Oe,this.componentDef,z,P,[HC]),Za(V,z,null)}finally{Mg()}return new ON(this.componentType,ue,ss(J,z),z,J)}}class ON extends class{}{constructor(a,u,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new hN(h),this.componentType=a}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const Ps=new Map;class Zw extends jl{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new AT(this);const c=vr(a),h=a[On]||null;h&&he(h),this._bootstrapComponents=Xi(c.bootstrap),this._r3Injector=nE(a,u,[{provide:jl,useValue:this},{provide:ha,useValue:this.componentFactoryResolver}],U(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=pn.THROW_IF_NOT_FOUND,c=Se.Default){return a===pn||a===jl||a===_l?this:this._r3Injector.get(a,u,c)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Yw extends oT{constructor(a){super(),this.moduleType=a,null!==vr(a)&&function(o){const a=new Set;!function u(c){const h=vr(c,!0),f=h.id;null!==f&&(function(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${U(a)} vs ${U(a.name)}`)}(f,Ps.get(f),c),Ps.set(f,c));const _=Xi(h.imports);for(const w of _)a.has(w)||(a.add(w),u(w))}(o)}(a)}create(a){return new Zw(this.moduleType,a)}}function MT(o,a,u,c){return PT(Ie(),xr(),o,a,u,c)}function PT(o,a,u,c,h,f){const _=a+u;return Vr(o,_,h)?function(o,a,u){return o[a]=u}(o,_+1,f?c.call(f,h):c(h)):function(o,a){const u=o[a];return u===_t?void 0:u}(o,_+1)}function kp(o,a){const u=xt();let c;const h=o+20;u.firstCreatePass?(c=function(o,a){if(a)for(let u=a.length-1;u>=0;u--){const c=a[u];if(o===c.name)return c}throw new xe("302",`The pipe '${o}' could not be found!`)}(a,u.pipeRegistry),u.data[h]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,c.onDestroy)):c=u.data[h];const f=c.factory||(c.factory=gs(c.type)),_=cn(Id);try{const w=Ac(!1),I=f();return Ac(w),function(o,a,u,c){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=c}(u,Ie(),h,I),I}finally{cn(_)}}function Lp(o,a,u){const c=o+20,h=Ie(),f=function(o,a){return o[a]}(h,c);return function(o,a){Vi.isWrapped(a)&&(a=Vi.unwrap(a),o[ct.lFrame.bindingIndex]=_t);return a}(h,function(o,a){return o[1].data[a].pure}(h,c)?PT(h,xr(),a,f.transform,u,f):f.transform(u))}function o0(o){return a=>{setTimeout(o,void 0,a)}}const _o=class extends g.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,c){var h,f,_;let w=a,I=u||(()=>null),D=c;if(a&&"object"==typeof a){const O=a;w=null===(h=O.next)||void 0===h?void 0:h.bind(O),I=null===(f=O.error)||void 0===f?void 0:f.bind(O),D=null===(_=O.complete)||void 0===_?void 0:_.bind(O)}this.__isAsync&&(I=o0(I),w&&(w=o0(w)),D&&(D=o0(D)));const A=super.subscribe({next:w,error:I,complete:D});return a instanceof ae.w&&a.add(A),A}};function FT(){return this._results[Cl()]()}class Zl{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Cl(),c=Zl.prototype;c[u]||(c[u]=FT)}get changes(){return this._changes||(this._changes=new _o)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const c=this;c.dirty=!1;const h=mi(a);(this._changesDetected=!function(o,a,u){if(o.length!==a.length)return!1;for(let c=0;c<o.length;c++){let h=o[c],f=a[c];if(u&&(h=u(h),f=u(f)),f!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class u0{constructor(a){this.queryList=a,this.matches=null}clone(){return new u0(this.queryList)}setDirty(){this.queryList.setDirty()}}class l0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const c=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let f=0;f<c;f++){const _=u.getByIndex(f);h.push(this.queries[_.indexInDeclarationView].clone())}return new l0(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==BT(a,u).matches&&this.queries[u].setDirty()}}class LT{constructor(a,u,c=null){this.predicate=a,this.flags=u,this.read=c}}class c0{constructor(a=[]){this.queries=a}elementStart(a,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(a,h);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new c0(u):null}template(a,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class d0{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new d0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(a,u,Bp(u,f)),this.matchTNodeWithReadOption(a,u,Oc(u,a,f,!1,!1))}else c===jd?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Oc(u,a,c,!1,!1))}matchTNodeWithReadOption(a,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===si||h===$y||h===jd&&4&u.type)this.addMatch(u.index,-2);else{const f=Oc(u,a,h,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function Bp(o,a){const u=o.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===a)return u[c+1];return null}function eh(o,a,u,c){return-1===u?function(o,a){return 11&o.type?ss(o,a):4&o.type?Cp(o,a):null}(a,o):-2===u?function(o,a,u){return u===si?ss(a,o):u===jd?Cp(a,o):u===$y?Hy(a,o):void 0}(o,a,c):Ma(o,o[1],u,a)}function jp(o,a,u,c){const h=a[19].queries[c];if(null===h.matches){const f=o.data,_=u.matches,w=[];for(let I=0;I<_.length;I+=2){const D=_[I];w.push(D<0?null:eh(a,f[D],_[I+1],u.metadata.read))}h.matches=w}return h.matches}function Yl(o,a,u,c){const h=o.queries.getByIndex(u),f=h.matches;if(null!==f){const _=jp(o,a,h,u);for(let w=0;w<f.length;w+=2){const I=f[w];if(I>0)c.push(_[w/2]);else{const D=f[w+1],A=a[-I];for(let O=10;O<A.length;O++){const P=A[O];P[17]===P[3]&&Yl(P[1],P,D,c)}if(null!==A[9]){const O=A[9];for(let P=0;P<O.length;P++){const V=O[P];Yl(V[1],V,D,c)}}}}}return c}function e_(o){const a=Ie(),u=xt(),c=Uo();jh(c+1);const h=BT(u,c);if(o.dirty&&Ou(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const f=h.crossesNgTemplate?Yl(u,a,c,[]):jp(u,a,h,c);o.reset(f,Ew),o.notifyOnChanges()}return!0}return!1}function t_(o,a,u,c){const h=xt();if(h.firstCreatePass){const f=Cn();(function(o,a,u){null===o.queries&&(o.queries=new c0),o.queries.track(new d0(a,u))})(h,new LT(a,u,c),f.index),function(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(h,o),2==(2&u)&&(h.staticContentQueries=!0)}!function(o,a,u){const c=new Zl(4==(4&u));Sf(o,a,c,c.destroy),null===a[19]&&(a[19]=new l0),a[19].queries.push(new u0(c))}(h,Ie(),u)}function n_(){return o=Ie(),a=Uo(),o[19].queries[a].queryList;var o,a}function BT(o,a){return o.queries.getByIndex(a)}const Gp=new In("Application Initializer");let ih=(()=>{class o{constructor(u){this.appInits=u,this.resolve=mp,this.reject=mp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(cy(f))u.push(f);else if(Rl(f)){const _=new Promise((w,I)=>{f.subscribe({complete:w,error:I})});u.push(_)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(An(Gp,8))},o.\u0275prov=un({token:o,factory:o.\u0275fac}),o})();const d_=new In("AppId"),M0={provide:d_,useFactory:function(){return`${P0()}${P0()}${P0()}`},deps:[]};function P0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const h_=new In("Platform Initializer"),k0=new In("Platform ID"),f_=new In("appBootstrapListener");let cD=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=un({token:o,factory:o.\u0275fac}),o})();const p_=new In("LocaleId"),g_=new In("DefaultCurrencyCode");class fD{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}const m_=function(o){return new Yw(o)},y_=m_,eR=function(o){return Promise.resolve(m_(o))},L0=function(o){const a=m_(o),c=Xi(vr(o).declarations).reduce((h,f)=>{const _=nr(f);return _&&h.push(new Kw(_)),h},[]);return new fD(a,c)},V0=L0,U0=function(o){return Promise.resolve(L0(o))};let Xl=(()=>{class o{constructor(){this.compileModuleSync=y_,this.compileModuleAsync=eR,this.compileModuleAndAllComponentsSync=V0,this.compileModuleAndAllComponentsAsync=U0}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=un({token:o,factory:o.\u0275fac}),o})();const mD=(()=>Promise.resolve(0))();function zp(o){"undefined"==typeof Zone?mD.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ai{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _o(!1),this.onMicrotaskEmpty=new _o(!1),this.onStable=new _o(!1),this.onError=new _o(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let o=L.requestAnimationFrame,a=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(L,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,j0(o),o.isCheckStableRunning=!0,Wp(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),j0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,f,_,w)=>{try{return $0(o),u.invokeTask(h,f,_,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||o.shouldCoalesceRunChangeDetection)&&a(),_D(o)}},onInvoke:(u,c,h,f,_,w,I)=>{try{return $0(o),u.invoke(h,f,_,w,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),_D(o)}},onHasTask:(u,c,h,f)=>{u.hasTask(h,f),c===h&&("microTask"==f.change?(o._hasPendingMicrotasks=f.microTask,j0(o),Wp(o)):"macroTask"==f.change&&(o.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,h,f)=>(u.handleError(h,f),o.runOutsideAngular(()=>o.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ai.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ai.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,c){return this._inner.run(a,u,c)}runTask(a,u,c,h){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+h,a,sh,mp,mp);try{return f.runTask(_,u,c)}finally{f.cancelTask(_)}}runGuarded(a,u,c){return this._inner.runGuarded(a,u,c)}runOutsideAngular(a){return this._outer.run(a)}}const sh={};function Wp(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function j0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function $0(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function _D(o){o._nesting--,Wp(o)}class vD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _o,this.onMicrotaskEmpty=new _o,this.onStable=new _o,this.onError=new _o}run(a,u,c){return a.apply(u,c)}runGuarded(a,u,c){return a.apply(u,c)}runOutsideAngular(a){return a()}runTask(a,u,c,h){return a.apply(u,c)}}let ED=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ai.assertNotInAngularZone(),zp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zp(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,h){return[]}}return o.\u0275fac=function(u){return new(u||o)(An(ai))},o.\u0275prov=un({token:o,factory:o.\u0275fac}),o})(),wD=(()=>{class o{constructor(){this._applications=new Map,H0.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return H0.findTestabilityInTree(this,u,c)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=un({token:o,factory:o.\u0275fac}),o})();class iR{addToWindow(a){}findTestabilityInTree(a,u,c){return null}}function sR(o){H0=o}let H0=new iR,ec=!0,G0=!1;function Kp(){return G0=!0,ec}function bD(){if(G0)throw new Error("Cannot enable prod mode after platform setup.");ec=!1}let ls;const Fs=new In("AllowMultipleToken");class TD{constructor(a,u){this.name=a,this.token=u}}function Yp(o,a,u=[]){const c=`Platform: ${a}`,h=new In(c);return(f=[])=>{let _=SD();if(!_||_.injector.get(Fs,!1))if(o)o(u.concat(f).concat({provide:h,useValue:!0}));else{const w=u.concat(f).concat({provide:h,useValue:!0},{provide:$m,useValue:"platform"});!function(o){if(ls&&!ls.destroyed&&!ls.injector.get(Fs,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ls=o.get(v_);const a=o.get(h_,null);a&&a.forEach(u=>u())}(pn.create({providers:w,name:c}))}return function(o){const a=SD();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(h)}}function SD(){return ls&&!ls.destroyed?ls:null}let v_=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const w=function(o,a){let u;return u="noop"===o?new vD:("zone.js"===o?void 0:o)||new ai({enableLongStackTrace:Kp(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),I=[{provide:ai,useValue:w}];return w.run(()=>{const D=pn.create({providers:I,parent:this.injector,name:u.moduleType.name}),A=u.create(D),O=A.injector.get(K,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const P=w.onError.subscribe({next:V=>{O.handleError(V)}});A.onDestroy(()=>{AD(this._modules,A),P.unsubscribe()})}),function(o,a,u){try{const c=u();return cy(c)?c.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):c}catch(c){throw a.runOutsideAngular(()=>o.handleError(c)),c}}(O,w,()=>{const P=A.injector.get(ih);return P.runInitializers(),P.donePromise.then(()=>(he(A.injector.get(p_,Nn)||Nn),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,c=[]){const h=xn({},c);return function(o,a,u){const c=new Yw(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(u){const c=u.injector.get(E_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${U(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(An(pn))},o.\u0275prov=un({token:o,factory:o.\u0275fac}),o})();function xn(o,a){return Array.isArray(a)?a.reduce(xn,o):Object.assign(Object.assign({},o),a)}let E_=(()=>{class o{constructor(u,c,h,f,_){this._zone=u,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new $.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),I=new $.y(D=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{ai.assertNotInAngularZone(),zp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{ai.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{A.unsubscribe(),O.unsubscribe()}});this.isStable=(0,re.T)(w,I.pipe(o=>(0,me.x)()(function(o,a){return function(c){let h;h="function"==typeof o?o:function(){return o};const f=Object.create(c,ye.N);return f.source=c,f.subjectFactory=h,f}}(Z)(o))))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=u instanceof yw?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(h.componentType);const f=function(o){return o.isBoundToModule}(h)?void 0:this._injector.get(jl),w=h.create(pn.NULL,[],c||h.selector,f),I=w.location.nativeElement,D=w.injector.get(ED,null),A=D&&w.injector.get(wD);return D&&A&&A.registerApplication(I,D),w.onDestroy(()=>{this.detachView(w.hostView),AD(this.components,w),A&&A.unregisterApplication(I)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;AD(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(f_,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(An(ai),An(pn),An(K),An(ha),An(ih))},o.\u0275prov=un({token:o,factory:o.\u0275fac}),o})();function AD(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}class hR{}class OO{}const gR={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let mR=(()=>{class o{constructor(u,c){this._compiler=u,this._config=c||gR}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,h]=u.split("#");return void 0===h&&(h="default"),k(8255)(c).then(f=>f[h]).then(f=>z0(f,c,h)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[c,h]=u.split("#"),f="NgFactory";return void 0===h&&(h="default",f=""),k(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(_=>_[h+f]).then(_=>z0(_,c,h))}}return o.\u0275fac=function(u){return new(u||o)(An(Xl),An(OO,8))},o.\u0275prov=un({token:o,factory:o.\u0275fac}),o})();function z0(o,a,u){if(!o)throw new Error(`Cannot find '${u}' in '${a}'`);return o}const J0=function(o){return null},wR=Yp(null,"core",[{provide:k0,useValue:"unknown"},{provide:v_,deps:[pn]},{provide:wD,deps:[]},{provide:cD,deps:[]}]),bR=[{provide:E_,useClass:E_,deps:[ai,pn,K,ha,ih]},{provide:Ww,deps:[ai],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(u){a.push(u)}}},{provide:ih,useClass:ih,deps:[[new ei,Gp]]},{provide:Xl,useClass:Xl,deps:[]},M0,{provide:vp,useFactory:function(){return By},deps:[]},{provide:Qn,useFactory:function(){return wp},deps:[]},{provide:p_,useFactory:function(o){return he(o=o||"undefined"!=typeof $localize&&$localize.locale||Nn),o},deps:[[new Ua(p_),new ei,new so]]},{provide:g_,useValue:"USD"}];let LD=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(An(E_))},o.\u0275mod=bu({type:o}),o.\u0275inj=Si({providers:bR}),o})()},8939:(ze,Ce,k)=>{"use strict";k.d(Ce,{hO:()=>U,xv:()=>Z,Dh:()=>me,GT:()=>se,on:()=>F,pX:()=>ye});var g=k(3018),ae=k(7841),$=k(9126);ze=k.hmd(ze);const re=["ngOnDestroy"],ye=(W,ce,ne,te={})=>new Proxy(W,{get:(Pe,Ae)=>ne.runOutsideAngular(()=>{var xe;if(W[Ae])return(null===(xe=null==te?void 0:te.spy)||void 0===xe?void 0:xe.get)&&te.spy.get(Ae,W[Ae]),W[Ae];if(re.indexOf(Ae)>-1)return()=>{};const ke=ce.toPromise().then(Ue=>{const Ve=Ue&&Ue[Ae];return"function"==typeof Ve?Ve.bind(Ue):Ve&&Ve.then?Ve.then(dt=>ne.run(()=>dt)):ne.run(()=>Ve)});return new Proxy(()=>{},{get:(Ue,Ve)=>ke[Ve],apply:(Ue,Ve,dt)=>ke.then(Qt=>{var Ee;const ie=Qt&&Qt(...dt);return(null===(Ee=null==te?void 0:te.spy)||void 0===Ee?void 0:Ee.apply)&&te.spy.apply(Ae,dt,ie),ie})})})}),se=(W,ce)=>{ce.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(te=>{Object.defineProperty(W.prototype,te,Object.getOwnPropertyDescriptor(ne.prototype||ne,te))})})};class _e{constructor(ce){return ce}}const me=new g.OlP("angularfire2.app.options"),Z=new g.OlP("angularfire2.app.name");function F(W,ce,ne){const Pe="object"==typeof ne&&ne||{};Pe.name=Pe.name||"string"==typeof ne&&ne||"[DEFAULT]";const xe=ae.Z.apps.filter(ke=>ke&&ke.name===Pe.name)[0]||ce.runOutsideAngular(()=>ae.Z.initializeApp(W,Pe));try{JSON.stringify(W)!==JSON.stringify(xe.options)&&j("error",`${xe.name} Firebase App already initialized with different options${ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ke){}return new _e(xe)}const j=(W,...ce)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[W](...ce)},G={provide:_e,useFactory:F,deps:[me,g.R0b,[new g.FiY,Z]]};let U=(()=>{class W{constructor(ne){ae.Z.registerVersion("angularfire",$.q4.full,"core"),ae.Z.registerVersion("angularfire",$.q4.full,"app-compat"),ae.Z.registerVersion("angular",g.q4F.full,ne.toString())}static initializeApp(ne,te){return{ngModule:W,providers:[{provide:me,useValue:ne},{provide:Z,useValue:te}]}}}return W.\u0275fac=function(ne){return new(ne||W)(g.LFG(g.Lbi))},W.\u0275mod=g.oAB({type:W}),W.\u0275inj=g.cJS({providers:[G]}),W})()},9126:(ze,Ce,k)=>{"use strict";k.d(Ce,{q4:()=>F,iC:()=>ie,HU:()=>ke,cc:()=>U});var g=k(3018);(0,k(5452).registerVersion)("firebase","9.0.2","app");var ye=k(7771),se=k(3637),_e=k(3342),me=k(3101),Z=k(309);ze=k.hmd(ze);const F=new g.GfV("7.0.4"),j=!!ze.hot,G=(pe,...Q)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[pe](...Q)};function U(pe,Q,Me,We,St){const[,rt,At]=globalThis.\u0275AngularfireInstanceCache.find(Gt=>Gt[0]===pe)||[];if(rt)return function(pe,Q){try{return pe.toString()===Q.toString()}catch(Me){return pe===Q}}(St,At)||(G("error",`${Q} was already initialized on the ${Me} Firebase App with different settings.${j?" You may need to reload as Firebase is not HMR aware.":""}`),G("warn",{is:St,was:At})),rt;{const Gt=We();return globalThis.\u0275AngularfireInstanceCache.push([pe,Gt,St]),Gt}}function Pe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ae{constructor(Q,Me=ye.N){this.zone=Q,this.delegate=Me}now(){return this.delegate.now()}schedule(Q,Me,We){const St=this.zone;return this.delegate.schedule(function(At){St.runGuarded(()=>{Q.apply(this,[At])})},Me,We)}}class xe{constructor(Q){this.zone=Q,this.task=null}call(Q,Me){const We=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pe,{},Pe,Pe)),Me.pipe((0,_e.b)({next:We,complete:We,error:We})).subscribe(Q).add(We)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ke=(()=>{class pe{constructor(Me){this.ngZone=Me,this.outsideAngular=Me.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=Me.run(()=>new Ae(Zone.current,se.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return pe.\u0275fac=function(Me){return new(Me||pe)(g.LFG(g.R0b))},pe.\u0275prov=g.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function Ue(){const pe=globalThis.\u0275AngularFireScheduler;if(!pe)throw new Error("AngularFireModule has not been provided");return pe}function ie(pe){return Ue(),function(pe){return function(Me){return(Me=Me.lift(new xe(pe.ngZone))).pipe((0,me.R)(pe.outsideAngular),(0,Z.QV)(pe.insideAngular))}}(Ue())(pe)}},4486:(ze,Ce,k)=>{"use strict";k.d(Ce,{Z:()=>ne});var g=k(4685),ae=k(6034),$=k(5452),re=k(300);class ye{constructor(Pe,Ae){this._delegate=Pe,this.firebase=Ae,(0,$._addComponent)(Pe,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=Pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this._delegate.automaticDataCollectionEnabled=Pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Pe=>{this._delegate.checkDestroyed(),Pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Pe,Ae=$._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const ke=this._delegate.container.getProvider(Pe);return!ke.isInitialized()&&"EXPLICIT"===(null===(xe=ke.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&ke.initialize(),ke.getImmediate({identifier:Ae})}_removeServiceInstance(Pe,Ae=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Pe).clearInstance(Ae)}_addComponent(Pe){(0,$._addComponent)(this._delegate,Pe)}_addOrOverwriteComponent(Pe){(0,$._addOrOverwriteComponent)(this._delegate,Pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function Z(){const te=function(te){const Pe={},Ae={__esModule:!0,initializeApp:function(Ee,ie={}){const oe=$.initializeApp(Ee,ie);if((0,g.r3)(Pe,oe.name))return Pe[oe.name];const fe=new te(oe,Ae);return Pe[oe.name]=fe,fe},app:ke,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function(Ee){const ie=Ee.name,oe=ie.replace("-compat","");if($._registerComponent(Ee)&&"PUBLIC"===Ee.type){const fe=(le=ke())=>{if("function"!=typeof le[oe])throw _e.create("invalid-app-argument",{appName:ie});return le[oe]()};void 0!==Ee.serviceProps&&(0,g.ZB)(fe,Ee.serviceProps),Ae[oe]=fe,te.prototype[oe]=function(...le){return this._getService.bind(this,ie).apply(this,Ee.multipleInstances?le:[])}}return"PUBLIC"===Ee.type?Ae[oe]:null},removeApp:function(Ee){delete Pe[Ee]},useAsService:function(Ee,ie){return"serverAuth"===ie?null:ie},modularAPIs:$}};function ke(Ee){if(!(0,g.r3)(Pe,Ee=Ee||$._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Ee});return Pe[Ee]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function(){return Object.keys(Pe).map(Ee=>Pe[Ee])}}),ke.App=te,Ae}(ye);return te.INTERNAL=Object.assign(Object.assign({},te.INTERNAL),{createFirebaseNamespace:Z,extendNamespace:function(Ae){(0,g.ZB)(te,Ae)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),te}(),j=new re.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const te=self.firebase.SDK_VERSION;te&&te.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ce=F;(0,$.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ne=ce},5452:(ze,Ce,k)=>{"use strict";k.r(Ce),k.d(Ce,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>di,_DEFAULT_ENTRY_NAME:()=>St,_addComponent:()=>_n,_addOrOverwriteComponent:()=>li,_apps:()=>At,_clearComponents:()=>Pt,_components:()=>Gt,_getProvider:()=>vn,_registerComponent:()=>ci,_removeServiceInstance:()=>ht,deleteApp:()=>To,getApp:()=>Rr,getApps:()=>Io,initializeApp:()=>Si,onLog:()=>Hn,registerVersion:()=>hs,setLogLevel:()=>Ai});var g=k(8239),ae=k(6034),$=k(300),re=k(4685);class ye{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(zt=>{if(function(mt){const Se=mt.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(zt)){const ln=zt.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(zt=>zt).join(" ")}}const _e="@firebase/app",Z=new $.Yd("@firebase/app"),St="[DEFAULT]",rt={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},At=new Map,Gt=new Map;function _n(mt,Se){try{mt.container.addComponent(Se)}catch(zt){Z.debug(`Component ${Se.name} failed to register with FirebaseApp ${mt.name}`,zt)}}function li(mt,Se){mt.container.addOrOverwriteComponent(Se)}function ci(mt){const Se=mt.name;if(Gt.has(Se))return Z.debug(`There were multiple attempts to register component ${Se}.`),!1;Gt.set(Se,mt);for(const zt of At.values())_n(zt,mt);return!0}function vn(mt,Se){return mt.container.getProvider(Se)}function ht(mt,Se,zt=St){vn(mt,Se).clearInstance(zt)}function Pt(){Gt.clear()}const Co=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class un{constructor(Se,zt,ln){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},zt),this._name=zt.name,this._automaticDataCollectionEnabled=zt.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}const di="9.0.0";function Si(mt,Se={}){"object"!=typeof Se&&(Se={name:Se});const zt=Object.assign({name:St,automaticDataCollectionEnabled:!1},Se),ln=zt.name;if("string"!=typeof ln||!ln)throw Co.create("bad-app-name",{appName:String(ln)});const cn=At.get(ln);if(cn){if((0,re.vZ)(mt,cn.options)&&(0,re.vZ)(zt,cn.config))return cn;throw Co.create("duplicate-app",{appName:ln})}const Lt=new ae.H0(ln);for(const Ye of Gt.values())Lt.addComponent(Ye);const Ke=new un(mt,zt,Lt);return At.set(ln,Ke),Ke}function Rr(mt=St){const Se=At.get(mt);if(!Se)throw Co.create("no-app",{appName:mt});return Se}function Io(){return Array.from(At.values())}function To(mt){return Do.apply(this,arguments)}function Do(){return(Do=(0,g.Z)(function*(mt){const Se=mt.name;At.has(Se)&&(At.delete(Se),yield Promise.all(mt.container.getProviders().map(zt=>zt.delete())),mt.isDeleted=!0)})).apply(this,arguments)}function hs(mt,Se,zt){var ln;let cn=null!==(ln=rt[mt])&&void 0!==ln?ln:mt;zt&&(cn+=`-${zt}`);const Lt=cn.match(/\s|\//),Ke=Se.match(/\s|\//);if(Lt||Ke){const Ye=[`Unable to register library "${cn}" with version "${Se}":`];return Lt&&Ye.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),Lt&&Ke&&Ye.push("and"),Ke&&Ye.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void Z.warn(Ye.join(" "))}ci(new ae.wA(`${cn}-version`,()=>({library:cn,version:Se}),"VERSION"))}function Hn(mt,Se){if(null!==mt&&"function"!=typeof mt)throw Co.create("invalid-log-argument");(0,$.Am)(mt,Se)}function Ai(mt){(0,$.Ub)(mt)}ci(new ae.wA("platform-logger",Se=>new ye(Se),"PRIVATE")),hs(_e,"0.7.0",undefined),hs("fire-js","")},6034:(ze,Ce,k)=>{"use strict";k.d(Ce,{wA:()=>$,H0:()=>me});var g=k(4762),ae=k(4685),$=function(){function Z(F,j,G){this.name=F,this.instanceFactory=j,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Z.prototype.setInstantiationMode=function(F){return this.instantiationMode=F,this},Z.prototype.setMultipleInstances=function(F){return this.multipleInstances=F,this},Z.prototype.setServiceProps=function(F){return this.serviceProps=F,this},Z.prototype.setInstanceCreatedCallback=function(F){return this.onInstanceCreated=F,this},Z}(),re="[DEFAULT]",ye=function(){function Z(F,j){this.name=F,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Z.prototype.get=function(F){var j=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(j)){var G=new ae.BH;if(this.instancesDeferred.set(j,G),this.isInitialized(j)||this.shouldAutoInitialize())try{var U=this.getOrInitializeService({instanceIdentifier:j});U&&G.resolve(U)}catch(W){}}return this.instancesDeferred.get(j).promise},Z.prototype.getImmediate=function(F){var j,G=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),U=null!==(j=null==F?void 0:F.optional)&&void 0!==j&&j;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(U)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(W){if(U)return null;throw W}},Z.prototype.getComponent=function(){return this.component},Z.prototype.setComponent=function(F){var j,G;if(F.name!==this.name)throw Error("Mismatching Component "+F.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=F,this.shouldAutoInitialize()){if(function(Z){return"EAGER"===Z.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:re})}catch(xe){}try{for(var U=(0,g.XA)(this.instancesDeferred.entries()),W=U.next();!W.done;W=U.next()){var ce=(0,g.CR)(W.value,2),te=ce[1],Pe=this.normalizeInstanceIdentifier(ce[0]);try{var Ae=this.getOrInitializeService({instanceIdentifier:Pe});te.resolve(Ae)}catch(xe){}}}catch(xe){j={error:xe}}finally{try{W&&!W.done&&(G=U.return)&&G.call(U)}finally{if(j)throw j.error}}}},Z.prototype.clearInstance=function(F){void 0===F&&(F=re),this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)},Z.prototype.delete=function(){return(0,g.mG)(this,void 0,void 0,function(){var F;return(0,g.Jh)(this,function(j){switch(j.label){case 0:return F=Array.from(this.instances.values()),[4,Promise.all((0,g.ev)((0,g.ev)([],(0,g.CR)(F.filter(function(G){return"INTERNAL"in G}).map(function(G){return G.INTERNAL.delete()}))),(0,g.CR)(F.filter(function(G){return"_delete"in G}).map(function(G){return G._delete()}))))];case 1:return j.sent(),[2]}})})},Z.prototype.isComponentSet=function(){return null!=this.component},Z.prototype.isInitialized=function(F){return void 0===F&&(F=re),this.instances.has(F)},Z.prototype.getOptions=function(F){return void 0===F&&(F=re),this.instancesOptions.get(F)||{}},Z.prototype.initialize=function(F){var j,G;void 0===F&&(F={});var U=F.options,W=void 0===U?{}:U,ce=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(ce))throw Error(this.name+"("+ce+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ne=this.getOrInitializeService({instanceIdentifier:ce,options:W});try{for(var te=(0,g.XA)(this.instancesDeferred.entries()),Pe=te.next();!Pe.done;Pe=te.next()){var Ae=(0,g.CR)(Pe.value,2),ke=Ae[1];ce===this.normalizeInstanceIdentifier(Ae[0])&&ke.resolve(ne)}}catch(Ve){j={error:Ve}}finally{try{Pe&&!Pe.done&&(G=te.return)&&G.call(te)}finally{if(j)throw j.error}}return ne},Z.prototype.onInit=function(F,j){var G,U=this.normalizeInstanceIdentifier(j),W=null!==(G=this.onInitCallbacks.get(U))&&void 0!==G?G:new Set;W.add(F),this.onInitCallbacks.set(U,W);var ce=this.instances.get(U);return ce&&F(ce,U),function(){W.delete(F)}},Z.prototype.invokeOnInitCallbacks=function(F,j){var G,U,W=this.onInitCallbacks.get(j);if(W)try{for(var ce=(0,g.XA)(W),ne=ce.next();!ne.done;ne=ce.next()){var te=ne.value;try{te(F,j)}catch(Pe){}}}catch(Pe){G={error:Pe}}finally{try{ne&&!ne.done&&(U=ce.return)&&U.call(ce)}finally{if(G)throw G.error}}},Z.prototype.getOrInitializeService=function(F){var j=F.instanceIdentifier,G=F.options,U=void 0===G?{}:G,W=this.instances.get(j);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:se(j),options:U}),this.instances.set(j,W),this.instancesOptions.set(j,U),this.invokeOnInitCallbacks(W,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,W)}catch(ce){}return W||null},Z.prototype.normalizeInstanceIdentifier=function(F){return void 0===F&&(F=re),this.component?this.component.multipleInstances?F:re:F},Z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Z}();function se(Z){return Z===re?void 0:Z}var me=function(){function Z(F){this.name=F,this.providers=new Map}return Z.prototype.addComponent=function(F){var j=this.getProvider(F.name);if(j.isComponentSet())throw new Error("Component "+F.name+" has already been registered with "+this.name);j.setComponent(F)},Z.prototype.addOrOverwriteComponent=function(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)},Z.prototype.getProvider=function(F){if(this.providers.has(F))return this.providers.get(F);var j=new ye(F,this);return this.providers.set(F,j),j},Z.prototype.getProviders=function(){return Array.from(this.providers.values())},Z}()},300:(ze,Ce,k)=>{"use strict";function g(){for(var G=0,U=0,W=arguments.length;U<W;U++)G+=arguments[U].length;var ce=Array(G),ne=0;for(U=0;U<W;U++)for(var te=arguments[U],Pe=0,Ae=te.length;Pe<Ae;Pe++,ne++)ce[ne]=te[Pe];return ce}k.d(Ce,{in:()=>re,Yd:()=>Z,Ub:()=>F,Am:()=>j});var ae,$=[],re=(()=>{return(G=re||(re={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",re;var G})(),ye={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},se=re.INFO,_e=((ae={})[re.DEBUG]="log",ae[re.VERBOSE]="log",ae[re.INFO]="info",ae[re.WARN]="warn",ae[re.ERROR]="error",ae),me=function(G,U){for(var W=[],ce=2;ce<arguments.length;ce++)W[ce-2]=arguments[ce];if(!(U<G.logLevel)){var ne=(new Date).toISOString(),te=_e[U];if(!te)throw new Error("Attempted to log a message with an invalid logType (value: "+U+")");console[te].apply(console,g(["["+ne+"]  "+G.name+":"],W))}},Z=function(){function G(U){this.name=U,this._logLevel=se,this._logHandler=me,this._userLogHandler=null,$.push(this)}return Object.defineProperty(G.prototype,"logLevel",{get:function(){return this._logLevel},set:function(U){if(!(U in re))throw new TypeError('Invalid value "'+U+'" assigned to `logLevel`');this._logLevel=U},enumerable:!1,configurable:!0}),G.prototype.setLogLevel=function(U){this._logLevel="string"==typeof U?ye[U]:U},Object.defineProperty(G.prototype,"logHandler",{get:function(){return this._logHandler},set:function(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(U){this._userLogHandler=U},enumerable:!1,configurable:!0}),G.prototype.debug=function(){for(var U=[],W=0;W<arguments.length;W++)U[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,g([this,re.DEBUG],U)),this._logHandler.apply(this,g([this,re.DEBUG],U))},G.prototype.log=function(){for(var U=[],W=0;W<arguments.length;W++)U[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,g([this,re.VERBOSE],U)),this._logHandler.apply(this,g([this,re.VERBOSE],U))},G.prototype.info=function(){for(var U=[],W=0;W<arguments.length;W++)U[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,g([this,re.INFO],U)),this._logHandler.apply(this,g([this,re.INFO],U))},G.prototype.warn=function(){for(var U=[],W=0;W<arguments.length;W++)U[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,g([this,re.WARN],U)),this._logHandler.apply(this,g([this,re.WARN],U))},G.prototype.error=function(){for(var U=[],W=0;W<arguments.length;W++)U[W]=arguments[W];this._userLogHandler&&this._userLogHandler.apply(this,g([this,re.ERROR],U)),this._logHandler.apply(this,g([this,re.ERROR],U))},G}();function F(G){$.forEach(function(U){U.setLogLevel(G)})}function j(G,U){for(var W=function(Pe){var Ae=null;U&&U.level&&(Ae=ye[U.level]),Pe.userLogHandler=null===G?null:function(xe,ke){for(var Ue=[],Ve=2;Ve<arguments.length;Ve++)Ue[Ve-2]=arguments[Ve];var dt=Ue.map(function(Qt){if(null==Qt)return null;if("string"==typeof Qt)return Qt;if("number"==typeof Qt||"boolean"==typeof Qt)return Qt.toString();if(Qt instanceof Error)return Qt.message;try{return JSON.stringify(Qt)}catch(Ee){return null}}).filter(function(Qt){return Qt}).join(" ");ke>=(null!=Ae?Ae:xe.logLevel)&&G({level:re[ke].toLowerCase(),message:dt,args:Ue,type:xe.name})}},ce=0,ne=$;ce<ne.length;ce++)W(ne[ce])}},4685:(ze,Ce,k)=>{"use strict";k.d(Ce,{BH:()=>W,LL:()=>Me,ZR:()=>Q,tV:()=>F,r3:()=>ht,Sg:()=>ce,ne:()=>Do,vZ:()=>un,ZB:()=>G,pd:()=>Io,m9:()=>nn,z$:()=>ne,jU:()=>Ae,ru:()=>xe,d:()=>Ue,xb:()=>$s,w1:()=>Ve,hl:()=>ie,uI:()=>te,UG:()=>Pe,b$:()=>ke,G6:()=>Ee,Mn:()=>dt,xO:()=>Si,zd:()=>Rr});var g=k(4762),ye=function(q){for(var L=[],ee=0,de=0;de<q.length;de++){var Y=q.charCodeAt(de);Y<128?L[ee++]=Y:Y<2048?(L[ee++]=Y>>6|192,L[ee++]=63&Y|128):55296==(64512&Y)&&de+1<q.length&&56320==(64512&q.charCodeAt(de+1))?(Y=65536+((1023&Y)<<10)+(1023&q.charCodeAt(++de)),L[ee++]=Y>>18|240,L[ee++]=Y>>12&63|128,L[ee++]=Y>>6&63|128,L[ee++]=63&Y|128):(L[ee++]=Y>>12|224,L[ee++]=Y>>6&63|128,L[ee++]=63&Y|128)}return L},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(q,L){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ee=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[],Y=0;Y<q.length;Y+=3){var Te=q[Y],nt=Y+1<q.length,wt=nt?q[Y+1]:0,Rt=Y+2<q.length,kt=Rt?q[Y+2]:0,bn=(15&wt)<<2|kt>>6,No=63&kt;Rt||(No=64,nt||(bn=64)),de.push(ee[Te>>2],ee[(3&Te)<<4|wt>>4],ee[bn],ee[No])}return de.join("")},encodeString:function(q,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(q):this.encodeByteArray(ye(q),L)},decodeString:function(q,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(q):function(q){for(var L=[],ee=0,de=0;ee<q.length;){var Y=q[ee++];if(Y<128)L[de++]=String.fromCharCode(Y);else if(Y>191&&Y<224){var Te=q[ee++];L[de++]=String.fromCharCode((31&Y)<<6|63&Te)}else if(Y>239&&Y<365){var Rt=((7&Y)<<18|(63&(Te=q[ee++]))<<12|(63&(nt=q[ee++]))<<6|63&q[ee++])-65536;L[de++]=String.fromCharCode(55296+(Rt>>10)),L[de++]=String.fromCharCode(56320+(1023&Rt))}else{Te=q[ee++];var nt=q[ee++];L[de++]=String.fromCharCode((15&Y)<<12|(63&Te)<<6|63&nt)}}return L.join("")}(this.decodeStringToByteArray(q,L))},decodeStringToByteArray:function(q,L){this.init_();for(var ee=L?this.charToByteMapWebSafe_:this.charToByteMap_,de=[],Y=0;Y<q.length;){var Te=ee[q.charAt(Y++)],wt=Y<q.length?ee[q.charAt(Y)]:0,kt=++Y<q.length?ee[q.charAt(Y)]:64,Wt=++Y<q.length?ee[q.charAt(Y)]:64;if(++Y,null==Te||null==wt||null==kt||null==Wt)throw Error();de.push(Te<<2|wt>>4),64!==kt&&(de.push(wt<<4&240|kt>>2),64!==Wt&&de.push(kt<<6&192|Wt))}return de},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},Z=function(q){return function(q){var L=ye(q);return _e.encodeByteArray(L,!0)}(q).replace(/\./g,"")},F=function(q){try{return _e.decodeString(q,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function G(q,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return L}for(var de in L)!L.hasOwnProperty(de)||!U(de)||(q[de]=G(q[de],L[de]));return q}function U(q){return"__proto__"!==q}var W=function(){function q(){var L=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ee,de){L.resolve=ee,L.reject=de})}return q.prototype.wrapCallback=function(L){var ee=this;return function(de,Y){de?ee.reject(de):ee.resolve(Y),"function"==typeof L&&(ee.promise.catch(function(){}),1===L.length?L(de):L(de,Y))}},q}();function ce(q,L){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var de=L||"demo-project",Y=q.iat||0,Te=q.sub||q.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var nt=(0,g.pi)({iss:"https://securetoken.google.com/"+de,aud:de,iat:Y,exp:Y+3600,auth_time:Y,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Z(JSON.stringify({alg:"none",type:"JWT"})),Z(JSON.stringify(nt)),""].join(".")}function ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function Pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function Ae(){return"object"==typeof self&&self.self===self}function xe(){var q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){return ne().indexOf("Electron/")>=0}function Ve(){var q=ne();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function dt(){return ne().indexOf("MSAppHost/")>=0}function Ee(){return!Pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){return"indexedDB"in self&&null!=indexedDB}var Q=function(q){function L(ee,de,Y){var Te=q.call(this,de)||this;return Te.code=ee,Te.customData=Y,Te.name="FirebaseError",Object.setPrototypeOf(Te,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(Te,Me.prototype.create),Te}return(0,g.ZT)(L,q),L}(Error),Me=function(){function q(L,ee,de){this.service=L,this.serviceName=ee,this.errors=de}return q.prototype.create=function(L){for(var ee=[],de=1;de<arguments.length;de++)ee[de-1]=arguments[de];var Y=ee[0]||{},Te=this.service+"/"+L,nt=this.errors[L],wt=nt?We(nt,Y):"Error",Rt=this.serviceName+": "+wt+" ("+Te+").",kt=new Q(Te,Rt,Y);return kt},q}();function We(q,L){return q.replace(St,function(ee,de){var Y=L[de];return null!=Y?String(Y):"<"+de+"?>"})}var St=/\{\$([^}]+)}/g;function ht(q,L){return Object.prototype.hasOwnProperty.call(q,L)}function $s(q){for(var L in q)if(Object.prototype.hasOwnProperty.call(q,L))return!1;return!0}function un(q,L){if(q===L)return!0;for(var ee=Object.keys(q),de=Object.keys(L),Y=0,Te=ee;Y<Te.length;Y++){if(!de.includes(nt=Te[Y]))return!1;var wt=q[nt],Rt=L[nt];if(di(wt)&&di(Rt)){if(!un(wt,Rt))return!1}else if(wt!==Rt)return!1}for(var kt=0,On=de;kt<On.length;kt++){var nt;if(!ee.includes(nt=On[kt]))return!1}return!0}function di(q){return null!==q&&"object"==typeof q}function Si(q){for(var L=[],ee=function(Rt,kt){Array.isArray(kt)?kt.forEach(function(On){L.push(encodeURIComponent(Rt)+"="+encodeURIComponent(On))}):L.push(encodeURIComponent(Rt)+"="+encodeURIComponent(kt))},de=0,Y=Object.entries(q);de<Y.length;de++){var Te=Y[de];ee(Te[0],Te[1])}return L.length?"&"+L.join("&"):""}function Rr(q){var L={};return q.replace(/^\?/,"").split("&").forEach(function(de){if(de){var Y=de.split("="),nt=Y[1];L[decodeURIComponent(Y[0])]=decodeURIComponent(nt)}}),L}function Io(q){var L=q.indexOf("?");if(!L)return"";var ee=q.indexOf("#",L);return q.substring(L,ee>0?ee:void 0)}function Do(q,L){var ee=new hs(q,L);return ee.subscribe.bind(ee)}!function(){function q(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}q.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},q.prototype.compress_=function(L,ee){ee||(ee=0);var de=this.W_;if("string"==typeof L)for(var Y=0;Y<16;Y++)de[Y]=L.charCodeAt(ee)<<24|L.charCodeAt(ee+1)<<16|L.charCodeAt(ee+2)<<8|L.charCodeAt(ee+3),ee+=4;else for(Y=0;Y<16;Y++)de[Y]=L[ee]<<24|L[ee+1]<<16|L[ee+2]<<8|L[ee+3],ee+=4;for(Y=16;Y<80;Y++)de[Y]=4294967295&((Te=de[Y-3]^de[Y-8]^de[Y-14]^de[Y-16])<<1|Te>>>31);var Wt,bn,nt=this.chain_[0],wt=this.chain_[1],Rt=this.chain_[2],kt=this.chain_[3],On=this.chain_[4];for(Y=0;Y<80;Y++){Y<40?Y<20?(Wt=kt^wt&(Rt^kt),bn=1518500249):(Wt=wt^Rt^kt,bn=1859775393):Y<60?(Wt=wt&Rt|kt&(wt|Rt),bn=2400959708):(Wt=wt^Rt^kt,bn=3395469782);var Te=(nt<<5|nt>>>27)+Wt+On+bn+de[Y]&4294967295;On=kt,kt=Rt,Rt=4294967295&(wt<<30|wt>>>2),wt=nt,nt=Te}this.chain_[0]=this.chain_[0]+nt&4294967295,this.chain_[1]=this.chain_[1]+wt&4294967295,this.chain_[2]=this.chain_[2]+Rt&4294967295,this.chain_[3]=this.chain_[3]+kt&4294967295,this.chain_[4]=this.chain_[4]+On&4294967295},q.prototype.update=function(L,ee){if(null!=L){void 0===ee&&(ee=L.length);for(var de=ee-this.blockSize,Y=0,Te=this.buf_,nt=this.inbuf_;Y<ee;){if(0===nt)for(;Y<=de;)this.compress_(L,Y),Y+=this.blockSize;if("string"==typeof L){for(;Y<ee;)if(Te[nt]=L.charCodeAt(Y),++Y,++nt===this.blockSize){this.compress_(Te),nt=0;break}}else for(;Y<ee;)if(Te[nt]=L[Y],++Y,++nt===this.blockSize){this.compress_(Te),nt=0;break}}this.inbuf_=nt,this.total_+=ee}},q.prototype.digest=function(){var L=[],ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&ee,ee/=256;this.compress_(this.buf_);var Y=0;for(de=0;de<5;de++)for(var Te=24;Te>=0;Te-=8)L[Y]=this.chain_[de]>>Te&255,++Y;return L}}();var hs=function(){function q(L,ee){var de=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(function(){L(de)}).catch(function(Y){de.error(Y)})}return q.prototype.next=function(L){this.forEachObserver(function(ee){ee.next(L)})},q.prototype.error=function(L){this.forEachObserver(function(ee){ee.error(L)}),this.close(L)},q.prototype.complete=function(){this.forEachObserver(function(L){L.complete()}),this.close()},q.prototype.subscribe=function(L,ee,de){var Te,Y=this;if(void 0===L&&void 0===ee&&void 0===de)throw new Error("Missing Observer.");void 0===(Te=function(q,L){if("object"!=typeof q||null===q)return!1;for(var ee=0,de=["next","error","complete"];ee<de.length;ee++){var Y=de[ee];if(Y in q&&"function"==typeof q[Y])return!0}return!1}(L)?L:{next:L,error:ee,complete:de}).next&&(Te.next=Hs),void 0===Te.error&&(Te.error=Hs),void 0===Te.complete&&(Te.complete=Hs);var nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Y.finalError?Te.error(Y.finalError):Te.complete()}catch(wt){}}),this.observers.push(Te),nt},q.prototype.unsubscribeOne=function(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},q.prototype.forEachObserver=function(L){if(!this.finalized)for(var ee=0;ee<this.observers.length;ee++)this.sendOne(ee,L)},q.prototype.sendOne=function(L,ee){var de=this;this.task.then(function(){if(void 0!==de.observers&&void 0!==de.observers[L])try{ee(de.observers[L])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})},q.prototype.close=function(L){var ee=this;this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(function(){ee.observers=void 0,ee.onNoObservers=void 0}))},q}();function Hs(){}function nn(q){return q&&q._delegate?q._delegate:q}},7841:(ze,Ce,k)=>{"use strict";k.d(Ce,{Z:()=>g.Z});var g=k(4486);g.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(ze,Ce,k)=>{"use strict";k.r(Ce);var g=k(8239),ae=k(4486),$=k(4685),re=k(5452),ye=k(4762),se=k(300),_e=k(6034);const ce=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ne=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},te=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new se.Yd("@firebase/auth");function xe(b,...m){Ae.logLevel<=se.in.ERROR&&Ae.error(`Auth (${re.SDK_VERSION}): ${b}`,...m)}function ke(b,...m){throw Qt(b,...m)}function Ue(b,...m){return Qt(b,...m)}function Ve(b,m,v){const C=Object.assign(Object.assign({},ne()),{[m]:v});return new $.LL("auth","Firebase",C).create(m,{appName:b.name})}function dt(b,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&ke(b,"argument-error"),Ve(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qt(b,...m){if("string"!=typeof b){const v=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(v,...C)}return te.create(b,...m)}function Ee(b,m,...v){if(!b)throw Qt(m,...v)}function ie(b){const m="INTERNAL ASSERTION FAILED: "+b;throw xe(m),new Error(m)}function oe(b,m){b||ie(m)}const fe=new Map;function le(b){oe(b instanceof Function,"Expected a class definition");let m=fe.get(b);return m?(oe(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,fe.set(b,m),m)}function Me(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function We(){return"http:"===St()||"https:"===St()}function St(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Gt{constructor(m,v){this.shortDelay=m,this.longDelay=v,oe(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,$.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _n(b,m){oe(b.emulator,"Emulator should always be set here");const{url:v}=b.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class li{static initialize(m,v,C){this.fetchImpl=m,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ci={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},vn=new Gt(3e4,6e4);function ht(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function Pt(b,m,v,C){return $s.apply(this,arguments)}function $s(){return($s=(0,g.Z)(function*(b,m,v,C,N={}){return Co(b,N,()=>{let M={},K={};C&&("GET"===m?K=C:M={body:JSON.stringify(C)});const ge=(0,$.xO)(Object.assign({key:b.config.apiKey},K)).slice(1),Le=new(li.headers());return Le.set("Content-Type","application/json"),Le.set("X-Client-Version",b._getSdkClientVersion()),b.languageCode&&Le.set("X-Firebase-Locale",b.languageCode),li.fetch()(Rr(b,b.config.apiHost,v,ge),Object.assign({method:m,headers:Le,referrerPolicy:"no-referrer"},M))})})).apply(this,arguments)}function Co(b,m,v){return un.apply(this,arguments)}function un(){return(un=(0,g.Z)(function*(b,m,v){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},ci),m);try{const N=new Io(b),M=yield Promise.race([v(),N.promise]);N.clearNetworkTimeout();const K=yield M.json();if("needConfirmation"in K)throw To(b,"account-exists-with-different-credential",K);if(M.ok&&!("errorMessage"in K))return K;{const ge=M.ok?K.errorMessage:K.error.message,[Le,Ge]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw To(b,"credential-already-in-use",K);if("EMAIL_EXISTS"===Le)throw To(b,"email-already-in-use",K);const ut=C[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ge)throw Ve(b,ut,Ge);ke(b,ut)}}catch(N){if(N instanceof $.ZR)throw N;ke(b,"network-request-failed")}})).apply(this,arguments)}function di(b,m,v,C){return Si.apply(this,arguments)}function Si(){return(Si=(0,g.Z)(function*(b,m,v,C,N={}){const M=yield Pt(b,m,v,C,N);return"mfaPendingCredential"in M&&ke(b,"multi-factor-auth-required",{serverResponse:M}),M})).apply(this,arguments)}function Rr(b,m,v,C){const N=`${m}${v}?${C}`;return b.config.emulator?_n(b.config,N):`${b.config.apiScheme}://${N}`}class Io{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Ue(this.auth,"timeout")),vn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function To(b,m,v){const C={appName:b.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const N=Ue(b,m,C);return N.customData._tokenResponse=v,N}function hs(){return(hs=(0,g.Z)(function*(b,m){return Pt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Hn(b,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,g.Z)(function*(b,m){return Pt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Hs(b,m){return mt.apply(this,arguments)}function mt(){return(mt=(0,g.Z)(function*(b,m){return Pt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Se(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function cn(){return(cn=(0,g.Z)(function*(b,m=!1){const v=(0,$.m9)(b),C=yield v.getIdToken(m),N=Ke(C);Ee(N&&N.exp&&N.auth_time&&N.iat,v.auth,"internal-error");const M="object"==typeof N.firebase?N.firebase:void 0,K=null==M?void 0:M.sign_in_provider;return{claims:N,token:C,authTime:Se(Lt(N.auth_time)),issuedAtTime:Se(Lt(N.iat)),expirationTime:Se(Lt(N.exp)),signInProvider:K||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Lt(b){return 1e3*Number(b)}function Ke(b){const[m,v,C]=b.split(".");if(void 0===m||void 0===v||void 0===C)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,$.tV)(v);return N?JSON.parse(N):(xe("Failed to decode base64 JWT payload"),null)}catch(N){return xe("Caught error parsing JWT payload as JSON",N),null}}function En(b,m){return So.apply(this,arguments)}function So(){return(So=(0,g.Z)(function*(b,m,v=!1){if(v)return m;try{return yield m}catch(C){throw C instanceof $.ZR&&Gi(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function Gi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class wn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const N=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,g.Z)(function*(){yield v.iteration()}),C)}iteration(){var m=this;return(0,g.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&m.schedule(!0))}m.schedule()})()}}class Gr{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Se(this.lastLoginAt),this.creationTime=Se(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ao(b){return nn.apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(b){var m;const v=b.auth,C=yield b.getIdToken(),N=yield En(b,Hs(v,{idToken:C}));Ee(null==N?void 0:N.users.length,v,"internal-error");const M=N.users[0];b._notifyReloadListener(M);const K=(null===(m=M.providerUserInfo)||void 0===m?void 0:m.length)?de(M.providerUserInfo):[],ge=ee(b.providerData,K),ut=!!b.isAnonymous&&!(b.email&&M.passwordHash||(null==ge?void 0:ge.length)),tt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ge,metadata:new Gr(M.createdAt,M.lastLoginAt),isAnonymous:ut};Object.assign(b,tt)})).apply(this,arguments)}function L(){return(L=(0,g.Z)(function*(b){const m=(0,$.m9)(b);yield Ao(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ee(b,m){return[...b.filter(C=>!m.some(N=>N.providerId===C.providerId)),...m]}function de(b){return b.map(m=>{var{providerId:v}=m,C=(0,ye._T)(m,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Te(){return(Te=(0,g.Z)(function*(b,m){const v=yield Co(b,{},()=>{const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:N,apiKey:M}=b.config,K=Rr(b,N,"/v1/token",`key=${M}`);return li.fetch()(K,{method:"POST",headers:{"X-Client-Version":b._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Ee(m.idToken,"internal-error"),Ee(void 0!==m.idToken,"internal-error"),Ee(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(b){const m=Ke(b);return Ee(m,"internal-error"),Ee(void 0!==m.exp,"internal-error"),Ee(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var C=this;return(0,g.Z)(function*(){return Ee(!C.accessToken||C.refreshToken,m,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var C=this;return(0,g.Z)(function*(){const{accessToken:N,refreshToken:M,expiresIn:K}=yield function(b,m){return Te.apply(this,arguments)}(m,v);C.updateTokensAndExpiration(N,M,Number(K))})()}updateTokensAndExpiration(m,v,C){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,v){const{refreshToken:C,accessToken:N,expirationTime:M}=v,K=new nt;return C&&(Ee("string"==typeof C,"internal-error",{appName:m}),K.refreshToken=C),N&&(Ee("string"==typeof N,"internal-error",{appName:m}),K.accessToken=N),M&&(Ee("number"==typeof M,"internal-error",{appName:m}),K.expirationTime=M),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new nt,this.toJSON())}_performRefresh(){return ie("not implemented")}}function wt(b,m){Ee("string"==typeof b||void 0===b,"internal-error",{appName:m})}class Rt{constructor(m){var{uid:v,auth:C,stsTokenManager:N}=m,M=(0,ye._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.metadata=new Gr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,g.Z)(function*(){const C=yield En(v,v.stsTokenManager.getToken(v.auth,m));return Ee(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(m){return function(b){return cn.apply(this,arguments)}(this,m)}reload(){return function(b){return L.apply(this,arguments)}(this)}_assign(m){this!==m&&(Ee(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Rt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var C=this;return(0,g.Z)(function*(){let N=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),N=!0),v&&(yield Ao(C)),yield C.auth._persistUserIfCurrent(C),N&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,g.Z)(function*(){const v=yield m.getIdToken();return yield En(m,function(b,m){return hs.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var C,N,M,K,ge,Le,Ge,ut;const tt=null!==(C=v.displayName)&&void 0!==C?C:void 0,Tn=null!==(N=v.email)&&void 0!==N?N:void 0,Jt=null!==(M=v.phoneNumber)&&void 0!==M?M:void 0,fl=null!==(K=v.photoURL)&&void 0!==K?K:void 0,pm=null!==(ge=v.tenantId)&&void 0!==ge?ge:void 0,na=null!==(Le=v._redirectEventId)&&void 0!==Le?Le:void 0,vf=null!==(Ge=v.createdAt)&&void 0!==Ge?Ge:void 0,dv=null!==(ut=v.lastLoginAt)&&void 0!==ut?ut:void 0,{uid:nd,emailVerified:gm,isAnonymous:mm,providerData:Ef,stsTokenManager:ra}=v;Ee(nd&&ra,m,"internal-error");const Xi=nt.fromJSON(this.name,ra);Ee("string"==typeof nd,m,"internal-error"),wt(tt,m.name),wt(Tn,m.name),Ee("boolean"==typeof gm,m,"internal-error"),Ee("boolean"==typeof mm,m,"internal-error"),wt(Jt,m.name),wt(fl,m.name),wt(pm,m.name),wt(na,m.name),wt(vf,m.name),wt(dv,m.name);const ym=new Rt({uid:nd,auth:m,email:Tn,emailVerified:gm,displayName:tt,isAnonymous:mm,photoURL:fl,phoneNumber:Jt,tenantId:pm,stsTokenManager:Xi,createdAt:vf,lastLoginAt:dv});return Ef&&Array.isArray(Ef)&&(ym.providerData=Ef.map(hv=>Object.assign({},hv))),na&&(ym._redirectEventId=na),ym}static _fromIdTokenResponse(m,v,C=!1){return(0,g.Z)(function*(){const N=new nt;N.updateFromServerResponse(v);const M=new Rt({uid:v.localId,auth:m,stsTokenManager:N,isAnonymous:C});return yield Ao(M),M})()}}const On=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(v,C){var N=this;return(0,g.Z)(function*(){N.storage[v]=C})()}_get(v){var C=this;return(0,g.Z)(function*(){const N=C.storage[v];return void 0===N?null:N})()}_remove(v){var C=this;return(0,g.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return b.type="NONE",b})();function Wt(b,m,v){return`firebase:${b}:${m}:${v}`}class bn{constructor(m,v,C){this.persistence=m,this.auth=v,this.userKey=C;const{config:N,name:M}=this.auth;this.fullUserKey=Wt(this.userKey,N.apiKey,M),this.fullPersistenceKey=Wt("persistence",N.apiKey,M),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,g.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?Rt._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,g.Z)(function*(){if(v.persistence===m)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,C="authUser"){return(0,g.Z)(function*(){if(!v.length)return new bn(le(On),m,C);const N=(yield Promise.all(v.map(function(){var Ge=(0,g.Z)(function*(ut){if(yield ut._isAvailable())return ut});return function(ut){return Ge.apply(this,arguments)}}()))).filter(Ge=>Ge);let M=N[0]||le(On);const K=Wt(C,m.config.apiKey,m.name);let ge=null;for(const Ge of v)try{const ut=yield Ge._get(K);if(ut){const tt=Rt._fromJSON(m,ut);Ge!==M&&(ge=tt),M=Ge;break}}catch(ut){}const Le=N.filter(Ge=>Ge._shouldAllowMigration);return M._shouldAllowMigration&&Le.length?(M=Le[0],ge&&(yield M._set(K,ge.toJSON())),yield Promise.all(v.map(function(){var Ge=(0,g.Z)(function*(ut){if(ut!==M)try{yield ut._remove(K)}catch(tt){}});return function(ut){return Ge.apply(this,arguments)}}())),new bn(M,m,C)):new bn(M,m,C)})()}}function No(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(pc(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ea(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(bu(m))return"Blackberry";if(ba(m))return"Webos";if(_h(m))return"Safari";if((m.includes("chrome/")||vh(m))&&!m.includes("edge/"))return"Chrome";if(wa(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Ea(b=(0,$.z$)()){return/firefox\//i.test(b)}function _h(b=(0,$.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function vh(b=(0,$.z$)()){return/crios\//i.test(b)}function pc(b=(0,$.z$)()){return/iemobile/i.test(b)}function wa(b=(0,$.z$)()){return/android/i.test(b)}function bu(b=(0,$.z$)()){return/blackberry/i.test(b)}function ba(b=(0,$.z$)()){return/webos/i.test(b)}function Ni(b=(0,$.z$)()){return/iphone|ipad|ipod/i.test(b)}function qi(b=(0,$.z$)()){return Ni(b)||wa(b)||ba(b)||bu(b)||/windows phone/i.test(b)||pc(b)}function vr(b,m=[]){let v;switch(b){case"Browser":v=No((0,$.z$)());break;case"Worker":v=`${No((0,$.z$)())}-${b}`;break;default:v=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${re.SDK_VERSION}/${C}`}class M_{constructor(m,v){this.app=m,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new je(this),this.idTokenSubscription=new je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=te,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(m,v){var C=this;return v&&(this._popupRedirectResolver=le(v)),this._initializationPromise=this.queue((0,g.Z)(function*(){var N;C._deleted||(C.persistenceManager=yield bn.create(C,m),!C._deleted&&((null===(N=C._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(v),!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,g.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v)}})()}initializeCurrentUser(m){var v=this;return(0,g.Z)(function*(){var C;let N=yield v.assertedPersistence.getCurrentUser();if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const M=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,K=null==N?void 0:N._redirectEventId,ge=yield v.tryRedirectSignIn(m);(!M||M===K)&&(null==ge?void 0:ge.user)&&(N=ge.user)}return N?N._redirectEventId?(Ee(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===N._redirectEventId?v.directlySetCurrentUser(N):v.reloadAndSetCurrentUserOrClear(N)):v.reloadAndSetCurrentUserOrClear(N):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var v=this;return(0,g.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(N){yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,g.Z)(function*(){try{yield Ao(m)}catch(C){if("auth/network-request-failed"!==C.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,g.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,g.Z)(function*(){const C=m?(0,$.m9)(m):null;return C&&Ee(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(m){var v=this;return(0,g.Z)(function*(){if(!v._deleted)return m&&Ee(v.tenantId===m.tenantId,v,"tenant-id-mismatch"),v.queue((0,g.Z)(function*(){yield v.directlySetCurrentUser(m),v.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,g.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var v=this;return this.queue((0,g.Z)(function*(){yield v.assertedPersistence.setPersistence(le(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new $.LL("auth","Firebase",m())}onAuthStateChanged(m,v,C){return this.registerStateListener(this.authStateSubscription,m,v,C)}onIdTokenChanged(m,v,C){return this.registerStateListener(this.idTokenSubscription,m,v,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var C=this;return(0,g.Z)(function*(){const N=yield C.getOrInitRedirectPersistenceManager(v);return null===m?N.removeCurrentUser():N.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,g.Z)(function*(){if(!v.redirectPersistenceManager){const C=m&&le(m)||v._popupRedirectResolver;Ee(C,v,"argument-error"),v.redirectPersistenceManager=yield bn.create(v,[le(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,g.Z)(function*(){var C,N;return v._isInitialized&&(yield v.queue((0,g.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===m?v._currentUser:(null===(N=v.redirectUser)||void 0===N?void 0:N._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,g.Z)(function*(){if(m===v.currentUser)return v.queue((0,g.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,C,N){if(this._deleted)return()=>{};const M="function"==typeof v?v:v.next.bind(v),K=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(K,this,"internal-error"),K.then(()=>M(this.currentUser)),"function"==typeof v?m.addObserver(v,C,N):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,g.Z)(function*(){v.currentUser&&v.currentUser!==m&&(v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh()),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=vr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Vt(b){return(0,$.m9)(b)}class je{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,$.ne)(v=>this.observer=v)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xt(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Gs(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Er{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return ie("not implemented")}_getIdTokenResponse(m){return ie("not implemented")}_linkToIdToken(m,v){return ie("not implemented")}_getReauthenticationResolver(m){return ie("not implemented")}}function dn(b,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,g.Z)(function*(b,m){return Pt(b,"POST","/v1/accounts:resetPassword",ht(b,m))})).apply(this,arguments)}function Ca(b,m){return yt.apply(this,arguments)}function yt(){return(yt=(0,g.Z)(function*(b,m){return Pt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function gc(b,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,g.Z)(function*(b,m){return Pt(b,"POST","/v1/accounts:update",ht(b,m))})).apply(this,arguments)}function fs(){return(fs=(0,g.Z)(function*(b,m){return di(b,"POST","/v1/accounts:signInWithPassword",ht(b,m))})).apply(this,arguments)}function Gn(b,m){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,g.Z)(function*(b,m){return Pt(b,"POST","/v1/accounts:sendOobCode",ht(b,m))})).apply(this,arguments)}function zi(b,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(b,m){return Gn(b,m)})).apply(this,arguments)}function Kt(b,m){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,g.Z)(function*(b,m){return Gn(b,m)})).apply(this,arguments)}function wh(b,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,g.Z)(function*(b,m){return Gn(b,m)})).apply(this,arguments)}function bh(b,m){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,g.Z)(function*(b,m){return Gn(b,m)})).apply(this,arguments)}function ps(){return(ps=(0,g.Z)(function*(b,m){return di(b,"POST","/v1/accounts:signInWithEmailLink",ht(b,m))})).apply(this,arguments)}function Ch(){return(Ch=(0,g.Z)(function*(b,m){return di(b,"POST","/v1/accounts:signInWithEmailLink",ht(b,m))})).apply(this,arguments)}class Wr extends Er{constructor(m,v,C,N=null){super("password",C),this._email=m,this._password=v,this._tenantId=N}static _fromEmailAndPassword(m,v){return new Wr(m,v,"password")}static _fromEmailAndCode(m,v,C=null){return new Wr(m,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,g.Z)(function*(){switch(v.signInMethod){case"password":return function(b,m){return fs.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(b,m){return ps.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:ke(m,"internal-error")}})()}_linkToIdToken(m,v){var C=this;return(0,g.Z)(function*(){switch(C.signInMethod){case"password":return Ca(m,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(b,m){return Ch.apply(this,arguments)}(m,{idToken:v,email:C._email,oobCode:C._password});default:ke(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ut(b,m){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,g.Z)(function*(b,m){return di(b,"POST","/v1/accounts:signInWithIdp",ht(b,m))})).apply(this,arguments)}class Kr extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Kr(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):ke("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:N}=v,M=(0,ye._T)(v,["providerId","signInMethod"]);if(!C||!N)return null;const K=new Kr(C,N);return Object.assign(K,M),K}_getIdTokenResponse(m){return Ut(m,this.buildRequest())}_linkToIdToken(m,v){const C=this.buildRequest();return C.idToken=v,Ut(m,C)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Ut(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,$.xO)(v)}return m}}function Ri(b,m){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,g.Z)(function*(b,m){return Pt(b,"POST","/v1/accounts:sendVerificationCode",ht(b,m))})).apply(this,arguments)}function Th(){return(Th=(0,g.Z)(function*(b,m){return di(b,"POST","/v1/accounts:signInWithPhoneNumber",ht(b,m))})).apply(this,arguments)}function vg(){return(vg=(0,g.Z)(function*(b,m){const v=yield di(b,"POST","/v1/accounts:signInWithPhoneNumber",ht(b,m));if(v.temporaryProof)throw To(b,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Ab={USER_NOT_FOUND:"user-not-found"};function Eg(){return(Eg=(0,g.Z)(function*(b,m){return di(b,"POST","/v1/accounts:signInWithPhoneNumber",ht(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Ab)})).apply(this,arguments)}class Da extends Er{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Da({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Da({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function(b,m){return Th.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function(b,m){return vg.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(b,m){return Eg.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:C,verificationCode:N}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:C,code:N}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:C,phoneNumber:N,temporaryProof:M}=m;return C||v||N||M?new Da({verificationId:v,verificationCode:C,phoneNumber:N,temporaryProof:M}):null}}class yc{constructor(m){var v,C,N,M,K,ge;const Le=(0,$.zd)((0,$.pd)(m)),Ge=null!==(v=Le.apiKey)&&void 0!==v?v:null,ut=null!==(C=Le.oobCode)&&void 0!==C?C:null,tt=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=Le.mode)&&void 0!==N?N:null);Ee(Ge&&ut&&tt,"argument-error"),this.apiKey=Ge,this.operation=tt,this.code=ut,this.continueUrl=null!==(M=Le.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(K=Le.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ge=Le.tenantId)&&void 0!==ge?ge:null}static parseLink(m){const v=function(b){const m=(0,$.zd)((0,$.pd)(b)).link,v=m?(0,$.zd)((0,$.pd)(m)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(b)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||v||m||b}(m);try{return new yc(v)}catch(C){return null}}}let wg=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(v,C){return Wr._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const N=yc.parseLink(C);return Ee(N,"argument-error"),Wr._fromEmailAndCode(v,N.code,N.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Mo{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Sa extends Mo{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Po extends Sa{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Ee("providerId"in v&&"signInMethod"in v,"argument-error"),Kr._fromParams(v)}credential(m){return this._credential(m)}_credential(m){return Ee(m.idToken||m.accessToken,"argument-error"),Kr._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Po.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Po.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:N,pendingToken:M,nonce:K,providerId:ge}=m;if(!C&&!N&&!v&&!M||!ge)return null;try{return new Po(ge)._credential({idToken:v,accessToken:C,rawNonce:K,pendingToken:M})}catch(Le){return null}}}let Dh=(()=>{class b extends Sa{constructor(){super("facebook.com")}static credential(v){return Kr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return b.credential(v.oauthAccessToken)}catch(C){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Sh=(()=>{class b extends Sa{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return Kr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:N}=v;if(!C&&!N)return null;try{return b.credential(C,N)}catch(M){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ah=(()=>{class b extends Sa{constructor(){super("github.com")}static credential(v){return Kr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return b.credential(v.oauthAccessToken)}catch(C){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Aa extends Er{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Ut(m,this.buildRequest())}_linkToIdToken(m,v){const C=this.buildRequest();return C.idToken=v,Ut(m,C)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Ut(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:N,pendingToken:M}=v;return C&&N&&M&&C===N?new Aa(C,M):null}static _create(m,v){return new Aa(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Rh=(()=>{class b extends Sa{constructor(){super("twitter.com")}static credential(v,C){return Kr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:N}=v;if(!C||!N)return null;try{return b.credential(C,N)}catch(M){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function xh(b,m){return Du.apply(this,arguments)}function Du(){return(Du=(0,g.Z)(function*(b,m){return di(b,"POST","/v1/accounts:signUp",ht(b,m))})).apply(this,arguments)}class xi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,C,N=!1){return(0,g.Z)(function*(){const M=yield Rt._fromIdTokenResponse(m,C,N),K=k_(C);return new xi({user:M,providerId:K,_tokenResponse:C,operationType:v})})()}static _forOperation(m,v,C){return(0,g.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const N=k_(C);return new xi({user:m,providerId:N,_tokenResponse:C,operationType:v})})()}}function k_(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Su(){return(Su=(0,g.Z)(function*(b){var m;const v=Vt(b);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new xi({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield xh(v,{returnSecureToken:!0}),N=yield xi._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}class _c extends $.ZR{constructor(m,v,C,N){var M;super(v.code,v.message),this.operationType=C,this.user=N,this.name="FirebaseError",Object.setPrototypeOf(this,_c.prototype),this.appName=m.name,this.code=v.code,this.tenantId=null!==(M=m.tenantId)&&void 0!==M?M:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(m,v,C,N){return new _c(m,v,C,N)}}function Au(b,m,v,C){return("reauthenticate"===m?v._getReauthenticationResolver(b):v._getIdTokenResponse(b)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?_c._fromErrorAndOperation(b,M,m,C):M})}function bg(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function vc(){return(vc=(0,g.Z)(function*(b,m){const v=(0,$.m9)(b);yield zs(!0,v,m);const{providerUserInfo:C}=yield Hn(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),N=bg(C||[]);return v.providerData=v.providerData.filter(M=>N.has(M.providerId)),N.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Ec(b,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,g.Z)(function*(b,m,v=!1){const C=yield En(b,m._linkToIdToken(b.auth,yield b.getIdToken()),v);return xi._forOperation(b,"link",C)})).apply(this,arguments)}function zs(b,m,v){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,g.Z)(function*(b,m,v){yield Ao(m);const N=!1===b?"provider-already-linked":"no-such-provider";Ee(bg(m.providerData).has(v)===b,m.auth,N)})).apply(this,arguments)}function wc(b,m){return rn.apply(this,arguments)}function rn(){return(rn=(0,g.Z)(function*(b,m,v=!1){const{auth:C}=b,N="reauthenticate";try{const M=yield En(b,Au(C,N,m,b),v);Ee(M.idToken,C,"internal-error");const K=Ke(M.idToken);Ee(K,C,"internal-error");const{sub:ge}=K;return Ee(b.uid===ge,C,"user-mismatch"),xi._forOperation(b,N,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&ke(C,"user-mismatch"),M}})).apply(this,arguments)}function Cg(b,m){return bc.apply(this,arguments)}function bc(){return(bc=(0,g.Z)(function*(b,m,v=!1){const C="signIn",N=yield Au(b,C,m),M=yield xi._fromIdTokenResponse(b,C,N);return v||(yield b._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Cc(b,m){return sn.apply(this,arguments)}function sn(){return(sn=(0,g.Z)(function*(b,m){return Cg(Vt(b),m)})).apply(this,arguments)}function Ig(b,m){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,g.Z)(function*(b,m){const v=(0,$.m9)(b);return yield zs(!1,v,m.providerId),Ec(v,m)})).apply(this,arguments)}function Ru(b,m){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,g.Z)(function*(b,m){return wc((0,$.m9)(b),m)})).apply(this,arguments)}function Pb(b,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,g.Z)(function*(b,m){return di(b,"POST","/v1/accounts:signInWithCustomToken",ht(b,m))})).apply(this,arguments)}function wr(){return(wr=(0,g.Z)(function*(b,m){const v=Vt(b),C=yield Pb(v,{token:m,returnSecureToken:!0}),N=yield xi._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}class Ou{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?Mu._fromServerResponse(m,v):ke(m,"internal-error")}}class Mu extends Ou{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new Mu(v)}}function Pu(b,m,v){var C;Ee((null===(C=v.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),Ee(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ee(v.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iosBundleId=v.iOS.bundleId),v.android&&(Ee(v.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Ic(){return(Ic=(0,g.Z)(function*(b,m,v){const C=(0,$.m9)(b),N={requestType:"PASSWORD_RESET",email:m};v&&Pu(C,N,v),yield Kt(C,N)})).apply(this,arguments)}function ct(){return(ct=(0,g.Z)(function*(b,m,v){yield dn((0,$.m9)(b),{oobCode:m,newPassword:v})})).apply(this,arguments)}function Fo(){return(Fo=(0,g.Z)(function*(b,m){yield gc((0,$.m9)(b),{oobCode:m})})).apply(this,arguments)}function ku(b,m){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,g.Z)(function*(b,m){const v=(0,$.m9)(b),C=yield dn(v,{oobCode:m}),N=C.requestType;switch(Ee(N,v,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(C.mfaInfo,v,"internal-error");default:Ee(C.email,v,"internal-error")}let M=null;return C.mfaInfo&&(M=Ou._fromServerResponse(Vt(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:M},operation:N}})).apply(this,arguments)}function Lo(){return(Lo=(0,g.Z)(function*(b,m){const{data:v}=yield ku((0,$.m9)(b),m);return v.email})).apply(this,arguments)}function Ie(){return(Ie=(0,g.Z)(function*(b,m,v){const C=Vt(b),N=yield xh(C,{returnSecureToken:!0,email:m,password:v}),M=yield xi._fromIdTokenResponse(C,"signIn",N);return yield C._updateCurrentUser(M.user),M})).apply(this,arguments)}function Cn(){return(Cn=(0,g.Z)(function*(b,m,v){const C=(0,$.m9)(b),N={requestType:"EMAIL_SIGNIN",email:m};Ee(v.handleCodeInApp,C,"argument-error"),v&&Pu(C,N,v),yield wh(C,N)})).apply(this,arguments)}function hi(){return(hi=(0,g.Z)(function*(b,m,v){const C=(0,$.m9)(b),N=wg.credentialWithLink(m,v||Me());return Ee(N._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Cc(C,N)})).apply(this,arguments)}function kh(b,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(b,m){return Pt(b,"POST","/v1/accounts:createAuthUri",ht(b,m))})).apply(this,arguments)}function Ag(){return(Ag=(0,g.Z)(function*(b,m){const C={identifier:m,continueUri:We()?Me():"http://localhost"},{signinMethods:N}=yield kh((0,$.m9)(b),C);return N||[]})).apply(this,arguments)}function Ys(){return(Ys=(0,g.Z)(function*(b,m){const v=(0,$.m9)(b),N={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Pu(v.auth,N,m);const{email:M}=yield zi(v.auth,N);M!==b.email&&(yield b.reload())})).apply(this,arguments)}function fi(){return(fi=(0,g.Z)(function*(b,m,v){const C=(0,$.m9)(b),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};v&&Pu(C.auth,M,v);const{email:K}=yield bh(C.auth,M);K!==b.email&&(yield b.reload())})).apply(this,arguments)}function Fh(b,m){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,g.Z)(function*(b,m){return Pt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Lh(){return(Lh=(0,g.Z)(function*(b,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const C=(0,$.m9)(b),M={idToken:yield C.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},K=yield En(C,Fh(C.auth,M));C.displayName=K.displayName||null,C.photoURL=K.photoUrl||null;const ge=C.providerData.find(({providerId:Le})=>"password"===Le);ge&&(ge.displayName=C.displayName,ge.photoURL=C.photoURL),yield C._updateTokensIfNecessary(K)})).apply(this,arguments)}function Uh(b,m,v){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,g.Z)(function*(b,m,v){const{auth:C}=b,M={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(M.email=m),v&&(M.password=v);const K=yield En(b,Ca(C,M));yield b._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Uo{constructor(m,v,C={}){this.isNewUser=m,this.providerId=v,this.profile=C}}class jh extends Uo{constructor(m,v,C,N){super(m,v,C),this.username=N}}class V_ extends Uo{constructor(m,v){super(m,"facebook.com",v)}}class U_ extends jh{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Uu extends Uo{constructor(m,v){super(m,"google.com",v)}}class Rg extends jh{constructor(m,v,C){super(m,"twitter.com",v,C)}}function xg(b){const{user:m,_tokenResponse:v}=b;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(b){var m,v;if(!b)return null;const{providerId:C}=b,N=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},M=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&(null==b?void 0:b.idToken)){const K=null===(v=null===(m=Ke(b.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(K)return new Uo(M,"anonymous"!==K&&"custom"!==K?K:null)}if(!C)return null;switch(C){case"facebook.com":return new V_(M,N);case"github.com":return new U_(M,N);case"google.com":return new Uu(M,N);case"twitter.com":return new Rg(M,N,b.screenName||null);case"custom":case"anonymous":return new Uo(M,null);default:return new Uo(M,C,N)}}(v)}class Mi{constructor(m,v){this.type=m,this.credential=v}static _fromIdtoken(m){return new Mi("enroll",m)}static _fromMfaPendingCredential(m){return new Mi("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,C;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Mi._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(C=m.multiFactorSession)||void 0===C?void 0:C.idToken)return Mi._fromIdtoken(m.multiFactorSession.idToken)}return null}}class $h{constructor(m,v,C){this.session=m,this.hints=v,this.signInResolver=C}static _fromError(m,v){const C=Vt(m),N=(v.serverResponse.mfaInfo||[]).map(K=>Ou._fromServerResponse(C,K));Ee(v.serverResponse.mfaPendingCredential,C,"internal-error");const M=Mi._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new $h(M,N,function(){var K=(0,g.Z)(function*(ge){const Le=yield ge._process(C,M);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const Ge=Object.assign(Object.assign({},v.serverResponse),{idToken:Le.idToken,refreshToken:Le.refreshToken});switch(v.operationType){case"signIn":const ut=yield xi._fromIdTokenResponse(C,v.operationType,Ge);return yield C._updateCurrentUser(ut.user),ut;case"reauthenticate":return Ee(v.user,C,"internal-error"),xi._forOperation(v.user,v.operationType,Ge);default:ke(C,"internal-error")}});return function(ge){return K.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,g.Z)(function*(){return v.signInResolver(m)})()}}function B_(b,m){return Pt(b,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:b.tenantId},m))}class Na{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>Ou._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new Na(m)}getSession(){var m=this;return(0,g.Z)(function*(){return Mi._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,v){var C=this;return(0,g.Z)(function*(){const N=m,M=yield C.getSession(),K=yield En(C.user,N._process(C.user.auth,M,v));return yield C.user._updateTokensIfNecessary(K),C.user.reload()})()}unenroll(m){var v=this;return(0,g.Z)(function*(){const C="string"==typeof m?m:m.uid,N=yield v.user.getIdToken(),M=yield En(v.user,function(b,m){return Pt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:b.tenantId},m))}(v.user.auth,{idToken:N,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:K})=>K!==C),yield v.user._updateTokensIfNecessary(M);try{yield v.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const Ra=new WeakMap,Bu="__sak";class qh{constructor(m,v){this.storage=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Bu,"1"),this.storage.removeItem(Bu),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}}const Tc=(()=>{class b extends qh{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,$.z$)();return _h(b)||Ni(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=qi(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const N=this.storage.getItem(C),M=this.localCache[C];N!==M&&v(C,M,N)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((ge,Le,Ge)=>{this.notifyListeners(ge,Ge)});const N=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(N);if(v.newValue!==ge)null!==v.newValue?this.storage.setItem(N,v.newValue):this.storage.removeItem(N);else if(this.localCache[N]===v.newValue&&!C)return}const M=()=>{const ge=this.storage.getItem(N);!C&&this.localCache[N]===ge||this.notifyListeners(N,ge)},K=this.storage.getItem(N);(0,$.w1)()&&10===document.documentMode&&K!==v.newValue&&v.newValue!==v.oldValue?setTimeout(M,10):M()}notifyListeners(v,C){this.localCache[v]=C;const N=this.listeners[v];if(N)for(const M of Array.from(N))M(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var N=()=>super._set,M=this;return(0,g.Z)(function*(){yield N().call(M,v,C),M.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,N=this;return(0,g.Z)(function*(){const M=yield C().call(N,v);return N.localCache[v]=JSON.stringify(M),M})()}_remove(v){var C=()=>super._remove,N=this;return(0,g.Z)(function*(){yield C().call(N,v),delete N.localCache[v]})()}}return b.type="LOCAL",b})(),ys=(()=>{class b extends qh{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return b.type="SESSION",b})();let Xs=(()=>{class b{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(M=>M.isListeningto(v));if(C)return C;const N=new b(v);return this.receivers.push(N),N}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,g.Z)(function*(){const N=v,{eventId:M,eventType:K,data:ge}=N.data,Le=C.handlersMap[K];if(!(null==Le?void 0:Le.size))return;N.ports[0].postMessage({status:"ack",eventId:M,eventType:K});const Ge=Array.from(Le).map(function(){var tt=(0,g.Z)(function*(Tn){return Tn(N.origin,ge)});return function(Tn){return tt.apply(this,arguments)}}()),ut=yield function(b){return Promise.all(b.map(function(){var m=(0,g.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return m.apply(this,arguments)}}()))}(Ge);N.ports[0].postMessage({status:"done",eventId:M,eventType:K,response:ut})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Dc(b="",m=10){let v="";for(let C=0;C<m;C++)v+=Math.floor(10*Math.random());return b+v}class Lb{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,C=50){var N=this;return(0,g.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let K,ge;return new Promise((Le,Ge)=>{const ut=Dc("",20);M.port1.start();const tt=setTimeout(()=>{Ge(new Error("unsupported_event"))},C);ge={messageChannel:M,onMessage(Tn){const Jt=Tn;if(Jt.data.eventId===ut)switch(Jt.data.status){case"ack":clearTimeout(tt),K=setTimeout(()=>{Ge(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Le(Jt.data.response);break;default:clearTimeout(tt),clearTimeout(K),Ge(new Error("invalid_response"))}}},N.handlers.add(ge),M.port1.addEventListener("message",ge.onMessage),N.target.postMessage({eventType:m,eventId:ut,data:v},[M.port2])}).finally(()=>{ge&&N.removeMessageHandler(ge)})})()}}function an(){return window}function Sc(){return void 0!==an().WorkerGlobalScope&&"function"==typeof an().importScripts}function Zh(){return(Zh=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const kg="firebaseLocalStorageDb",Hu="firebaseLocalStorage",Ac="fbase_key";class Nc{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Rc(b,m){return b.transaction([Hu],m?"readwrite":"readonly").objectStore(Hu)}function ot(){const b=indexedDB.open(kg,1);return new Promise((m,v)=>{b.addEventListener("error",()=>{v(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Hu,{keyPath:Ac})}catch(N){v(N)}}),b.addEventListener("success",(0,g.Z)(function*(){const C=b.result;C.objectStoreNames.contains(Hu)?m(C):(C.close(),yield function(){const b=indexedDB.deleteDatabase(kg);return new Nc(b).toPromise()}(),m(yield ot()))}))})}function dr(b,m,v){return eo.apply(this,arguments)}function eo(){return(eo=(0,g.Z)(function*(b,m,v){const C=Rc(b,!0).put({[Ac]:m,value:v});return new Nc(C).toPromise()})).apply(this,arguments)}function xa(){return(xa=(0,g.Z)(function*(b,m){const v=Rc(b,!1).get(m),C=yield new Nc(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function $o(b,m){const v=Rc(b,!0).delete(m);return new Nc(v).toPromise()}const Oa=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,g.Z)(function*(){return v.db||(v.db=yield ot()),v.db})()}_withRetries(v){var C=this;return(0,g.Z)(function*(){let N=0;for(;;)try{const M=yield C._openDb();return yield v(M)}catch(M){if(N++>3)throw M;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,g.Z)(function*(){return Sc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,g.Z)(function*(){v.receiver=Xs._getInstance(Sc()?self:null),v.receiver._subscribe("keyChanged",function(){var C=(0,g.Z)(function*(N,M){return{keyProcessed:(yield v._poll()).includes(M.key)}});return function(N,M){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,g.Z)(function*(N,M){return["keyChanged"]});return function(N,M){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,g.Z)(function*(){var C,N;if(v.activeServiceWorker=yield function(){return Zh.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Lb(v.activeServiceWorker);const M=yield v.sender._send("ping",{},800);!M||(null===(C=M[0])||void 0===C?void 0:C.fulfilled)&&(null===(N=M[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,g.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const v=yield ot();return yield dr(v,Bu,"1"),yield $o(v,Bu),!0}catch(v){}return!1})()}_withPendingWrite(v){var C=this;return(0,g.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var N=this;return(0,g.Z)(function*(){return N._withPendingWrite((0,g.Z)(function*(){return yield N._withRetries(M=>dr(M,v,C)),N.localCache[v]=C,N.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,g.Z)(function*(){const N=yield C._withRetries(M=>function(b,m){return xa.apply(this,arguments)}(M,v));return C.localCache[v]=N,N})()}_remove(v){var C=this;return(0,g.Z)(function*(){return C._withPendingWrite((0,g.Z)(function*(){return yield C._withRetries(N=>$o(N,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,g.Z)(function*(){const C=yield v._withRetries(K=>{const ge=Rc(K,!1).getAll();return new Nc(ge).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const N=[],M=new Set;for(const{fbase_key:K,value:ge}of C)M.add(K),JSON.stringify(v.localCache[K])!==JSON.stringify(ge)&&(v.notifyListeners(K,ge),N.push(K));for(const K of Object.keys(v.localCache))v.localCache[K]&&!M.has(K)&&(v.notifyListeners(K,null),N.push(K));return N})()}notifyListeners(v,C){this.localCache[v]=C;const N=this.listeners[v];if(N)for(const M of Array.from(N))M(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function pi(b,m){return Pt(b,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:b.tenantId},m))}function xc(){return(xc=(0,g.Z)(function*(b){return(yield Pt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ma(b){return new Promise((m,v)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=N=>{const M=Ue("internal-error");M.customData=N,v(M)},C.type="text/javascript",C.charset="UTF-8",function(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function Lg(b){return`__${b}${Math.floor(1e6*Math.random())}`}const gi=1e12;class Vg{constructor(m){this.auth=m,this.counter=gi,this._widgets=new Map}render(m,v){const C=this.counter;return this._widgets.set(C,new qu(m,this.auth.name,v||{})),this.counter++,C}reset(m){var v;const C=m||gi;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(m){var v;return(null===(v=this._widgets.get(m||gi))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,g.Z)(function*(){var C;return null===(C=v._widgets.get(m||gi))||void 0===C||C.execute(),""})()}}class qu{constructor(m,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof m?document.getElementById(m):m;Ee(N,"argument-error",{appName:v}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}();const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _s=Lg("rcb"),Pa=new Gt(3e4,6e4);class Ki{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!an().grecaptcha}load(m,v=""){return Ee((b=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(an().grecaptcha):new Promise((C,N)=>{const M=an().setTimeout(()=>{N(Ue(m,"network-request-failed"))},Pa.get());an()[_s]=()=>{an().clearTimeout(M),delete an()[_s];const ge=an().grecaptcha;if(!ge)return void N(Ue(m,"internal-error"));const Le=ge.render;ge.render=(Ge,ut)=>{const tt=Le(Ge,ut);return this.counter++,tt},this.hostLanguage=v,C(ge)},Ma(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:_s,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(M),N(Ue(m,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!an().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ho{load(m){return(0,g.Z)(function*(){return new Vg(m)})()}clearedOneInstance(){}}const Z_="recaptcha",RS={theme:"light",type:"image"};class Ug{constructor(m,v=Object.assign({},RS),C){this.parameters=v,this.type=Z_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(C),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof m?document.getElementById(m):m;Ee(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ho:new Ki,this.validateStartingState()}verify(){var m=this;return(0,g.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(v)||new Promise(M=>{const K=ge=>{!ge||(m.tokenChangeListeners.delete(K),M(ge))};m.tokenChangeListeners.add(K),m.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof m)m(v);else if("string"==typeof m){const C=an()[m];"function"==typeof C&&C(v)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,g.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,g.Z)(function*(){Ee(We()&&!Sc(),m.auth,"internal-error"),yield function(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function(b){return xc.apply(this,arguments)}(m.auth);Ee(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yh{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Da._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function ka(){return(ka=(0,g.Z)(function*(b,m,v){const C=Vt(b),N=yield Qh(C,m,(0,$.m9)(v));return new Yh(N,M=>Cc(C,M))})).apply(this,arguments)}function jg(){return(jg=(0,g.Z)(function*(b,m,v){const C=(0,$.m9)(b);yield zs(!1,C,"phone");const N=yield Qh(C.auth,m,(0,$.m9)(v));return new Yh(N,M=>Ig(C,M))})).apply(this,arguments)}function Zi(){return(Zi=(0,g.Z)(function*(b,m,v){const C=(0,$.m9)(b),N=yield Qh(C.auth,m,(0,$.m9)(v));return new Yh(N,M=>Ru(C,M))})).apply(this,arguments)}function Qh(b,m,v){return $g.apply(this,arguments)}function $g(){return($g=(0,g.Z)(function*(b,m,v){var C;const N=yield v.verify();try{let M;if(Ee("string"==typeof N,b,"argument-error"),Ee(v.type===Z_,b,"argument-error"),M="string"==typeof m?{phoneNumber:m}:m,"session"in M){const K=M.session;if("phoneNumber"in M)return Ee("enroll"===K.type,b,"internal-error"),(yield B_(b,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{Ee("signin"===K.type,b,"internal-error");const ge=(null===(C=M.multiFactorHint)||void 0===C?void 0:C.uid)||M.multiFactorUid;return Ee(ge,b,"missing-multi-factor-info"),(yield pi(b,{mfaPendingCredential:K.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Ri(b,{phoneNumber:M.phoneNumber,recaptchaToken:N});return K}}finally{v._reset()}})).apply(this,arguments)}function Hg(){return(Hg=(0,g.Z)(function*(b,m){yield Ec((0,$.m9)(b),m)})).apply(this,arguments)}let Mc=(()=>{class b{constructor(v){this.providerId=b.PROVIDER_ID,this.auth=Vt(v)}verifyPhoneNumber(v,C){return Qh(this.auth,v,(0,$.m9)(C))}static credential(v,C){return Da._fromVerification(v,C)}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:N}=v;return C&&N?Da._fromTokenResponse(C,N):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Pn(b,m){return m?le(m):(Ee(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Pi extends Er{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ut(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Ut(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Ut(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Gg(b){return Cg(b.auth,new Pi(b),b.bypassAuthState)}function Vn(b){const{auth:m,user:v}=b;return Ee(v,m,"internal-error"),wc(v,new Pi(b),b.bypassAuthState)}function Pc(b){return Go.apply(this,arguments)}function Go(){return(Go=(0,g.Z)(function*(b){const{auth:m,user:v}=b;return Ee(v,m,"internal-error"),Ec(v,new Pi(b),b.bypassAuthState)})).apply(this,arguments)}class Y_{constructor(m,v,C,N,M=!1){this.auth=m,this.resolver=C,this.user=N,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,g.Z)(function*(C,N){m.pendingPromise={resolve:C,reject:N};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(M){m.reject(M)}});return function(C,N){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,g.Z)(function*(){const{urlResponse:C,sessionId:N,postBody:M,tenantId:K,error:ge,type:Le}=m;if(ge)return void v.reject(ge);const Ge={auth:v.auth,requestUri:C,sessionId:N,tenantId:K||void 0,postBody:M||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Le)(Ge))}catch(ut){v.reject(ut)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Gg;case"linkViaPopup":case"linkViaRedirect":return Pc;case"reauthViaPopup":case"reauthViaRedirect":return Vn;default:ke(this.auth,"internal-error")}}resolve(m){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Q_=new Gt(2e3,1e4);function Qr(){return(Qr=(0,g.Z)(function*(b,m,v){const C=Vt(b);dt(b,m,Mo);const N=Pn(C,v);return new ws(C,"signInViaPopup",m,N).executeNotNull()})).apply(this,arguments)}function vs(){return(vs=(0,g.Z)(function*(b,m,v){const C=(0,$.m9)(b);dt(C.auth,m,Mo);const N=Pn(C.auth,v);return new ws(C.auth,"reauthViaPopup",m,N,C).executeNotNull()})).apply(this,arguments)}function Fc(){return(Fc=(0,g.Z)(function*(b,m,v){const C=(0,$.m9)(b);dt(C.auth,m,Mo);const N=Pn(C.auth,v);return new ws(C.auth,"linkViaPopup",m,N,C).executeNotNull()})).apply(this,arguments)}let ws=(()=>{class b extends Y_{constructor(v,C,N,M,K){super(v,C,M,K),this.provider=N,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var v=this;return(0,g.Z)(function*(){const C=yield v.execute();return Ee(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,g.Z)(function*(){oe(1===v.filter.length,"Popup operations only handle one event");const C=Dc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(N=>{v.reject(N)}),v.resolver._isIframeWebStorageSupported(v.auth,N=>{N||v.reject(Ue(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,N;this.pollId=(null===(N=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Q_.get())};v()}}return b.currentPopupAction=null,b})();const qg=new Map;class J_ extends Y_{constructor(m,v,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,g.Z)(function*(){let C=qg.get(v.auth._key());if(!C){try{const M=(yield function(b,m){return br.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;C=()=>Promise.resolve(M)}catch(N){C=()=>Promise.reject(N)}qg.set(v.auth._key(),C)}return C()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,C=this;return(0,g.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(C,m);if("unknown"!==m.type){if(m.eventId){const N=yield C.auth._redirectUserForId(m.eventId);if(N)return C.user=N,v().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function br(){return(br=(0,g.Z)(function*(b,m){const v=Jh(m),C="true"===(yield to(b)._get(v));return yield to(b)._remove(v),C})).apply(this,arguments)}function zu(b,m){return hr.apply(this,arguments)}function hr(){return(hr=(0,g.Z)(function*(b,m){return to(b)._set(Jh(m),"true")})).apply(this,arguments)}function to(b){return le(b._redirectPersistence)}function Jh(b){return Wt("pendingRedirect",b.config.apiKey,b.name)}function Xh(){return(Xh=(0,g.Z)(function*(b,m,v){const C=Vt(b);dt(b,m,Mo);const N=Pn(C,v);return yield zu(N,C),N._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function Ku(){return(Ku=(0,g.Z)(function*(b,m,v){const C=(0,$.m9)(b);dt(C.auth,m,Mo);const N=Pn(C.auth,v);yield zu(N,C.auth);const M=yield Dt(C);return N._openRedirect(C.auth,m,"reauthViaRedirect",M)})).apply(this,arguments)}function qo(){return(qo=(0,g.Z)(function*(b,m,v){const C=(0,$.m9)(b);dt(C.auth,m,Mo);const N=Pn(C.auth,v);yield zs(!1,C,m.providerId),yield zu(N,C.auth);const M=yield Dt(C);return N._openRedirect(C.auth,m,"linkViaRedirect",M)})).apply(this,arguments)}function no(){return(no=(0,g.Z)(function*(b,m){return yield Vt(b)._initializationPromise,Lc(b,m,!1)})).apply(this,arguments)}function Lc(b,m){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,g.Z)(function*(b,m,v=!1){const C=Vt(b),N=Pn(C,m),K=yield new J_(C,N,v).execute();return K&&!v&&(delete K.user._redirectEventId,yield C._persistUserIfCurrent(K.user),yield C._setRedirectUser(null,m)),K})).apply(this,arguments)}function Dt(b){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,g.Z)(function*(b){const m=Dc(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Ju{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(v=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zo(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var C;if(m.error&&!zo(m)){const N=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Ue(this.auth,N))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const C=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ro(m))}saveEventToCache(m){this.cachedEventUids.add(ro(m)),this.lastProcessedEventTime=Date.now()}}function ro(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function zo({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function An(b){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(b,m={}){return Pt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const iv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,io=/^https?/;function Kg(){return(Kg=(0,g.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield An(b);for(const v of m)try{if(zn(v))return}catch(C){}ke(b,"unauthorized-domain")})).apply(this,arguments)}function zn(b){const m=Me(),{protocol:v,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const K=new URL(b);return""===K.hostname&&""===C?"chrome-extension:"===v&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&K.hostname===C}if(!io.test(v))return!1;if(iv.test(b))return C===b;const N=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(C)}const ki=new Gt(3e4,6e4);function sv(){const b=an().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let v=0;v<b.CP.length;v++)b.CP[v]=null}let ei=null;function Xu(b){return ei=ei||function(b){return new Promise((m,v)=>{var C,N,M;function K(){sv(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{sv(),v(Ue(b,"network-request-failed"))},timeout:ki.get()})}if(null===(N=null===(C=an().gapi)||void 0===C?void 0:C.iframes)||void 0===N?void 0:N.Iframe)m(gapi.iframes.getContext());else{if(!(null===(M=an().gapi)||void 0===M?void 0:M.load)){const ge=Lg("iframefcb");return an()[ge]=()=>{gapi.load?K():v(Ue(b,"network-request-failed"))},Ma(`https://apis.google.com/js/api.js?onload=${ge}`)}K()}}).catch(m=>{throw ei=null,m})}(b),ei}const so=new Gt(5e3,15e3),Uc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},el=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tl(b){const m=b.config;Ee(m.authDomain,b,"auth-domain-config-required");const v=m.emulator?_n(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:b.name,v:re.SDK_VERSION},N=el.get(b.config.apiHost);N&&(C.eid=N);const M=b._getFrameworks();return M.length&&(C.fw=M.join(",")),`${v}?${(0,$.xO)(C).slice(1)}`}function Nt(){return(Nt=(0,g.Z)(function*(b){const m=yield Xu(b),v=an().gapi;return Ee(v,b,"internal-error"),m.open({where:document.body,url:tl(b),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uc,dontclear:!0},C=>new Promise(function(){var N=(0,g.Z)(function*(M,K){yield C.restyle({setHideOnLeave:!1});const ge=Ue(b,"network-request-failed"),Le=an().setTimeout(()=>{K(ge)},so.get());function Ge(){an().clearTimeout(Le),M(C)}C.ping(Ge).then(Ge,()=>{K(ge)})});return function(M,K){return N.apply(this,arguments)}}()))})).apply(this,arguments)}const Yi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tf{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function bs(b,m,v,C,N,M){Ee(b.config.authDomain,b,"auth-domain-config-required"),Ee(b.config.apiKey,b,"invalid-api-key");const K={apiKey:b.config.apiKey,appName:b.name,authType:v,redirectUrl:C,v:re.SDK_VERSION,eventId:N};if(m instanceof Mo){m.setDefaultLanguage(b.languageCode),K.providerId=m.providerId||"",(0,$.xb)(m.getCustomParameters())||(K.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Le,Ge]of Object.entries(M||{}))K[Le]=Ge}if(m instanceof Sa){const Le=m.getScopes().filter(Ge=>""!==Ge);Le.length>0&&(K.scopes=Le.join(","))}b.tenantId&&(K.tid=b.tenantId);const ge=K;for(const Le of Object.keys(ge))void 0===ge[Le]&&delete ge[Le];return`${function({config:b}){return b.emulator?_n(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,$.xO)(ge).slice(1)}`}const Qi="webStorageSupport";class Ba extends class{constructor(m){this.factorId=m}_process(m,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,C);case"signin":return this._finalizeSignIn(m,v.credential);default:return ie("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ba(m)}_finalizeEnroll(m,v,C){return function(b,m){return Pt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:b.tenantId},m))}(m,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function(b,m){return Pt(b,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:b.tenantId},m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class sf{constructor(){}static assertion(m){return Ba._fromCredential(m)}}var b;class Xg{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,g.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(C=>{var N;m((null===(N=C)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yo(){return window}function ti(){return(ti=(0,g.Z)(function*(b,m,v){var C;const{BuildInfo:N}=Yo();oe(m.sessionId,"AuthEvent did not contain a session ID");const M=yield rm(m.sessionId),K={};return Ni()?K.ibi=N.packageName:wa()?K.apn=N.packageName:ke(b,"operation-not-supported-in-this-environment"),N.displayName&&(K.appDisplayName=N.displayName),K.sessionId=M,bs(b,v,m.type,void 0,null!==(C=m.eventId)&&void 0!==C?C:void 0,K)})).apply(this,arguments)}function oo(){return(oo=(0,g.Z)(function*(b){const{BuildInfo:m}=Yo(),v={};Ni()?v.iosBundleId=m.packageName:wa()?v.androidPackageName=m.packageName:ke(b,"operation-not-supported-in-this-environment"),yield An(b,v)})).apply(this,arguments)}function af(){return(af=(0,g.Z)(function*(b,m,v){const{cordova:C}=Yo();let N=()=>{};try{yield new Promise((M,K)=>{let ge=null;function Le(){var tt;M();const Tn=null===(tt=C.plugins.browsertab)||void 0===tt?void 0:tt.close;"function"==typeof Tn&&Tn(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function Ge(){ge||(ge=window.setTimeout(()=>{K(Ue(b,"redirect-cancelled-by-user"))},2e3))}function ut(){"visible"===(null==document?void 0:document.visibilityState)&&Ge()}m.addPassiveListener(Le),document.addEventListener("resume",Ge,!1),wa()&&document.addEventListener("visibilitychange",ut,!1),N=()=>{m.removePassiveListener(Le),document.removeEventListener("resume",Ge,!1),document.removeEventListener("visibilitychange",ut,!1),ge&&window.clearTimeout(ge)}})}finally{N()}})).apply(this,arguments)}function rm(b){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,g.Z)(function*(b){const m=Gc(b),v=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(v)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Gc(b){if(oe(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const m=new ArrayBuffer(b.length),v=new Uint8Array(m);for(let C=0;C<b.length;C++)v[C]=b.charCodeAt(C);return v}b="Browser",(0,re._registerComponent)(new _e.wA("auth",(m,{options:v})=>{const C=m.getProvider("app").getImmediate(),{apiKey:N,authDomain:M}=C.options;return(K=>{Ee(N&&!N.includes(":"),"invalid-api-key",{appName:K.name}),Ee(!(null==M?void 0:M.includes(":")),"argument-error",{appName:K.name});const ge={apiKey:N,authDomain:M,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vr(b)},Le=new M_(K,ge);return function(b,m){const v=(null==m?void 0:m.persistence)||[],C=(Array.isArray(v)?v:[v]).map(le);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,null==m?void 0:m.popupRedirectResolver)}(Le,v),Le})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,C)=>{m.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new _e.wA("auth-internal",m=>{const v=Vt(m.getProvider("auth").getImmediate());return new Xg(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)("@firebase/auth","0.17.2",void 0);class uf extends Ju{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(m)),super.onEvent(m)}initialized(){var m=this;return(0,g.Z)(function*(){yield m.initPromise})()}}function qc(b){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,g.Z)(function*(b){const m=yield Xo()._get(zc(b));return m&&(yield Xo()._remove(zc(b))),m})).apply(this,arguments)}function Fi(){const b=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const C=Math.floor(Math.random()*m.length);b.push(m.charAt(C))}return b.join("")}function Xo(){return le(Tc)}function zc(b){return Wt("authEvent",b.config.apiKey,b.name)}function ea(b){if(!(null==b?void 0:b.includes("?")))return{};const[m,...v]=b.split("?");return(0,$.zd)(v.join("?"))}function Kc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ue("no-auth-event")}}function ul(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function cm(b=(0,$.z$)()){return!("file:"!==ul()&&"ionic:"!==ul()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yc(){try{const b=self.localStorage,m=Dc();if(b)return b.setItem(m,"1"),b.removeItem(m),!function(b=(0,$.z$)()){return(0,$.w1)()&&11===(null==document?void 0:document.documentMode)||function(b=(0,$.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,$.hl)()}catch(b){return df()&&(0,$.hl)()}return!1}function df(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function en(){return("http:"===ul()||"https:"===ul()||(0,$.ru)()||cm())&&!((0,$.b$)()||(0,$.UG)())&&Yc()&&!df()}function hf(){return cm()&&"undefined"!=typeof document}function yi(){return(yi=(0,g.Z)(function*(){return!!hf()&&new Promise(b=>{const m=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),b(!0)})})})).apply(this,arguments)}const kr={LOCAL:"local",NONE:"none",SESSION:"session"},Li=Ee,hm="persistence";function pf(b){return gf.apply(this,arguments)}function gf(){return(gf=(0,g.Z)(function*(b){yield b._initializationPromise;const m=cl(),v=Wt(hm,b.config.apiKey,b.name);(null==m?void 0:m.sessionStorage)&&m.sessionStorage.setItem(v,b._getPersistence())})).apply(this,arguments)}function cl(){return"undefined"!=typeof window?window:null}const ja=Ee;class fn{constructor(){this.browserResolver=le(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ys,this._completeRedirectFn=Lc}_openPopup(m,v,C,N){var M=this;return(0,g.Z)(function*(){var K;oe(null===(K=M.eventManagers[m._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ge=bs(m,v,C,Me(),N);return function(b,m,v,C=500,N=600){const M=Math.max((window.screen.availHeight-N)/2,0).toString(),K=Math.max((window.screen.availWidth-C)/2,0).toString();let ge="";const Le=Object.assign(Object.assign({},Yi),{width:C.toString(),height:N.toString(),top:M,left:K}),Ge=(0,$.z$)().toLowerCase();v&&(ge=vh(Ge)?"_blank":v),Ea(Ge)&&(m=m||"http://localhost",Le.scrollbars="yes");const ut=Object.entries(Le).reduce((Tn,[Jt,fl])=>`${Tn}${Jt}=${fl},`,"");if(function(b=(0,$.z$)()){var m;return Ni(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ge)&&"_self"!==ge)return function(b,m){const v=document.createElement("a");v.href=b,v.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(m||"",ge),new tf(null);const tt=window.open(m||"",ge,ut);Ee(tt,b,"popup-blocked");try{tt.focus()}catch(Tn){}return new tf(tt)}(m,ge,Dc())})()}_openRedirect(m,v,C,N){var M=this;return(0,g.Z)(function*(){return yield M._originValidation(m),b=bs(m,v,C,Me(),N),an().location.href=b,new Promise(()=>{});var b})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:N,promise:M}=this.eventManagers[v];return N?Promise.resolve(N):(oe(M,"If manager is not set, promise should be"),M)}const C=this.initAndGetManager(m);return this.eventManagers[v]={promise:C},C}initAndGetManager(m){var v=this;return(0,g.Z)(function*(){const C=yield function(b){return Nt.apply(this,arguments)}(m),N=new Ju(m);return C.register("authEvent",M=>(Ee(null==M?void 0:M.authEvent,m,"invalid-auth-event"),{status:N.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:N},v.iframes[m._key()]=C,N})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Qi,{type:Qi},N=>{var M;const K=null===(M=null==N?void 0:N[0])||void 0===M?void 0:M[Qi];void 0!==K&&v(!!K),ke(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(b){return Kg.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return qi()||_h()||Ni()}}),this.cordovaResolver=le(class{constructor(){this._redirectPersistence=ys,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lc}_initialize(m){var v=this;return(0,g.Z)(function*(){const C=m._key();let N=v.eventManagers.get(C);return N||(N=new uf(m),v.eventManagers.set(C,N),v.attachCallbackListeners(m,N)),N})()}_openPopup(m){ke(m,"operation-not-supported-in-this-environment")}_openRedirect(m,v,C,N){var M=this;return(0,g.Z)(function*(){!function(b){var m,v,C,N,M,K,ge,Le,Ge,ut;const tt=Yo();Ee("function"==typeof(null===(m=null==tt?void 0:tt.universalLinks)||void 0===m?void 0:m.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(void 0!==(null===(v=null==tt?void 0:tt.BuildInfo)||void 0===v?void 0:v.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(M=null===(N=null===(C=null==tt?void 0:tt.cordova)||void 0===C?void 0:C.plugins)||void 0===N?void 0:N.browsertab)||void 0===M?void 0:M.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(Le=null===(ge=null===(K=null==tt?void 0:tt.cordova)||void 0===K?void 0:K.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===Le?void 0:Le.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(ut=null===(Ge=null==tt?void 0:tt.cordova)||void 0===Ge?void 0:Ge.InAppBrowser)||void 0===ut?void 0:ut.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const K=yield M._initialize(m);yield K.initialized(),K.resetRedirect(),qg.clear(),yield M._originValidation(m);const ge=function(b,m,v=null){return{type:m,eventId:v,urlResponse:null,sessionId:Fi(),postBody:null,tenantId:b.tenantId,error:Ue(b,"no-auth-event")}}(m,C,N);yield function(b,m){return Xo()._set(zc(b),m)}(m,ge);const Le=yield function(b,m,v){return ti.apply(this,arguments)}(m,ge,v),Ge=yield function(b){const{cordova:m}=Yo();return new Promise(v=>{m.plugins.browsertab.isAvailable(C=>{let N=null;C?m.plugins.browsertab.openUrl(b):N=m.InAppBrowser.open(b,function(b=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),v(N)})})}(Le);return function(b,m,v){return af.apply(this,arguments)}(m,K,Ge)})()}_isIframeWebStorageSupported(m,v){throw new Error("Method not implemented.")}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(b){return oo.apply(this,arguments)}(m)),this.originValidationPromises[v]}attachCallbackListeners(m,v){const{universalLinks:C,handleOpenURL:N,BuildInfo:M}=Yo(),K=setTimeout((0,g.Z)(function*(){yield qc(m),v.onEvent(Kc())}),500),ge=function(){var ut=(0,g.Z)(function*(tt){clearTimeout(K);const Tn=yield qc(m);let Jt=null;Tn&&(null==tt?void 0:tt.url)&&(Jt=function(b,m){var v,C;const N=function(b){const m=ea(b),v=m.link?decodeURIComponent(m.link):void 0,C=ea(v).link,N=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return ea(N).link||N||C||v||b}(m);if(N.includes("/__/auth/callback")){const M=ea(N),K=M.firebaseError?function(b){try{return JSON.parse(b)}catch(m){return null}}(decodeURIComponent(M.firebaseError)):null,ge=null===(C=null===(v=null==K?void 0:K.code)||void 0===v?void 0:v.split("auth/"))||void 0===C?void 0:C[1],Le=ge?Ue(ge):null;return Le?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:N,postBody:null}}return null}(Tn,tt.url)),v.onEvent(Jt||Kc())});return function(Tn){return ut.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,ge);const Le=N,Ge=`${M.packageName.toLowerCase()}://`;Yo().handleOpenURL=function(){var ut=(0,g.Z)(function*(tt){if(tt.toLowerCase().startsWith(Ge)&&ge({url:tt}),"function"==typeof Le)try{Le(tt)}catch(Tn){console.error(Tn)}});return function(tt){return ut.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ys,this._completeRedirectFn=Lc}_initialize(m){var v=this;return(0,g.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,v,C,N){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(m,v,C,N)})()}_openRedirect(m,v,C,N){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(m,v,C,N)})()}_isIframeWebStorageSupported(m,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,v)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return hf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ja(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,g.Z)(function*(){if(m.underlyingResolver)return;const v=yield function(){return yi.apply(this,arguments)}();m.underlyingResolver=v?m.cordovaResolver:m.browserResolver})()}}function Jc(b){return b.unwrap()}function Xc(b){return ta(b)}function Zt(b,m){var v;const C=null===(v=m.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new cv(b,function(b,m){var v;const C=(0,$.m9)(b),N=m;return Ee(m.operationType,C,"argument-error"),Ee(null===(v=N.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),$h._fromError(C,N)}(b,m));else if(C){const N=ta(m),M=m;N&&(M.credential=N,M.tenantId=C.tenantId||void 0,M.email=C.email||void 0,M.phoneNumber=C.phoneNumber||void 0)}}function ta(b){const{_tokenResponse:m}=b instanceof $.ZR?b.customData:b;if(!m)return null;if(!(b instanceof $.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Mc.credentialFromResult(b);const v=m.providerId;if(!v||"password"===v)return null;let C;switch(v){case"google.com":C=Sh;break;case"facebook.com":C=Dh;break;case"github.com":C=Ah;break;case"twitter.com":C=Rh;break;default:const{oauthIdToken:N,oauthAccessToken:M,oauthTokenSecret:K,pendingToken:ge,nonce:Le}=m;return M||K||N||ge?ge?v.startsWith("saml.")?Aa._create(v,ge):Kr._fromParams({providerId:v,signInMethod:v,pendingToken:ge,idToken:N,accessToken:M}):new Po(v).credential({idToken:N,accessToken:M,rawNonce:Le}):null}return b instanceof $.ZR?C.credentialFromError(b):C.credentialFromResult(b)}function rr(b,m){return $a.apply(this,arguments)}function $a(){return($a=(0,g.Z)(function*(b,m){let v;try{v=yield m}catch(M){throw M instanceof $.ZR&&Zt(b,M),M}const{operationType:C,user:N}=v;return{operationType:C,credential:Xc(v),additionalUserInfo:xg(v),user:Ji.getOrCreate(N)}})).apply(this,arguments)}function Ha(b,m){return ed.apply(this,arguments)}function ed(){return(ed=(0,g.Z)(function*(b,m){const v=yield m;return{verificationId:v.verificationId,confirm:C=>rr(b,v.confirm(C))}})).apply(this,arguments)}class cv{constructor(m,v){this.resolver=v,this.auth=function(b){return b.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return rr(Jc(this.auth),this.resolver.resolveSignIn(m))}}class Ji{constructor(m){this._delegate=m,this.multiFactor=function(b){const m=(0,$.m9)(b);return Ra.has(m)||Ra.set(m,Na._fromUser(m)),Ra.get(m)}(m)}static getOrCreate(m){return Ji.USER_MAP.has(m)||Ji.USER_MAP.set(m,new Ji(m)),Ji.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var v=this;return(0,g.Z)(function*(){return rr(v.auth,Ig(v._delegate,m))})()}linkWithPhoneNumber(m,v){var C=this;return(0,g.Z)(function*(){return Ha(C.auth,function(b,m,v){return jg.apply(this,arguments)}(C._delegate,m,v))})()}linkWithPopup(m){var v=this;return(0,g.Z)(function*(){return rr(v.auth,function(b,m,v){return Fc.apply(this,arguments)}(v._delegate,m,fn))})()}linkWithRedirect(m){var v=this;return(0,g.Z)(function*(){return yield pf(Vt(v.auth)),function(b,m,v){return function(b,m,v){return qo.apply(this,arguments)}(b,m,v)}(v._delegate,m,fn)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var v=this;return(0,g.Z)(function*(){return rr(v.auth,Ru(v._delegate,m))})()}reauthenticateWithPhoneNumber(m,v){return Ha(this.auth,function(b,m,v){return Zi.apply(this,arguments)}(this._delegate,m,v))}reauthenticateWithPopup(m){return rr(this.auth,function(b,m,v){return vs.apply(this,arguments)}(this._delegate,m,fn))}reauthenticateWithRedirect(m){var v=this;return(0,g.Z)(function*(){return yield pf(Vt(v.auth)),function(b,m,v){return function(b,m,v){return Ku.apply(this,arguments)}(b,m,v)}(v._delegate,m,fn)})()}sendEmailVerification(m){return function(b,m){return Ys.apply(this,arguments)}(this._delegate,m)}unlink(m){var v=this;return(0,g.Z)(function*(){return yield function(b,m){return vc.apply(this,arguments)}(v._delegate,m),v})()}updateEmail(m){return function(b,m){return Uh((0,$.m9)(b),m,null)}(this._delegate,m)}updatePassword(m){return function(b,m){return Uh((0,$.m9)(b),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function(b,m){return Hg.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function(b,m){return Lh.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,v){return function(b,m,v){return fi.apply(this,arguments)}(this._delegate,m,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ji.USER_MAP=new WeakMap;const dl=Ee;let Ga=(()=>{class b{constructor(v,C){if(this.app=v,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=v.options;dl(N,"invalid-api-key",{appName:v.name});let M=[On];if("undefined"!=typeof window){M=function(b,m){const v=cl();if(!(null==v?void 0:v.sessionStorage))return[];const C=Wt(hm,b,m);switch(v.sessionStorage.getItem(C)){case kr.NONE:return[On];case kr.LOCAL:return[Oa,ys];case kr.SESSION:return[ys];default:return[]}}(N,v.name);for(const ge of[Oa,Tc,ys])M.includes(ge)||M.push(ge)}dl(N,"invalid-api-key",{appName:v.name});const K="undefined"!=typeof window?fn:void 0;this._delegate=C.initialize({options:{persistence:M,popupRedirectResolver:K}}),this._delegate._updateErrorMap(ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ji.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,C){!function(b,m,v){const C=Vt(b);Ee(C._canInitEmulator,C,"emulator-config-failed"),Ee(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const N=!!(null==v?void 0:v.disableWarnings),M=Xt(m),{host:K,port:ge}=function(b){const m=Xt(b),v=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(C);if(N){const M=N[1];return{host:M,port:Gs(C.substr(M.length+1))}}{const[M,K]=C.split(":");return{host:M,port:Gs(K)}}}(m);C.config.emulator={url:`${M}//${K}${null===ge?"":`:${ge}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:K,port:ge,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:N})}),function(b){function m(){const v=document.createElement("p"),C=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!b&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}(N)}(this._delegate,v,C)}applyActionCode(v){return function(b,m){return Fo.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return ku(this._delegate,v)}confirmPasswordReset(v,C){return function(b,m,v){return ct.apply(this,arguments)}(this._delegate,v,C)}createUserWithEmailAndPassword(v,C){var N=this;return(0,g.Z)(function*(){return rr(N._delegate,function(b,m,v){return Ie.apply(this,arguments)}(N._delegate,v,C))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(b,m){return Ag.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(b,m){const v=yc.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,g.Z)(function*(){dl(en(),v._delegate,"operation-not-supported-in-this-environment");const C=yield function(b,m){return no.apply(this,arguments)}(v._delegate,fn);return C?rr(v._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(b,m){Vt(b)._logFramework(m)}(this._delegate,v)}onAuthStateChanged(v,C,N){const{next:M,error:K,complete:ge}=mf(v,C,N);return this._delegate.onAuthStateChanged(M,K,ge)}onIdTokenChanged(v,C,N){const{next:M,error:K,complete:ge}=mf(v,C,N);return this._delegate.onIdTokenChanged(M,K,ge)}sendSignInLinkToEmail(v,C){return function(b,m,v){return Cn.apply(this,arguments)}(this._delegate,v,C)}sendPasswordResetEmail(v,C){return function(b,m,v){return Ic.apply(this,arguments)}(this._delegate,v,C||void 0)}setPersistence(v){var C=this;return(0,g.Z)(function*(){let N;switch(function(b,m){Li(Object.values(kr).includes(m),b,"invalid-persistence-type"),(0,$.b$)()?Li(m!==kr.SESSION,b,"unsupported-persistence-type"):(0,$.UG)()?Li(m===kr.NONE,b,"unsupported-persistence-type"):df()?Li(m===kr.NONE||m===kr.LOCAL&&(0,$.hl)(),b,"unsupported-persistence-type"):Li(m===kr.NONE||Yc(),b,"unsupported-persistence-type")}(C._delegate,v),v){case kr.SESSION:N=ys;break;case kr.LOCAL:N=(yield le(Oa)._isAvailable())?Oa:Tc;break;case kr.NONE:N=On;break;default:return ke("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return rr(this._delegate,function(b){return Su.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return rr(this._delegate,Cc(this._delegate,v))}signInWithCustomToken(v){return rr(this._delegate,function(b,m){return wr.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,C){return rr(this._delegate,function(b,m,v){return Cc((0,$.m9)(b),wg.credential(m,v))}(this._delegate,v,C))}signInWithEmailLink(v,C){return rr(this._delegate,function(b,m,v){return hi.apply(this,arguments)}(this._delegate,v,C))}signInWithPhoneNumber(v,C){return Ha(this._delegate,function(b,m,v){return ka.apply(this,arguments)}(this._delegate,v,C))}signInWithPopup(v){var C=this;return(0,g.Z)(function*(){return dl(en(),C._delegate,"operation-not-supported-in-this-environment"),rr(C._delegate,function(b,m,v){return Qr.apply(this,arguments)}(C._delegate,v,fn))})()}signInWithRedirect(v){var C=this;return(0,g.Z)(function*(){return dl(en(),C._delegate,"operation-not-supported-in-this-environment"),yield pf(C._delegate),function(b,m,v){return function(b,m,v){return Xh.apply(this,arguments)}(b,m,v)}(C._delegate,v,fn)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(b,m){return Lo.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=kr,b})();function mf(b,m,v){let C=b;"function"!=typeof b&&({next:C,error:m,complete:v}=b);const N=C;return{next:K=>N(K&&Ji.getOrCreate(K)),error:m,complete:v}}class td{constructor(){this.providerId="phone",this._delegate=new Mc(Jc(ae.Z.auth()))}static credential(m,v){return Mc.credential(m,v)}verifyPhoneNumber(m,v){return this._delegate.verifyPhoneNumber(m,v)}unwrap(){return this._delegate}}td.PHONE_SIGN_IN_METHOD=Mc.PHONE_SIGN_IN_METHOD,td.PROVIDER_ID=Mc.PROVIDER_ID;const hl=Ee;class yf{constructor(m,v,C=ae.Z.app()){var N;hl(null===(N=C.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Ug(m,v,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(b){b.INTERNAL.registerComponent(new _e.wA("auth-compat",m=>{const v=m.getProvider("app-compat").getImmediate(),C=m.getProvider("auth");return new Ga(v,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wg,FacebookAuthProvider:Dh,GithubAuthProvider:Ah,GoogleAuthProvider:Sh,OAuthProvider:Po,PhoneAuthProvider:td,PhoneMultiFactorGenerator:sf,RecaptchaVerifier:yf,TwitterAuthProvider:Rh,Auth:Ga,AuthCredential:Er,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.1.2")}(ae.Z)},7574:(ze,Ce,k)=>{"use strict";k.d(Ce,{y:()=>j});var g=k(7393),$=k(9181),re=k(6490),se=k(6554),_e=k(4487);var F=k(2494);let j=(()=>{class U{constructor(ce){this._isScalar=!1,ce&&(this._subscribe=ce)}lift(ce){const ne=new U;return ne.source=this,ne.operator=ce,ne}subscribe(ce,ne,te){const{operator:Pe}=this,Ae=function(U,W,ce){if(U){if(U instanceof g.L)return U;if(U[$.b])return U[$.b]()}return U||W||ce?new g.L(U,W,ce):new g.L(re.c)}(ce,ne,te);if(Ae.add(Pe?Pe.call(Ae,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),F.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(ce){try{return this._subscribe(ce)}catch(ne){F.v.useDeprecatedSynchronousErrorHandling&&(ce.syncErrorThrown=!0,ce.syncErrorValue=ne),function(U){for(;U;){const{closed:W,destination:ce,isStopped:ne}=U;if(W||ne)return!1;U=ce&&ce instanceof g.L?ce:null}return!0}(ce)?ce.error(ne):console.warn(ne)}}forEach(ce,ne){return new(ne=G(ne))((te,Pe)=>{let Ae;Ae=this.subscribe(xe=>{try{ce(xe)}catch(ke){Pe(ke),Ae&&Ae.unsubscribe()}},Pe,te)})}_subscribe(ce){const{source:ne}=this;return ne&&ne.subscribe(ce)}[se.L](){return this}pipe(...ce){return 0===ce.length?this:function(U){return 0===U.length?_e.y:1===U.length?U[0]:function(ce){return U.reduce((ne,te)=>te(ne),ce)}}(ce)(this)}toPromise(ce){return new(ce=G(ce))((ne,te)=>{let Pe;this.subscribe(Ae=>Pe=Ae,Ae=>te(Ae),()=>ne(Pe))})}}return U.create=W=>new U(W),U})();function G(U){if(U||(U=F.v.Promise||Promise),!U)throw new Error("no Promise impl found");return U}},6490:(ze,Ce,k)=>{"use strict";k.d(Ce,{c:()=>$});var g=k(2494),ae=k(4449);const $={closed:!0,next(re){},error(re){if(g.v.useDeprecatedSynchronousErrorHandling)throw re;(0,ae.z)(re)},complete(){}}},9765:(ze,Ce,k)=>{"use strict";k.d(Ce,{Yc:()=>_e,xQ:()=>me});var g=k(7574),ae=k(7393),$=k(5319),re=k(7971),ye=k(8858),se=k(9181);class _e extends ae.L{constructor(j){super(j),this.destination=j}}let me=(()=>{class F extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new _e(this)}lift(G){const U=new Z(this,this);return U.operator=G,U}next(G){if(this.closed)throw new re.N;if(!this.isStopped){const{observers:U}=this,W=U.length,ce=U.slice();for(let ne=0;ne<W;ne++)ce[ne].next(G)}}error(G){if(this.closed)throw new re.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:U}=this,W=U.length,ce=U.slice();for(let ne=0;ne<W;ne++)ce[ne].error(G);this.observers.length=0}complete(){if(this.closed)throw new re.N;this.isStopped=!0;const{observers:G}=this,U=G.length,W=G.slice();for(let ce=0;ce<U;ce++)W[ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new re.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new re.N;return this.hasError?(G.error(this.thrownError),$.w.EMPTY):this.isStopped?(G.complete(),$.w.EMPTY):(this.observers.push(G),new ye.W(this,G))}asObservable(){const G=new g.y;return G.source=this,G}}return F.create=(j,G)=>new Z(j,G),F})();class Z extends me{constructor(j,G){super(),this.destination=j,this.source=G}next(j){const{destination:G}=this;G&&G.next&&G.next(j)}error(j){const{destination:G}=this;G&&G.error&&this.destination.error(j)}complete(){const{destination:j}=this;j&&j.complete&&this.destination.complete()}_subscribe(j){const{source:G}=this;return G?this.source.subscribe(j):$.w.EMPTY}}},8858:(ze,Ce,k)=>{"use strict";k.d(Ce,{W:()=>ae});var g=k(5319);class ae extends g.w{constructor(re,ye){super(),this.subject=re,this.subscriber=ye,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const re=this.subject,ye=re.observers;if(this.subject=null,!ye||0===ye.length||re.isStopped||re.closed)return;const se=ye.indexOf(this.subscriber);-1!==se&&ye.splice(se,1)}}},7393:(ze,Ce,k)=>{"use strict";k.d(Ce,{L:()=>_e});var g=k(9105),ae=k(6490),$=k(5319),re=k(9181),ye=k(2494),se=k(4449);class _e extends $.w{constructor(F,j,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ae.c;break;case 1:if(!F){this.destination=ae.c;break}if("object"==typeof F){F instanceof _e?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new me(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new me(this,F,j,G)}}[re.b](){return this}static create(F,j,G){const U=new _e(F,j,G);return U.syncErrorThrowable=!1,U}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class me extends _e{constructor(F,j,G,U){super(),this._parentSubscriber=F;let W,ce=this;(0,g.m)(j)?W=j:j&&(W=j.next,G=j.error,U=j.complete,j!==ae.c&&(ce=Object.create(j),(0,g.m)(ce.unsubscribe)&&this.add(ce.unsubscribe.bind(ce)),ce.unsubscribe=this.unsubscribe.bind(this))),this._context=ce,this._next=W,this._error=G,this._complete=U}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:j}=this;ye.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?this.__tryOrSetError(j,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:j}=this,{useDeprecatedSynchronousErrorHandling:G}=ye.v;if(this._error)G&&j.syncErrorThrowable?(this.__tryOrSetError(j,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(j.syncErrorThrowable)G?(j.syncErrorValue=F,j.syncErrorThrown=!0):(0,se.z)(F),this.unsubscribe();else{if(this.unsubscribe(),G)throw F;(0,se.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const j=()=>this._complete.call(this._context);ye.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,j),this.unsubscribe()):(this.__tryOrUnsub(j),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,j){try{F.call(this._context,j)}catch(G){if(this.unsubscribe(),ye.v.useDeprecatedSynchronousErrorHandling)throw G;(0,se.z)(G)}}__tryOrSetError(F,j,G){if(!ye.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{j.call(this._context,G)}catch(U){return ye.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=U,F.syncErrorThrown=!0,!0):((0,se.z)(U),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(ze,Ce,k)=>{"use strict";k.d(Ce,{w:()=>se});var g=k(9796),ae=k(1555),$=k(9105);const ye=(()=>{function me(Z){return Error.call(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((F,j)=>`${j+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z,this}return me.prototype=Object.create(Error.prototype),me})();class se{constructor(Z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Z&&(this._ctorUnsubscribe=!0,this._unsubscribe=Z)}unsubscribe(){let Z;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:j,_unsubscribe:G,_subscriptions:U}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof se)F.remove(this);else if(null!==F)for(let W=0;W<F.length;++W)F[W].remove(this);if((0,$.m)(G)){j&&(this._unsubscribe=void 0);try{G.call(this)}catch(W){Z=W instanceof ye?_e(W.errors):[W]}}if((0,g.k)(U)){let W=-1,ce=U.length;for(;++W<ce;){const ne=U[W];if((0,ae.K)(ne))try{ne.unsubscribe()}catch(te){Z=Z||[],te instanceof ye?Z=Z.concat(_e(te.errors)):Z.push(te)}}}if(Z)throw new ye(Z)}add(Z){let F=Z;if(!Z)return se.EMPTY;switch(typeof Z){case"function":F=new se(Z);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof se)){const U=F;F=new se,F._subscriptions=[U]}break;default:throw new Error("unrecognized teardown "+Z+" added to Subscription.")}let{_parentOrParents:j}=F;if(null===j)F._parentOrParents=this;else if(j instanceof se){if(j===this)return F;F._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return F;j.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[F]:G.push(F),F}remove(Z){const F=this._subscriptions;if(F){const j=F.indexOf(Z);-1!==j&&F.splice(j,1)}}}var me;function _e(me){return me.reduce((Z,F)=>Z.concat(F instanceof ye?F.errors:F),[])}se.EMPTY=((me=new se).closed=!0,me)},2494:(ze,Ce,k)=>{"use strict";k.d(Ce,{v:()=>ae});let g=!1;const ae={Promise:void 0,set useDeprecatedSynchronousErrorHandling($){if($){const re=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+re.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=$},get useDeprecatedSynchronousErrorHandling(){return g}}},5345:(ze,Ce,k)=>{"use strict";k.d(Ce,{IY:()=>re,Ds:()=>se,ft:()=>me});var g=k(7393),ae=k(7574),$=k(7444);class re extends g.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends g.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function me(Z,F){if(F.closed)return;if(Z instanceof ae.y)return Z.subscribe(F);let j;try{j=(0,$.s)(Z)(F)}catch(G){F.error(G)}return j}},2441:(ze,Ce,k)=>{"use strict";k.d(Ce,{c:()=>ye,N:()=>se});var g=k(9765),ae=k(7574),$=k(5319),re=k(1307);class ye extends ae.y{constructor(j,G){super(),this.source=j,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let j=this._connection;return j||(this._isComplete=!1,j=this._connection=new $.w,j.add(this.source.subscribe(new _e(this.getSubject(),this))),j.closed&&(this._connection=null,j=$.w.EMPTY)),j}refCount(){return(0,re.x)()(this)}}const se=(()=>{const F=ye.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class _e extends g.Yc{constructor(j,G){super(j),this.connectable=G}_error(j){this._unsubscribe(),super._error(j)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const j=this.connectable;if(j){this.connectable=null;const G=j._connection;j._refCount=0,j._subject=null,j._connection=null,G&&G.unsubscribe()}}}},9193:(ze,Ce,k)=>{"use strict";k.d(Ce,{E:()=>ae,c:()=>$});var g=k(7574);const ae=new g.y(ye=>ye.complete());function $(ye){return ye?function(ye){return new g.y(se=>ye.schedule(()=>se.complete()))}(ye):ae}},4402:(ze,Ce,k)=>{"use strict";k.d(Ce,{D:()=>ce});var g=k(7574),ae=k(7444),$=k(5319),re=k(6554),_e=k(4087),me=k(377),j=k(4072),G=k(9489);function ce(ne,te){return te?function(ne,te){if(null!=ne){if(function(ne){return ne&&"function"==typeof ne[re.L]}(ne))return function(ne,te){return new g.y(Pe=>{const Ae=new $.w;return Ae.add(te.schedule(()=>{const xe=ne[re.L]();Ae.add(xe.subscribe({next(ke){Ae.add(te.schedule(()=>Pe.next(ke)))},error(ke){Ae.add(te.schedule(()=>Pe.error(ke)))},complete(){Ae.add(te.schedule(()=>Pe.complete()))}}))})),Ae})}(ne,te);if((0,j.t)(ne))return function(ne,te){return new g.y(Pe=>{const Ae=new $.w;return Ae.add(te.schedule(()=>ne.then(xe=>{Ae.add(te.schedule(()=>{Pe.next(xe),Ae.add(te.schedule(()=>Pe.complete()))}))},xe=>{Ae.add(te.schedule(()=>Pe.error(xe)))}))),Ae})}(ne,te);if((0,G.z)(ne))return(0,_e.r)(ne,te);if(function(ne){return ne&&"function"==typeof ne[me.hZ]}(ne)||"string"==typeof ne)return function(ne,te){if(!ne)throw new Error("Iterable cannot be null");return new g.y(Pe=>{const Ae=new $.w;let xe;return Ae.add(()=>{xe&&"function"==typeof xe.return&&xe.return()}),Ae.add(te.schedule(()=>{xe=ne[me.hZ](),Ae.add(te.schedule(function(){if(Pe.closed)return;let ke,Ue;try{const Ve=xe.next();ke=Ve.value,Ue=Ve.done}catch(Ve){return void Pe.error(Ve)}Ue?Pe.complete():(Pe.next(ke),this.schedule())}))})),Ae})}(ne,te)}throw new TypeError((null!==ne&&typeof ne||ne)+" is not observable")}(ne,te):ne instanceof g.y?ne:new g.y((0,ae.s)(ne))}},6693:(ze,Ce,k)=>{"use strict";k.d(Ce,{n:()=>re});var g=k(7574),ae=k(5015),$=k(4087);function re(ye,se){return se?(0,$.r)(ye,se):new g.y((0,ae.V)(ye))}},6682:(ze,Ce,k)=>{"use strict";k.d(Ce,{T:()=>ye});var g=k(7574),ae=k(4869),$=k(3282),re=k(6693);function ye(...se){let _e=Number.POSITIVE_INFINITY,me=null,Z=se[se.length-1];return(0,ae.K)(Z)?(me=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(_e=se.pop())):"number"==typeof Z&&(_e=se.pop()),null===me&&1===se.length&&se[0]instanceof g.y?se[0]:(0,$.J)(_e)((0,re.n)(se,me))}},5917:(ze,Ce,k)=>{"use strict";k.d(Ce,{of:()=>re});var g=k(4869),ae=k(6693),$=k(4087);function re(...ye){let se=ye[ye.length-1];return(0,g.K)(se)?(ye.pop(),(0,$.r)(ye,se)):(0,ae.n)(ye)}},8002:(ze,Ce,k)=>{"use strict";k.d(Ce,{U:()=>ae});var g=k(7393);function ae(ye,se){return function(me){if("function"!=typeof ye)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return me.lift(new $(ye,se))}}class ${constructor(se,_e){this.project=se,this.thisArg=_e}call(se,_e){return _e.subscribe(new re(se,this.project,this.thisArg))}}class re extends g.L{constructor(se,_e,me){super(se),this.project=_e,this.count=0,this.thisArg=me||this}_next(se){let _e;try{_e=this.project.call(this.thisArg,se,this.count++)}catch(me){return void this.destination.error(me)}this.destination.next(_e)}}},3282:(ze,Ce,k)=>{"use strict";k.d(Ce,{J:()=>$});var g=k(9773),ae=k(4487);function $(re=Number.POSITIVE_INFINITY){return(0,g.zg)(ae.y,re)}},9773:(ze,Ce,k)=>{"use strict";k.d(Ce,{zg:()=>re});var g=k(8002),ae=k(4402),$=k(5345);function re(me,Z,F=Number.POSITIVE_INFINITY){return"function"==typeof Z?j=>j.pipe(re((G,U)=>(0,ae.D)(me(G,U)).pipe((0,g.U)((W,ce)=>Z(G,W,U,ce))),F)):("number"==typeof Z&&(F=Z),j=>j.lift(new ye(me,F)))}class ye{constructor(Z,F=Number.POSITIVE_INFINITY){this.project=Z,this.concurrent=F}call(Z,F){return F.subscribe(new se(Z,this.project,this.concurrent))}}class se extends $.Ds{constructor(Z,F,j=Number.POSITIVE_INFINITY){super(Z),this.project=F,this.concurrent=j,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Z){this.active<this.concurrent?this._tryNext(Z):this.buffer.push(Z)}_tryNext(Z){let F;const j=this.index++;try{F=this.project(Z,j)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(F)}_innerSub(Z){const F=new $.IY(this),j=this.destination;j.add(F);const G=(0,$.ft)(Z,F);G!==F&&j.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Z){this.destination.next(Z)}notifyComplete(){const Z=this.buffer;this.active--,Z.length>0?this._next(Z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(ze,Ce,k)=>{"use strict";k.d(Ce,{ht:()=>j,QV:()=>Z});var g=k(7393),ae=k(9193),$=k(5917),re=k(7574);class me{constructor(W,ce,ne){this.kind=W,this.value=ce,this.error=ne,this.hasValue="N"===W}observe(W){switch(this.kind){case"N":return W.next&&W.next(this.value);case"E":return W.error&&W.error(this.error);case"C":return W.complete&&W.complete()}}do(W,ce,ne){switch(this.kind){case"N":return W&&W(this.value);case"E":return ce&&ce(this.error);case"C":return ne&&ne()}}accept(W,ce,ne){return W&&"function"==typeof W.next?this.observe(W):this.do(W,ce,ne)}toObservable(){switch(this.kind){case"N":return(0,$.of)(this.value);case"E":return U=this.error,new re.y(ce=>ce.error(U));case"C":return(0,ae.c)()}var U;throw new Error("unexpected notification kind value")}static createNext(W){return void 0!==W?new me("N",W):me.undefinedValueNotification}static createError(W){return new me("E",void 0,W)}static createComplete(){return me.completeNotification}}function Z(U,W=0){return function(ne){return ne.lift(new F(U,W))}}me.completeNotification=new me("C"),me.undefinedValueNotification=new me("N",void 0);class F{constructor(W,ce=0){this.scheduler=W,this.delay=ce}call(W,ce){return ce.subscribe(new j(W,this.scheduler,this.delay))}}class j extends g.L{constructor(W,ce,ne=0){super(W),this.scheduler=ce,this.delay=ne}static dispatch(W){const{notification:ce,destination:ne}=W;ce.observe(ne),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(j.dispatch,this.delay,new G(W,this.destination)))}_next(W){this.scheduleMessage(me.createNext(W))}_error(W){this.scheduleMessage(me.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(me.createComplete()),this.unsubscribe()}}class G{constructor(W,ce){this.notification=W,this.destination=ce}}},1307:(ze,Ce,k)=>{"use strict";k.d(Ce,{x:()=>ae});var g=k(7393);function ae(){return function(se){return se.lift(new $(se))}}class ${constructor(se){this.connectable=se}call(se,_e){const{connectable:me}=this;me._refCount++;const Z=new re(se,me),F=_e.subscribe(Z);return Z.closed||(Z.connection=me.connect()),F}}class re extends g.L{constructor(se,_e){super(se),this.connectable=_e}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const _e=se._refCount;if(_e<=0)return void(this.connection=null);if(se._refCount=_e-1,_e>1)return void(this.connection=null);const{connection:me}=this,Z=se._connection;this.connection=null,Z&&(!me||Z===me)&&Z.unsubscribe()}}},3101:(ze,Ce,k)=>{"use strict";k.d(Ce,{R:()=>te});var g=k(7574);let ae=1;const $=Promise.resolve(),re={};function ye(Ae){return Ae in re&&(delete re[Ae],!0)}const se={setImmediate(Ae){const xe=ae++;return re[xe]=!0,$.then(()=>ye(xe)&&Ae()),xe},clearImmediate(Ae){ye(Ae)}};var me=k(6465),F=k(6102);const U=new class extends F.v{flush(xe){this.active=!0,this.scheduled=void 0;const{actions:ke}=this;let Ue,Ve=-1,dt=ke.length;xe=xe||ke.shift();do{if(Ue=xe.execute(xe.state,xe.delay))break}while(++Ve<dt&&(xe=ke.shift()));if(this.active=!1,Ue){for(;++Ve<dt&&(xe=ke.shift());)xe.unsubscribe();throw Ue}}}(class extends me.o{constructor(xe,ke){super(xe,ke),this.scheduler=xe,this.work=ke}requestAsyncId(xe,ke,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(xe,ke,Ue):(xe.actions.push(this),xe.scheduled||(xe.scheduled=se.setImmediate(xe.flush.bind(xe,null))))}recycleAsyncId(xe,ke,Ue=0){if(null!==Ue&&Ue>0||null===Ue&&this.delay>0)return super.recycleAsyncId(xe,ke,Ue);0===xe.actions.length&&(se.clearImmediate(ke),xe.scheduled=void 0)}});var W=k(9796);class ne extends g.y{constructor(xe,ke=0,Ue=U){var Ae;super(),this.source=xe,this.delayTime=ke,this.scheduler=Ue,(!(!(0,W.k)(Ae=ke)&&Ae-parseFloat(Ae)+1>=0)||ke<0)&&(this.delayTime=0),(!Ue||"function"!=typeof Ue.schedule)&&(this.scheduler=U)}static create(xe,ke=0,Ue=U){return new ne(xe,ke,Ue)}static dispatch(xe){const{source:ke,subscriber:Ue}=xe;return this.add(ke.subscribe(Ue))}_subscribe(xe){return this.scheduler.schedule(ne.dispatch,this.delayTime,{source:this.source,subscriber:xe})}}function te(Ae,xe=0){return function(Ue){return Ue.lift(new Pe(Ae,xe))}}class Pe{constructor(xe,ke){this.scheduler=xe,this.delay=ke}call(xe,ke){return new ne(ke,this.delay,this.scheduler).subscribe(xe)}}},3342:(ze,Ce,k)=>{"use strict";k.d(Ce,{b:()=>re});var g=k(7393);function ae(){}var $=k(9105);function re(_e,me,Z){return function(j){return j.lift(new ye(_e,me,Z))}}class ye{constructor(me,Z,F){this.nextOrObserver=me,this.error=Z,this.complete=F}call(me,Z){return Z.subscribe(new se(me,this.nextOrObserver,this.error,this.complete))}}class se extends g.L{constructor(me,Z,F,j){super(me),this._tapNext=ae,this._tapError=ae,this._tapComplete=ae,this._tapError=F||ae,this._tapComplete=j||ae,(0,$.m)(Z)?(this._context=this,this._tapNext=Z):Z&&(this._context=Z,this._tapNext=Z.next||ae,this._tapError=Z.error||ae,this._tapComplete=Z.complete||ae)}_next(me){try{this._tapNext.call(this._context,me)}catch(Z){return void this.destination.error(Z)}this.destination.next(me)}_error(me){try{this._tapError.call(this._context,me)}catch(Z){return void this.destination.error(Z)}this.destination.error(me)}_complete(){try{this._tapComplete.call(this._context)}catch(me){return void this.destination.error(me)}return this.destination.complete()}}},4087:(ze,Ce,k)=>{"use strict";k.d(Ce,{r:()=>$});var g=k(7574),ae=k(5319);function $(re,ye){return new g.y(se=>{const _e=new ae.w;let me=0;return _e.add(ye.schedule(function(){me!==re.length?(se.next(re[me++]),se.closed||_e.add(this.schedule())):se.complete()})),_e})}},6465:(ze,Ce,k)=>{"use strict";k.d(Ce,{o:()=>$});var g=k(5319);class ae extends g.w{constructor(ye,se){super()}schedule(ye,se=0){return this}}class $ extends ae{constructor(ye,se){super(ye,se),this.scheduler=ye,this.work=se,this.pending=!1}schedule(ye,se=0){if(this.closed)return this;this.state=ye;const _e=this.id,me=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(me,_e,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(me,this.id,se),this}requestAsyncId(ye,se,_e=0){return setInterval(ye.flush.bind(ye,this),_e)}recycleAsyncId(ye,se,_e=0){if(null!==_e&&this.delay===_e&&!1===this.pending)return se;clearInterval(se)}execute(ye,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ye,se);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,se){let me,_e=!1;try{this.work(ye)}catch(Z){_e=!0,me=!!Z&&Z||new Error(Z)}if(_e)return this.unsubscribe(),me}_unsubscribe(){const ye=this.id,se=this.scheduler,_e=se.actions,me=_e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==me&&_e.splice(me,1),null!=ye&&(this.id=this.recycleAsyncId(se,ye,null)),this.delay=null}}},6102:(ze,Ce,k)=>{"use strict";k.d(Ce,{v:()=>ae});let g=(()=>{class ${constructor(ye,se=$.now){this.SchedulerAction=ye,this.now=se}schedule(ye,se=0,_e){return new this.SchedulerAction(this,ye).schedule(_e,se)}}return $.now=()=>Date.now(),$})();class ae extends g{constructor(re,ye=g.now){super(re,()=>ae.delegate&&ae.delegate!==this?ae.delegate.now():ye()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(re,ye=0,se){return ae.delegate&&ae.delegate!==this?ae.delegate.schedule(re,ye,se):super.schedule(re,ye,se)}flush(re){const{actions:ye}=this;if(this.active)return void ye.push(re);let se;this.active=!0;do{if(se=re.execute(re.state,re.delay))break}while(re=ye.shift());if(this.active=!1,se){for(;re=ye.shift();)re.unsubscribe();throw se}}}},3637:(ze,Ce,k)=>{"use strict";k.d(Ce,{z:()=>$});var g=k(6465);const $=new(k(6102).v)(g.o)},7771:(ze,Ce,k)=>{"use strict";k.d(Ce,{c:()=>se,N:()=>ye});var g=k(6465),$=k(6102);const ye=new class extends $.v{}(class extends g.o{constructor(me,Z){super(me,Z),this.scheduler=me,this.work=Z}schedule(me,Z=0){return Z>0?super.schedule(me,Z):(this.delay=Z,this.state=me,this.scheduler.flush(this),this)}execute(me,Z){return Z>0||this.closed?super.execute(me,Z):this._execute(me,Z)}requestAsyncId(me,Z,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(me,Z,F):me.flush(this)}}),se=ye},377:(ze,Ce,k)=>{"use strict";k.d(Ce,{hZ:()=>ae});const ae="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ze,Ce,k)=>{"use strict";k.d(Ce,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ze,Ce,k)=>{"use strict";k.d(Ce,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ze,Ce,k)=>{"use strict";k.d(Ce,{N:()=>ae});const ae=(()=>{function $(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return $.prototype=Object.create(Error.prototype),$})()},4449:(ze,Ce,k)=>{"use strict";function g(ae){setTimeout(()=>{throw ae},0)}k.d(Ce,{z:()=>g})},4487:(ze,Ce,k)=>{"use strict";function g(ae){return ae}k.d(Ce,{y:()=>g})},9796:(ze,Ce,k)=>{"use strict";k.d(Ce,{k:()=>g});const g=Array.isArray||(ae=>ae&&"number"==typeof ae.length)},9489:(ze,Ce,k)=>{"use strict";k.d(Ce,{z:()=>g});const g=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},9105:(ze,Ce,k)=>{"use strict";function g(ae){return"function"==typeof ae}k.d(Ce,{m:()=>g})},1555:(ze,Ce,k)=>{"use strict";function g(ae){return null!==ae&&"object"==typeof ae}k.d(Ce,{K:()=>g})},4072:(ze,Ce,k)=>{"use strict";function g(ae){return!!ae&&"function"!=typeof ae.subscribe&&"function"==typeof ae.then}k.d(Ce,{t:()=>g})},4869:(ze,Ce,k)=>{"use strict";function g(ae){return ae&&"function"==typeof ae.schedule}k.d(Ce,{K:()=>g})},7444:(ze,Ce,k)=>{"use strict";k.d(Ce,{s:()=>j});var g=k(5015),ae=k(4449),re=k(377),se=k(6554),me=k(9489),Z=k(4072),F=k(1555);const j=G=>{if(G&&"function"==typeof G[se.L])return(G=>U=>{const W=G[se.L]();if("function"!=typeof W.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return W.subscribe(U)})(G);if((0,me.z)(G))return(0,g.V)(G);if((0,Z.t)(G))return(G=>U=>(G.then(W=>{U.closed||(U.next(W),U.complete())},W=>U.error(W)).then(null,ae.z),U))(G);if(G&&"function"==typeof G[re.hZ])return(G=>U=>{const W=G[re.hZ]();for(;;){let ce;try{ce=W.next()}catch(ne){return U.error(ne),U}if(ce.done){U.complete();break}if(U.next(ce.value),U.closed)break}return"function"==typeof W.return&&U.add(()=>{W.return&&W.return()}),U})(G);{const W=`You provided ${(0,F.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(W)}}},5015:(ze,Ce,k)=>{"use strict";k.d(Ce,{V:()=>g});const g=ae=>$=>{for(let re=0,ye=ae.length;re<ye&&!$.closed;re++)$.next(ae[re]);$.complete()}},9327:(ze,Ce,k)=>{"use strict";var g=k(3018);let ae=null;function $(){return ae}const _e=new g.OlP("DocumentToken");let me=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:Z,token:i,providedIn:"platform"}),i})();function Z(){return(0,g.LFG)(j)}const F=new g.OlP("Location Initialized");let j=(()=>{class i extends me{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(r){const s=$().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=$().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,s,l){G()?this._history.pushState(r,s,l):this.location.hash=l}replaceState(r,s,l){G()?this._history.replaceState(r,s,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(_e))},i.\u0275prov=(0,g.Yz7)({factory:U,token:i,providedIn:"platform"}),i})();function G(){return!!window.history.pushState}function U(){return new j((0,g.LFG)(_e))}function W(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function ce(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function ne(i){return i&&"?"!==i[0]?"?"+i:i}let te=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:Pe,token:i,providedIn:"root"}),i})();function Pe(i){const n=(0,g.LFG)(_e).location;return new xe((0,g.LFG)(me),n&&n.origin||"")}const Ae=new g.OlP("appBaseHref");let xe=(()=>{class i extends te{constructor(r,s){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return W(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+ne(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${s}${l}`:s}pushState(r,s,l,d){const p=this.prepareExternalUrl(l+ne(d));this._platformLocation.pushState(r,s,p)}replaceState(r,s,l,d){const p=this.prepareExternalUrl(l+ne(d));this._platformLocation.replaceState(r,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(me),g.LFG(Ae,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),ke=(()=>{class i extends te{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=W(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,l,d){let p=this.prepareExternalUrl(l+ne(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(r,s,p)}replaceState(r,s,l,d){let p=this.prepareExternalUrl(l+ne(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(me),g.LFG(Ae,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Ue=(()=>{class i{constructor(r,s){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const l=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=ce(Qt(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+ne(s))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,Qt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,s="",l=null){this._platformStrategy.pushState(l,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(s)),l)}replaceState(r,s="",l=null){this._platformStrategy.replaceState(l,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(s)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformStrategy).historyGo)||void 0===l||l.call(s,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(l=>l(r,s))}subscribe(r,s,l){return this._subject.subscribe({next:r,error:s,complete:l})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(te),g.LFG(me))},i.normalizeQueryParams=ne,i.joinWithSlash=W,i.stripTrailingSlash=ce,i.\u0275prov=(0,g.Yz7)({factory:Ve,token:i,providedIn:"root"}),i})();function Ve(){return new Ue((0,g.LFG)(te),(0,g.LFG)(me))}function Qt(i){return i.replace(/\/index.html$/,"")}const Ee={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ie=(()=>((ie=ie||{})[ie.Decimal=0]="Decimal",ie[ie.Percent=1]="Percent",ie[ie.Currency=2]="Currency",ie[ie.Scientific=3]="Scientific",ie))(),oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))(),Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Group=1]="Group",Q[Q.List=2]="List",Q[Q.PercentSign=3]="PercentSign",Q[Q.PlusSign=4]="PlusSign",Q[Q.MinusSign=5]="MinusSign",Q[Q.Exponential=6]="Exponential",Q[Q.SuperscriptingExponent=7]="SuperscriptingExponent",Q[Q.PerMille=8]="PerMille",Q[Q.Infinity=9]="Infinity",Q[Q.NaN=10]="NaN",Q[Q.TimeSeparator=11]="TimeSeparator",Q[Q.CurrencyDecimal=12]="CurrencyDecimal",Q[Q.CurrencyGroup=13]="CurrencyGroup",Q))();function Pt(i,n){const r=(0,g.cg1)(i),s=r[g.wAp.NumberSymbols][n];if(void 0===s){if(n===Q.CurrencyDecimal)return r[g.wAp.NumberSymbols][Q.Decimal];if(n===Q.CurrencyGroup)return r[g.wAp.NumberSymbols][Q.Group]}return s}const Rr=g.kL8;const wa=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function M_(i,n,r,s,l){const p=function(i,n="-"){const r={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=i.split(";"),l=s[0],d=s[1],p=-1!==l.indexOf(".")?l.split("."):[l.substring(0,l.lastIndexOf("0")+1),l.substring(l.lastIndexOf("0")+1)],E=p[0],T=p[1]||"";r.posPre=E.substr(0,E.indexOf("#"));for(let R=0;R<T.length;R++){const x=T.charAt(R);"0"===x?r.minFrac=r.maxFrac=R+1:"#"===x?r.maxFrac=R+1:r.posSuf+=x}const S=E.split(",");if(r.gSize=S[1]?S[1].length:0,r.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,d){const R=l.length-r.posPre.length-r.posSuf.length,x=d.indexOf("#");r.negPre=d.substr(0,x).replace(/'/g,""),r.negSuf=d.substr(x+R).replace(/'/g,"")}else r.negPre=n+r.posPre,r.negSuf=r.posSuf;return r}(function(i,n){return(0,g.cg1)(i)[g.wAp.NumberFormats][n]}(n,ie.Currency),Pt(n,Q.MinusSign));return p.minFrac=function(i){let n;const r=Ee[i];return r&&(n=r[2]),"number"==typeof n?n:2}(s),p.maxFrac=p.minFrac,function(i,n,r,s,l,d,p=!1){let E="",T=!1;if(isFinite(i)){let S=function(i){let s,l,d,p,E,n=Math.abs(i)+"",r=0;for((l=n.indexOf("."))>-1&&(n=n.replace(".","")),(d=n.search(/e/i))>0?(l<0&&(l=d),l+=+n.slice(d+1),n=n.substring(0,d)):l<0&&(l=n.length),d=0;"0"===n.charAt(d);d++);if(d===(E=n.length))s=[0],l=1;else{for(E--;"0"===n.charAt(E);)E--;for(l-=d,s=[],p=0;d<=E;d++,p++)s[p]=Number(n.charAt(d))}return l>22&&(s=s.splice(0,21),r=l-1,l=1),{digits:s,exponent:r,integerLen:l}}(i);p&&(S=function(i){if(0===i.digits[0])return i;const n=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===n?i.digits.push(0,0):1===n&&i.digits.push(0),i.integerLen+=2),i}(S));let R=n.minInt,x=n.minFrac,B=n.maxFrac;if(d){const it=d.match(wa);if(null===it)throw new Error(`${d} is not a valid digit info`);const st=it[1],Et=it[3],$n=it[5];null!=st&&(R=Mn(st)),null!=Et&&(x=Mn(Et)),null!=$n?B=Mn($n):null!=Et&&x>B&&(B=x)}!function(i,n,r){if(n>r)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${r}).`);let s=i.digits,l=s.length-i.integerLen;const d=Math.min(Math.max(n,l),r);let p=d+i.integerLen,E=s[p];if(p>0){s.splice(Math.max(i.integerLen,p));for(let x=p;x<s.length;x++)s[x]=0}else{l=Math.max(0,l),i.integerLen=1,s.length=Math.max(1,p=d+1),s[0]=0;for(let x=1;x<p;x++)s[x]=0}if(E>=5)if(p-1<0){for(let x=0;x>p;x--)s.unshift(0),i.integerLen++;s.unshift(1),i.integerLen++}else s[p-1]++;for(;l<Math.max(0,d);l++)s.push(0);let T=0!==d;const S=n+i.integerLen,R=s.reduceRight(function(x,B,H,X){return X[H]=(B+=x)<10?B:B-10,T&&(0===X[H]&&H>=S?X.pop():T=!1),B>=10?1:0},0);R&&(s.unshift(R),i.integerLen++)}(S,x,B);let H=S.digits,X=S.integerLen;const ve=S.exponent;let Ne=[];for(T=H.every(it=>!it);X<R;X++)H.unshift(0);for(;X<0;X++)H.unshift(0);X>0?Ne=H.splice(X,H.length):(Ne=H,H=[0]);const et=[];for(H.length>=n.lgSize&&et.unshift(H.splice(-n.lgSize,H.length).join(""));H.length>n.gSize;)et.unshift(H.splice(-n.gSize,H.length).join(""));H.length&&et.unshift(H.join("")),E=et.join(Pt(r,s)),Ne.length&&(E+=Pt(r,l)+Ne.join("")),ve&&(E+=Pt(r,Q.Exponential)+"+"+ve)}else E=Pt(r,Q.Infinity);return E=i<0&&!T?n.negPre+E+n.negSuf:n.posPre+E+n.posSuf,E}(i,p,n,Q.CurrencyGroup,Q.CurrencyDecimal,l).replace("\xa4",r).replace("\xa4","").trim()}function Mn(i){const n=parseInt(i);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+i);return n}class Er{}let xo=(()=>{class i extends Er{constructor(r){super(),this.locale=r}getPluralCategory(r,s){switch(Rr(s||this.locale)(r)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.soG))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Eh{constructor(n,r,s,l){this.$implicit=n,this.ngForOf=r,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fs=(()=>{class i{constructor(r,s,l){this._viewContainer=r,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const s=[];r.forEachOperation((l,d,p)=>{if(null==l.previousIndex){const E=this._viewContainer.createEmbeddedView(this._template,new Eh(null,this._ngForOf,-1,-1),null===p?void 0:p),T=new Gn(l,E);s.push(T)}else if(null==p)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const E=this._viewContainer.get(d);this._viewContainer.move(E,p);const T=new Gn(l,E);s.push(T)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,d=this._viewContainer.length;l<d;l++){const p=this._viewContainer.get(l);p.context.index=l,p.context.count=d,p.context.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(r,s){r.context.$implicit=s.item}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Gn{constructor(n,r){this.record=n,this.view=r}}let zi=(()=>{class i{constructor(r,s){this._viewContainer=r,this._context=new zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Kt("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Kt("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.s_b),g.Y36(g.Rgc))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class zr{constructor(){this.$implicit=null,this.ngIf=null}}function Kt(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,g.AaK)(n)}'.`)}let Sa=(()=>{class i{constructor(r,s="USD"){this._locale=r,this._defaultCurrencyCode=s}transform(r,s=this._defaultCurrencyCode,l="symbol",d,p){if(!function(i){return!(null==i||""===i||i!=i)}(r))return null;p=p||this._locale,"boolean"==typeof l&&(l=l?"symbol":"code");let E=s||this._defaultCurrencyCode;"code"!==l&&(E="symbol"===l||"symbol-narrow"===l?function(i,n,r="en"){const s=function(i){return(0,g.cg1)(i)[g.wAp.Currencies]}(r)[i]||Ee[i]||[],l=s[1];return"narrow"===n&&"string"==typeof l?l:s[0]||i}(E,"symbol"===l?"wide":"narrow",p):l);try{return M_(function(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(r),p,E,s,d)}catch(T){throw function(i,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${(0,g.AaK)(i)}'`)}(i,T.message)}}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.soG,16),g.Y36(g.EJc,16))},i.\u0275pipe=g.Yjl({name:"currency",type:i,pure:!0}),i})();let Nh=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[{provide:Er,useClass:xo}]}),i})();function Du(i){return"server"===i}let Su=(()=>{class i{}return i.\u0275prov=(0,g.Yz7)({token:i,providedIn:"root",factory:()=>new _c((0,g.LFG)(_e),window)}),i})();class _c{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const s=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const d=l.shadowRoot;if(d){const p=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(p)return p}l=s.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),s=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],l-d[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Au(this.window.history)||Au(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Au(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class ko extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new ko,ae||(ae=i)}onAndCancel(n,r,s){return n.addEventListener(r,s,!1),()=>{n.removeEventListener(r,s,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(zs=zs||document.querySelector("base"),zs?zs.getAttribute("href"):null);return null==r?null:function(i){wc=wc||document.createElement("a"),wc.setAttribute("href",i);const n=wc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const s=r.indexOf("="),[l,d]=-1==s?[r,""]:[r.slice(0,s),r.slice(s+1)];if(l.trim()===n)return decodeURIComponent(d)}return null}(document.cookie,n)}}let wc,zs=null;const Cg=new g.OlP("TRANSITION_ID"),Cc=[{provide:g.ip1,useFactory:function(i,n,r){return()=>{r.get(g.CZH).donePromise.then(()=>{const s=$(),l=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let d=0;d<l.length;d++)s.remove(l[d])})}},deps:[Cg,_e,g.zs3],multi:!0}];class sn{static init(){(0,g.VLi)(new sn)}addToWindow(n){g.dqk.getAngularTestability=(s,l=!0)=>{const d=n.findTestabilityInTree(s,l);if(null==d)throw new Error("Could not find testability for element.");return d},g.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(s=>{const l=g.dqk.getAllAngularTestabilities();let d=l.length,p=!1;const E=function(T){p=p||T,d--,0==d&&s(p)};l.forEach(function(T){T.whenStable(E)})})}findTestabilityInTree(n,r,s){if(null==r)return null;const l=n.getTestability(r);return null!=l?l:s?$().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let Ig=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const Fo=new g.OlP("EventManagerPlugins");let ku=(()=>{class i{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(l=>l.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,s,l){return this._findPluginFor(s).addEventListener(r,s,l)}addGlobalEventListener(r,s,l){return this._findPluginFor(s).addGlobalEventListener(r,s,l)}getZone(){return this._zone}_findPluginFor(r){const s=this._eventNameToPlugin.get(r);if(s)return s;const l=this._plugins;for(let d=0;d<l.length;d++){const p=l[d];if(p.supports(r))return this._eventNameToPlugin.set(r,p),p}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Fo),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Fu{constructor(n){this._doc=n}addGlobalEventListener(n,r,s){const l=$().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${r}`);return this.addEventListener(l,r,s)}}let Mh=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const s=new Set;r.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Lo=(()=>{class i extends Mh{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,s,l){r.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,l.push(s.appendChild(p))})}addHost(r){const s=[];this._addStylesToHost(this._stylesSet,r,s),this._hostNodes.set(r,s)}removeHost(r){const s=this._hostNodes.get(r);s&&s.forEach(Dg),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(r,l,s)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Dg))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(_e))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function Dg(i){$().remove(i)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xt=/%COMP%/g;function Zs(i,n,r){for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?Zs(i,l,r):(l=l.replace(xt,i),r.push(l))}return r}function L_(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let Vo=(()=>{class i{constructor(r,s,l){this.eventManager=r,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Ys(r)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;switch(s.encapsulation){case g.ifc.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new Qs(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(r),l}case 1:case g.ifc.ShadowDom:return new ms(this.eventManager,this.sharedStylesHost,r,s);default:if(!this.rendererByCompId.has(s.id)){const l=Zs(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(ku),g.LFG(Lo),g.LFG(g.AFp))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Ys{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Ie[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,s){n&&n.insertBefore(r,s)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return r||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,s,l){if(l){r=l+":"+r;const d=Ie[l];d?n.setAttributeNS(d,r,s):n.setAttribute(r,s)}else n.setAttribute(r,s)}removeAttribute(n,r,s){if(s){const l=Ie[s];l?n.removeAttributeNS(l,r):n.removeAttribute(`${s}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,s,l){l&(g.JOm.DashCase|g.JOm.Important)?n.style.setProperty(r,s,l&g.JOm.Important?"important":""):n.style[r]=s}removeStyle(n,r,s){s&g.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,s){n[r]=s}setValue(n,r){n.nodeValue=r}listen(n,r,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,L_(s)):this.eventManager.addEventListener(n,r,L_(s))}}class Qs extends Ys{constructor(n,r,s,l){super(n),this.component=s;const d=Zs(l+"-"+s.id,s.styles,[]);r.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(xt,l+"-"+s.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(xt,i)}(l+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const s=super.createElement(n,r);return super.setAttribute(s,this.contentAttr,""),s}}class ms extends Ys{constructor(n,r,s,l){super(n),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Zs(l.id,l.styles,[]);for(let p=0;p<d.length;p++){const E=document.createElement("style");E.textContent=d[p],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,s){return super.insertBefore(this.nodeOrShadowRoot(n),r,s)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Lh=(()=>{class i extends Fu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,l){return r.addEventListener(s,l,!1),()=>this.removeEventListener(r,s,l)}removeEventListener(r,s,l){return r.removeEventListener(s,l)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(_e))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const Uu=["alt","control","meta","shift"],xg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Og={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Or={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Bo=(()=>{class i extends Fu{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,s,l){const d=i.parseEventName(s),p=i.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$().onAndCancel(r,d.domEventName,p))}static parseEventName(r){const s=r.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const d=i._normalizeKey(s.pop());let p="";if(Uu.forEach(T=>{const S=s.indexOf(T);S>-1&&(s.splice(S,1),p+=T+".")}),p+=d,0!=s.length||0===d.length)return null;const E={};return E.domEventName=l,E.fullKey=p,E}static getEventFullKey(r){let s="",l=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&Og.hasOwnProperty(n)&&(n=Og[n]))}return xg[n]||n}(r);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Uu.forEach(d=>{d!=l&&Or[d](r)&&(s+=d+".")}),s+=l,s}static eventCallback(r,s,l){return d=>{i.getEventFullKey(d)===r&&l.runGuarded(()=>s(d))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(_e))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Mi=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:function(){return(0,g.LFG)(Hh)},token:i,providedIn:"root"}),i})(),Hh=(()=>{class i extends Mi{constructor(r){super(),this._doc=r}sanitize(r,s){if(null==s)return null;switch(r){case g.q3G.NONE:return s;case g.q3G.HTML:return(0,g.qzn)(s,"HTML")?(0,g.z3N)(s):(0,g.EiD)(this._doc,String(s)).toString();case g.q3G.STYLE:return(0,g.qzn)(s,"Style")?(0,g.z3N)(s):s;case g.q3G.SCRIPT:if((0,g.qzn)(s,"Script"))return(0,g.z3N)(s);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.yhl)(s),(0,g.qzn)(s,"URL")?(0,g.z3N)(s):(0,g.mCW)(String(s));case g.q3G.RESOURCE_URL:if((0,g.qzn)(s,"ResourceURL"))return(0,g.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${r} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(r){return(0,g.JVY)(r)}bypassSecurityTrustStyle(r){return(0,g.L6k)(r)}bypassSecurityTrustScript(r){return(0,g.eBb)(r)}bypassSecurityTrustUrl(r){return(0,g.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,g.pB0)(r)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(_e))},i.\u0275prov=(0,g.Yz7)({factory:function(){return function(i){return new Hh(i.get(_e))}((0,g.LFG)(g.gxx))},token:i,providedIn:"root"}),i})();const H_=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){ko.makeCurrent(),sn.init()},multi:!0},{provide:_e,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),Js=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:Fo,useClass:Lh,multi:!0,deps:[_e,g.R0b,g.Lbi]},{provide:Fo,useClass:Bo,multi:!0,deps:[_e]},[],{provide:Vo,useClass:Vo,deps:[ku,Lo,g.AFp]},{provide:g.FYo,useExisting:Vo},{provide:Mh,useExisting:Lo},{provide:Lo,useClass:Lo,deps:[_e]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:ku,useClass:ku,deps:[Fo,g.R0b]},{provide:class{},useClass:Ig,deps:[]},[]];let jo=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:g.AFp,useValue:r.appId},{provide:Cg,useExisting:g.AFp},Cc]}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(i,12))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:Js,imports:[Nh,g.hGG]}),i})();"undefined"!=typeof window&&window;var hn=k(4402),ot=k(5917),dr=k(9765),eo=k(7971);class Yr extends dr.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new eo.N;return this._value}next(n){super.next(this._value=n)}}var xa=k(4869),$o=k(9796),Mr=k(7393);class q_ extends Mr.L{notifyNext(n,r,s,l,d){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class z_ extends Mr.L{constructor(n,r,s){super(),this.parent=n,this.outerValue=r,this.outerIndex=s,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Oa=k(7444),pi=k(7574);function Fg(i,n,r,s,l=new z_(i,r,s)){if(!l.closed)return n instanceof pi.y?n.subscribe(l):(0,Oa.s)(n)(l)}var W_=k(6693);const xc={};class Ma{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Lg(n,this.resultSelector))}}class Lg extends q_{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(xc),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let s=0;s<r;s++)this.add(Fg(this,n[s],void 0,s))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,s){const l=this.values,p=this.toRespond?l[s]===xc?--this.toRespond:this.toRespond:0;l[s]=r,0===p&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(r)}}const Gu=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var gi=k(3282);function qu(...i){return(0,gi.J)(1)((0,ot.of)(...i))}var Wi=k(9193);function _s(i){return new pi.y(n=>{let r;try{r=i()}catch(l){return void n.error(l)}return(r?(0,hn.D)(r):(0,Wi.c)()).subscribe(n)})}var Pa=k(2441),ft=k(8002),Ki=k(5345);function qn(i,n){return"function"==typeof n?r=>r.pipe(qn((s,l)=>(0,hn.D)(i(s,l)).pipe((0,ft.U)((d,p)=>n(s,d,l,p))))):r=>r.lift(new Ho(i))}class Ho{constructor(n){this.project=n}call(n,r){return r.subscribe(new Z_(n,this.project))}}class Z_ extends Ki.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const s=this.index++;try{r=this.project(n,s)}catch(l){return void this.destination.error(l)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new Ki.IY(this),l=this.destination;l.add(s),this.innerSubscription=(0,Ki.ft)(n,s),this.innerSubscription!==s&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const Ug=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Bg(i){return n=>0===i?(0,Wi.c)():n.lift(new Yh(i))}class Yh{constructor(n){if(this.total=n,this.total<0)throw new Ug}call(n,r){return r.subscribe(new In(n,this.total))}}class In extends Mr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,s=++this.count;s<=r&&(this.destination.next(n),s===r&&(this.destination.complete(),this.unsubscribe()))}}function ka(...i){const n=i[i.length-1];return(0,xa.K)(n)?(i.pop(),r=>qu(i,r,n)):r=>qu(i,r)}function Fa(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(l){return l.lift(new jg(i,n,r))}}class jg{constructor(n,r,s=!1){this.accumulator=n,this.seed=r,this.hasSeed=s}call(n,r){return r.subscribe(new Vb(n,this.accumulator,this.seed,this.hasSeed))}}class Vb extends Mr.L{constructor(n,r,s,l){super(n),this.accumulator=r,this._seed=s,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let s;try{s=this.accumulator(this.seed,n,r)}catch(l){this.destination.error(l)}this.seed=s,this.destination.next(s)}}function Zi(i,n){return function(s){return s.lift(new Qh(i,n))}}class Qh{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new $g(n,this.predicate,this.thisArg))}}class $g extends Mr.L{constructor(n,r,s){super(n),this.predicate=r,this.thisArg=s,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}r&&this.destination.next(n)}}function La(i){return function(r){const s=new Hg(i),l=r.lift(s);return s.caught=l}}class Hg{constructor(n){this.selector=n}call(n,r){return r.subscribe(new Mc(n,this.selector,this.caught))}}class Mc extends Ki.Ds{constructor(n,r,s){super(n),this.selector=r,this.caught=s}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const s=new Ki.IY(this);this.add(s);const l=(0,Ki.ft)(r,s);l!==s&&this.add(l)}}}var Pn=k(9773);function Pi(i,n){return(0,Pn.zg)(i,n,1)}function Gg(i){return function(r){return 0===i?(0,Wi.c)():r.lift(new Vn(i))}}class Vn{constructor(n){if(this.total=n,this.total<0)throw new Ug}call(n,r){return r.subscribe(new Pc(n,this.total))}}class Pc extends Mr.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,s=this.total,l=this.count++;r.length<s?r.push(n):r[l%s]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const s=this.count>=this.total?this.total:this.count,l=this.ring;for(let d=0;d<s;d++){const p=r++%s;n.next(l[p])}}n.complete()}}function Go(i=mi){return n=>n.lift(new Y_(i))}class Y_{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new Q_(n,this.errorFactory))}}class Q_ extends Mr.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function mi(){return new Gu}function Qr(i=null){return n=>n.lift(new kc(i))}class kc{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new vs(n,this.defaultValue))}}class vs extends Mr.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Es=k(4487);function ws(i,n){const r=arguments.length>=2;return s=>s.pipe(i?Zi((l,d)=>i(l,d,s)):Es.y,Bg(1),r?Qr(n):Go(()=>new Gu))}var Jr=k(3342),qg=k(1307),J_=k(5319);class br{constructor(n){this.callback=n}call(n,r){return r.subscribe(new zu(n,this.callback))}}class zu extends Mr.L{constructor(n,r){super(n),this.add(new J_.w(r))}}class hr{constructor(n,r){this.id=n,this.url=r}}class Wg extends hr{constructor(n,r,s="imperative",l=null){super(n,r),this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class to extends hr{constructor(n,r,s){super(n,r),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jh extends hr{constructor(n,r,s){super(n,r),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class X_ extends hr{constructor(n,r,s){super(n,r),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ev extends hr{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xh extends hr{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tv extends hr{constructor(n,r,s,l,d){super(n,r),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wu extends hr{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ku extends hr{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zu{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nv{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qo{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ef{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lc{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vc{constructor(n,r,s){this.routerEvent=n,this.position=r,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class Yu{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Qu(i){return new Yu(i)}const Ju="ngNavigationCancelingError";function ro(i){const n=Error("NavigationCancelingError: "+i);return n[Ju]=!0,n}function rv(i,n,r){const s=r.path.split("/");if(s.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||s.length<i.length))return null;const l={};for(let d=0;d<s.length;d++){const p=s[d],E=i[d];if(p.startsWith(":"))l[p.substring(1)]=E;else if(p!==E.path)return null}return{consumed:i.slice(0,s.length),posParams:l}}function Xr(i,n){const r=i?Object.keys(i):void 0,s=n?Object.keys(n):void 0;if(!r||!s||r.length!=s.length)return!1;let l;for(let d=0;d<r.length;d++)if(l=r[d],!iv(i[l],n[l]))return!1;return!0}function iv(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),s=[...n].sort();return r.every((l,d)=>s[d]===l)}return i===n}function io(i){return Array.prototype.concat.apply([],i)}function Va(i){return i.length>0?i[i.length-1]:null}function zn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function ki(i){return(0,g.CqO)(i)?i:(0,g.QGY)(i)?(0,hn.D)(Promise.resolve(i)):(0,ot.of)(i)}const Ua={exact:function Zg(i,n,r){if(!Ko(i.segments,n.segments)||!tl(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!i.children[s]||!Zg(i.children[s],n.children[s],r))return!1;return!0},subset:Uc},ei={exact:function(i,n){return Xr(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>iv(i[r],n[r]))},ignored:()=>!0};function Xu(i,n,r){return Ua[r.paths](i.root,n.root,r.matrixParams)&&ei[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function Uc(i,n,r){return el(i,n,n.segments,r)}function el(i,n,r,s){if(i.segments.length>r.length){const l=i.segments.slice(0,r.length);return!(!Ko(l,r)||n.hasChildren()||!tl(l,r,s))}if(i.segments.length===r.length){if(!Ko(i.segments,r)||!tl(i.segments,r,s))return!1;for(const l in n.children)if(!i.children[l]||!Uc(i.children[l],n.children[l],s))return!1;return!0}{const l=r.slice(0,i.segments.length),d=r.slice(i.segments.length);return!!(Ko(i.segments,l)&&tl(i.segments,l,s)&&i.children[Dt])&&el(i.children[Dt],n,d,s)}}function tl(i,n,r){return n.every((s,l)=>ei[r](i[l].parameters,s.parameters))}class Wo{constructor(n,r,s){this.root=n,this.queryParams=r,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qu(this.queryParams)),this._queryParamMap}toString(){return Bb.serialize(this)}}class Nt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,zn(r,(s,l)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}}class Yi{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Qu(this.parameters)),this._parameterMap}toString(){return ov(this)}}function Ko(i,n){return i.length===n.length&&i.every((r,s)=>r.path===n[s].path)}class Bc{}class tf{parse(n){const r=new Yo(n);return new Wo(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${rl(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const s=i[r];return Array.isArray(s)?s.map(l=>`${bs(r)}=${bs(l)}`).join("&"):`${bs(r)}=${bs(s)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const Bb=new tf;function jc(i){return i.segments.map(n=>ov(n)).join("/")}function rl(i,n){if(!i.hasChildren())return jc(i);if(n){const r=i.children[Dt]?rl(i.children[Dt],!1):"",s=[];return zn(i.children,(l,d)=>{d!==Dt&&s.push(`${d}:${rl(l,!1)}`)}),s.length>0?`${r}(${s.join("//")})`:r}{const r=function(i,n){let r=[];return zn(i.children,(s,l)=>{l===Dt&&(r=r.concat(n(s,l)))}),zn(i.children,(s,l)=>{l!==Dt&&(r=r.concat(n(s,l)))}),r}(i,(s,l)=>l===Dt?[rl(i.children[Dt],!1)]:[`${l}:${rl(s,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Dt]?`${jc(i)}/${r[0]}`:`${jc(i)}/(${r.join("//")})`}}function Qg(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bs(i){return Qg(i).replace(/%3B/gi,";")}function Qi(i){return Qg(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $c(i){return decodeURIComponent(i)}function rf(i){return $c(i.replace(/\+/g,"%20"))}function ov(i){return`${Qi(i.path)}${function(i){return Object.keys(i).map(n=>`;${Qi(n)}=${Qi(i[n])}`).join("")}(i.parameters)}`}const Jg=/^[^\/()?;=#]+/;function il(i){const n=i.match(Jg);return n?n[0]:""}const Xg=/^[^=?&#]+/,av=/^[^?&#]+/;class Yo{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(s[Dt]=new Nt(n,r)),s}parseSegment(){const n=il(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Yi($c(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=il(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const l=il(this.remaining);l&&(s=l,this.capture(s))}n[$c(r)]=$c(s)}parseQueryParam(n){const r=function(i){const n=i.match(Xg);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const p=function(i){const n=i.match(av);return n?n[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const l=rf(r),d=rf(s);if(n.hasOwnProperty(l)){let p=n[l];Array.isArray(p)||(p=[p],n[l]=p),p.push(d)}else n[l]=d}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=il(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=Dt);const p=this.parseChildren();r[d]=1===Object.keys(p).length?p[Dt]:new Nt([],p),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class em{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=of(n,this._root);return r?r.children.map(s=>s.value):[]}firstChild(n){const r=of(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=ti(n,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return ti(n,this._root).map(r=>r.value)}}function of(i,n){if(i===n.value)return n;for(const r of n.children){const s=of(i,r);if(s)return s}return null}function ti(i,n){if(i===n.value)return[n];for(const r of n.children){const s=ti(i,r);if(s.length)return s.unshift(n),s}return[]}class Pr{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function oo(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class tm extends em{constructor(n,r){super(n),this.snapshot=r,uf(this,n)}toString(){return this.snapshot.toString()}}function nm(i,n){const r=function(i,n){const p=new Gc([],{},{},"",{},Dt,n,null,i.root,-1,{});return new im("",new Pr(p,[]))}(i,n),s=new Yr([new Yi("",{})]),l=new Yr({}),d=new Yr({}),p=new Yr({}),E=new Yr(""),T=new Qo(s,l,p,E,d,Dt,n,r.root);return T.snapshot=r.root,new tm(new Pr(T,[]),r)}class Qo{constructor(n,r,s,l,d,p,E,T){this.url=n,this.params=r,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=p,this.component=E,this._futureSnapshot=T}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(n=>Qu(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(n=>Qu(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rm(i,n="emptyOnly"){const r=i.pathFromRoot;let s=0;if("always"!==n)for(s=r.length-1;s>=1;){const l=r[s],d=r[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(d.component)break;s--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(s))}class Gc{constructor(n,r,s,l,d,p,E,T,S,R,x){this.url=n,this.params=r,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=p,this.component=E,this.routeConfig=T,this._urlSegment=S,this._lastPathIndex=R,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class im extends em{constructor(n,r){super(r),this.url=n,uf(this,r)}toString(){return sm(this._root)}}function uf(i,n){n.value._routerState=i,n.children.forEach(r=>uf(i,r))}function sm(i){const n=i.children.length>0?` { ${i.children.map(sm).join(", ")} } `:"";return`${i.value}${n}`}function om(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,Xr(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),Xr(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!Xr(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),Xr(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function qc(i,n){return Xr(i.params,n.params)&&function(i,n){return Ko(i,n)&&i.every((r,s)=>Xr(r.parameters,n[s].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||qc(i.parent,n.parent))}function sl(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const s=r.value;s._futureSnapshot=n.value;const l=function(i,n,r){return n.children.map(s=>{for(const l of r.children)if(i.shouldReuseRoute(s.value,l.value.snapshot))return sl(i,s,l);return sl(i,s)})}(i,n,r);return new Pr(s,l)}{if(i.shouldAttach(n.value)){const d=i.retrieve(n.value);if(null!==d){const p=d.route;return Fi(n,p),p}}const s=function(i){return new Qo(new Yr(i.url),new Yr(i.params),new Yr(i.queryParams),new Yr(i.fragment),new Yr(i.data),i.outlet,i.component,i)}(n.value),l=n.children.map(d=>sl(i,d));return new Pr(s,l)}}function Fi(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Fi(i.children[r],n.children[r])}function ol(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function ea(i){return"object"==typeof i&&null!=i&&i.outlets}function um(i,n,r,s,l){let d={};return s&&zn(s,(p,E)=>{d[E]=Array.isArray(p)?p.map(T=>`${T}`):`${p}`}),new Wo(r.root===i?n:uv(r.root,i,n),d,l)}function uv(i,n,r){const s={};return zn(i.children,(l,d)=>{s[d]=l===n?r:uv(l,n,r)}),new Nt(i.segments,s)}class Wc{constructor(n,r,s){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=s,n&&s.length>0&&ol(s[0]))throw new Error("Root segment cannot have matrix parameters");const l=s.find(ea);if(l&&l!==Va(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class al{constructor(n,r,s){this.segmentGroup=n,this.processChildren=r,this.index=s}}function ul(i,n,r){if(i||(i=new Nt([],{})),0===i.segments.length&&i.hasChildren())return Zc(i,n,r);const s=function(i,n,r){let s=0,l=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(s>=r.length)return d;const p=i.segments[l],E=r[s];if(ea(E))break;const T=`${E}`,S=s<r.length-1?r[s+1]:null;if(l>0&&void 0===T)break;if(T&&S&&"object"==typeof S&&void 0===S.outlets){if(!cf(T,S,p))return d;s+=2}else{if(!cf(T,{},p))return d;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(i,n,r),l=r.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){const d=new Nt(i.segments.slice(0,s.pathIndex),{});return d.children[Dt]=new Nt(i.segments.slice(s.pathIndex),i.children),Zc(d,0,l)}return s.match&&0===l.length?new Nt(i.segments,{}):s.match&&!i.hasChildren()?lf(i,n,r):s.match?Zc(i,0,l):lf(i,n,r)}function Zc(i,n,r){if(0===r.length)return new Nt(i.segments,{});{const s=function(i){return ea(i[0])?i[0].outlets:{[Dt]:i}}(r),l={};return zn(s,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[p]=ul(i.children[p],n,d))}),zn(i.children,(d,p)=>{void 0===s[p]&&(l[p]=d)}),new Nt(i.segments,l)}}function lf(i,n,r){const s=i.segments.slice(0,n);let l=0;for(;l<r.length;){const d=r[l];if(ea(d)){const T=dm(d.outlets);return new Nt(s,T)}if(0===l&&ol(r[0])){s.push(new Yi(i.segments[n].path,ll(r[0]))),l++;continue}const p=ea(d)?d.outlets[Dt]:`${d}`,E=l<r.length-1?r[l+1]:null;p&&E&&ol(E)?(s.push(new Yi(p,ll(E))),l+=2):(s.push(new Yi(p,{})),l++)}return new Nt(s,{})}function dm(i){const n={};return zn(i,(r,s)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[s]=lf(new Nt([],{}),0,r))}),n}function ll(i){const n={};return zn(i,(r,s)=>n[s]=`${r}`),n}function cf(i,n,r){return i==r.path&&Xr(n,r.parameters)}class df{constructor(n,r,s,l){this.routeReuseStrategy=n,this.futureState=r,this.currState=s,this.forwardEvent=l}activate(n){const r=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,s,n),om(this.futureState.root),this.activateChildRoutes(r,s,n)}deactivateChildRoutes(n,r,s){const l=oo(r);n.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,l[p],s),delete l[p]}),zn(l,(d,p)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(n,r,s){const l=n.value,d=r?r.value:null;if(l===d)if(l.component){const p=s.getContext(l.outlet);p&&this.deactivateChildRoutes(n,r,p.children)}else this.deactivateChildRoutes(n,r,s);else d&&this.deactivateRouteAndItsChildren(r,s)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const s=r.getContext(n.value.outlet);if(s&&s.outlet){const l=s.outlet.detach(),d=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:d})}}deactivateRouteAndOutlet(n,r){const s=r.getContext(n.value.outlet),l=s&&n.value.component?s.children:r,d=oo(n);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],l);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,r,s){const l=oo(r);n.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],s),this.forwardEvent(new Lc(d.value.snapshot))}),n.children.length&&this.forwardEvent(new ef(n.value.snapshot))}activateRoutes(n,r,s){const l=n.value,d=r?r.value:null;if(om(l),l===d)if(l.component){const p=s.getOrCreateContext(l.outlet);this.activateChildRoutes(n,r,p.children)}else this.activateChildRoutes(n,r,s);else if(l.component){const p=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const E=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),p.children.onOutletReAttached(E.contexts),p.attachRef=E.componentRef,p.route=E.route.value,p.outlet&&p.outlet.attach(E.componentRef,E.route.value),en(E.route)}else{const E=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(l.snapshot),T=E?E.module.componentFactoryResolver:null;p.attachRef=null,p.route=l,p.resolver=T,p.outlet&&p.outlet.activateWith(l,T),this.activateChildRoutes(n,null,p.children)}}else this.activateChildRoutes(n,null,s)}}function en(i){om(i.value),i.children.forEach(en)}class ff{constructor(n,r){this.routes=n,this.module=r}}function yi(i){return"function"==typeof i}function Li(i){return i instanceof Wo}const Qc=Symbol("INITIAL_VALUE");function cl(){return qn(i=>function(...i){let n,r;return(0,xa.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,$o.k)(i[0])&&(i=i[0]),(0,W_.n)(i,r).lift(new Ma(n))}(i.map(n=>n.pipe(Bg(1),ka(Qc)))).pipe(Fa((n,r)=>{let s=!1;return r.reduce((l,d,p)=>l!==Qc?l:(d===Qc&&(s=!0),s||!1!==d&&p!==r.length-1&&!Li(d)?l:d),n)},Qc),Zi(n=>n!==Qc),(0,ft.U)(n=>Li(n)?n:!0===n),Bg(1)))}let ja=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,s){1&r&&g._UZ(0,"router-outlet")},directives:function(){return[Cm]},encapsulation:2}),i})();function fn(i,n=""){for(let r=0;r<i.length;r++){const s=i[r];Jc(s,fm(n,s))}}function Jc(i,n){i.children&&fn(i.children,n)}function fm(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function Xc(i){const n=i.children&&i.children.map(Xc),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==Dt&&(r.component=ja),r}function Zt(i){return i.outlet||Dt}function ta(i,n){const r=i.filter(s=>Zt(s)===n);return r.push(...i.filter(s=>Zt(s)!==n)),r}const rr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $a(i,n,r){var s;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},rr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(n.matcher||rv)(r,i,n);if(!d)return Object.assign({},rr);const p={};zn(d.posParams,(T,S)=>{p[S]=T.path});const E=d.consumed.length>0?Object.assign(Object.assign({},p),d.consumed[d.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:E,positionalParamSegments:null!==(s=d.posParams)&&void 0!==s?s:{}}}function Ha(i,n,r,s,l="corrected"){if(r.length>0&&function(i,n,r){return r.some(s=>Ga(i,n,s)&&Zt(s)!==Dt)}(i,r,s)){const p=new Nt(n,function(i,n,r,s){const l={};l[Dt]=s,s._sourceSegment=i,s._segmentIndexShift=n.length;for(const d of r)if(""===d.path&&Zt(d)!==Dt){const p=new Nt([],{});p._sourceSegment=i,p._segmentIndexShift=n.length,l[Zt(d)]=p}return l}(i,n,s,new Nt(r,i.children)));return p._sourceSegment=i,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(s=>Ga(i,n,s))}(i,r,s)){const p=new Nt(i.segments,function(i,n,r,s,l,d){const p={};for(const E of s)if(Ga(i,r,E)&&!l[Zt(E)]){const T=new Nt([],{});T._sourceSegment=i,T._segmentIndexShift="legacy"===d?i.segments.length:n.length,p[Zt(E)]=T}return Object.assign(Object.assign({},l),p)}(i,n,r,s,i.children,l));return p._sourceSegment=i,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:r}}const d=new Nt(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:r}}function Ga(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function mf(i,n,r,s){return!!(Zt(i)===s||s!==Dt&&Ga(n,r,i))&&("**"===i.path||$a(n,i,r).matched)}function td(i,n,r){return 0===n.length&&!i.children[r]}class hl{constructor(n){this.segmentGroup=n||null}}class yf{constructor(n){this.urlTree=n}}function qa(i){return new pi.y(n=>n.error(new hl(i)))}function _f(i){return new pi.y(n=>n.error(new yf(i)))}function b(i){return new pi.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class C{constructor(n,r,s,l,d){this.configLoader=r,this.urlSerializer=s,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=n.get(g.h0i)}apply(){const n=Ha(this.urlTree.root,[],[],this.config).segmentGroup,r=new Nt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,Dt).pipe((0,ft.U)(d=>this.createUrlTree(M(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(La(d=>{if(d instanceof yf)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof hl?this.noMatchError(d):d}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Dt).pipe((0,ft.U)(l=>this.createUrlTree(M(l),n.queryParams,n.fragment))).pipe(La(l=>{throw l instanceof hl?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,s){const l=n.segments.length>0?new Nt([],{[Dt]:n}):n;return new Wo(l,r,s)}expandSegmentGroup(n,r,s,l){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,r,s).pipe((0,ft.U)(d=>new Nt([],d))):this.expandSegment(n,s,r,s.segments,l,!0)}expandChildren(n,r,s){const l=[];for(const d of Object.keys(s.children))"primary"===d?l.unshift(d):l.push(d);return(0,hn.D)(l).pipe(Pi(d=>{const p=s.children[d],E=ta(r,d);return this.expandSegmentGroup(n,E,p,d).pipe((0,ft.U)(T=>({segment:T,outlet:d})))}),Fa((d,p)=>(d[p.outlet]=p.segment,d),{}),function(i,n){const r=arguments.length>=2;return s=>s.pipe(i?Zi((l,d)=>i(l,d,s)):Es.y,Gg(1),r?Qr(n):Go(()=>new Gu))}())}expandSegment(n,r,s,l,d,p){return(0,hn.D)(s).pipe(Pi(E=>this.expandSegmentAgainstRoute(n,r,s,E,l,d,p).pipe(La(S=>{if(S instanceof hl)return(0,ot.of)(null);throw S}))),ws(E=>!!E),La((E,T)=>{if(E instanceof Gu||"EmptyError"===E.name){if(td(r,l,d))return(0,ot.of)(new Nt([],{}));throw new hl(r)}throw E}))}expandSegmentAgainstRoute(n,r,s,l,d,p,E){return mf(l,r,d,p)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,r,l,d,p):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,s,l,d,p):qa(r):qa(r)}expandSegmentAgainstRouteUsingRedirect(n,r,s,l,d,p){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,l,p):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,l,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,s,l){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?_f(d):this.lineralizeSegments(s,d).pipe((0,Pn.zg)(p=>{const E=new Nt(p,{});return this.expandSegment(n,E,r,p,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,l,d,p){const{matched:E,consumedSegments:T,lastChild:S,positionalParamSegments:R}=$a(r,l,d);if(!E)return qa(r);const x=this.applyRedirectCommands(T,l.redirectTo,R);return l.redirectTo.startsWith("/")?_f(x):this.lineralizeSegments(l,x).pipe((0,Pn.zg)(B=>this.expandSegment(n,r,s,B.concat(d.slice(S)),p,!1)))}matchSegmentAgainstRoute(n,r,s,l,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,ot.of)(s._loadedConfig):this.configLoader.load(n.injector,s)).pipe((0,ft.U)(B=>(s._loadedConfig=B,new Nt(l,{})))):(0,ot.of)(new Nt(l,{}));const{matched:p,consumedSegments:E,lastChild:T}=$a(r,s,l);if(!p)return qa(r);const S=l.slice(T);return this.getChildConfig(n,s,l).pipe((0,Pn.zg)(x=>{const B=x.module,H=x.routes,{segmentGroup:X,slicedSegments:ve}=Ha(r,E,S,H),Ne=new Nt(X.segments,X.children);if(0===ve.length&&Ne.hasChildren())return this.expandChildren(B,H,Ne).pipe((0,ft.U)(Et=>new Nt(E,Et)));if(0===H.length&&0===ve.length)return(0,ot.of)(new Nt(E,{}));const et=Zt(s)===d;return this.expandSegment(B,Ne,H,ve,et?Dt:d,!0).pipe((0,ft.U)(st=>new Nt(E.concat(st.segments),st.children)))}))}getChildConfig(n,r,s){return r.children?(0,ot.of)(new ff(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,ot.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,s).pipe((0,Pn.zg)(l=>{return l?this.configLoader.load(n.injector,r).pipe((0,ft.U)(d=>(r._loadedConfig=d,d))):(i=r,new pi.y(n=>n.error(ro(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,ot.of)(new ff([],n))}runCanLoadGuards(n,r,s){const l=r.canLoad;if(!l||0===l.length)return(0,ot.of)(!0);const d=l.map(p=>{const E=n.get(p);let T;if((i=E)&&yi(i.canLoad))T=E.canLoad(r,s);else{if(!yi(E))throw new Error("Invalid CanLoad guard");T=E(r,s)}var i;return ki(T)});return(0,ot.of)(d).pipe(cl(),(0,Jr.b)(p=>{if(!Li(p))return;const E=ro(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw E.url=p,E}),(0,ft.U)(p=>!0===p))}lineralizeSegments(n,r){let s=[],l=r.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return(0,ot.of)(s);if(l.numberOfChildren>1||!l.children[Dt])return b(n.redirectTo);l=l.children[Dt]}}applyRedirectCommands(n,r,s){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,s)}applyRedirectCreatreUrlTree(n,r,s,l){const d=this.createSegmentGroup(n,r.root,s,l);return new Wo(d,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const s={};return zn(n,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const E=l.substring(1);s[d]=r[E]}else s[d]=l}),s}createSegmentGroup(n,r,s,l){const d=this.createSegments(n,r.segments,s,l);let p={};return zn(r.children,(E,T)=>{p[T]=this.createSegmentGroup(n,E,s,l)}),new Nt(d,p)}createSegments(n,r,s,l){return r.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,l):this.findOrReturn(d,s))}findPosParam(n,r,s){const l=s[r.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return l}findOrReturn(n,r){let s=0;for(const l of r){if(l.path===n.path)return r.splice(s),l;s++}return n}}function M(i){const n={};for(const s of Object.keys(i.children)){const d=M(i.children[s]);(d.segments.length>0||d.hasChildren())&&(n[s]=d)}return function(i){if(1===i.numberOfChildren&&i.children[Dt]){const n=i.children[Dt];return new Nt(i.segments.concat(n.segments),n.children)}return i}(new Nt(i.segments,n))}class ge{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Le{constructor(n,r){this.component=n,this.route=r}}function Ge(i,n,r){const s=i._root;return Jt(s,n?n._root:null,r,[s.value])}function tt(i,n,r){const s=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(s?s.module.injector:r).get(i)}function Jt(i,n,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=oo(n);return i.children.forEach(p=>{(function(i,n,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,p=n?n.value:null,E=r?r.getContext(i.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const T=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!Ko(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Ko(i.url,n.url)||!Xr(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qc(i,n)||!Xr(i.queryParams,n.queryParams);case"paramsChange":default:return!qc(i,n)}}(p,d,d.routeConfig.runGuardsAndResolvers);T?l.canActivateChecks.push(new ge(s)):(d.data=p.data,d._resolvedData=p._resolvedData),Jt(i,n,d.component?E?E.children:null:r,s,l),T&&E&&E.outlet&&E.outlet.isActivated&&l.canDeactivateChecks.push(new Le(E.outlet.component,p))}else p&&na(n,E,l),l.canActivateChecks.push(new ge(s)),Jt(i,null,d.component?E?E.children:null:r,s,l)})(p,d[p.value.outlet],r,s.concat([p.value]),l),delete d[p.value.outlet]}),zn(d,(p,E)=>na(p,r.getContext(E),l)),l}function na(i,n,r){const s=oo(i),l=i.value;zn(s,(d,p)=>{na(d,l.component?n?n.children.getContext(p):null:n,r)}),r.canDeactivateChecks.push(new Le(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class ym{}function hv(i){return new pi.y(n=>n.error(i))}class Fx{constructor(n,r,s,l,d,p){this.rootComponentType=n,this.config=r,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p}recognize(){const n=Ha(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,Dt);if(null===r)return null;const s=new Gc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Pr(s,r),d=new im(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(n){const r=n.value,s=rm(r,this.paramsInheritanceStrategy);r.params=Object.freeze(s.params),r.data=Object.freeze(s.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,s)}processChildren(n,r){const s=[];for(const d of Object.keys(r.children)){const p=r.children[d],E=ta(n,d),T=this.processSegmentGroup(E,p,d);if(null===T)return null;s.push(...T)}const l=qb(s);return l.sort((n,r)=>n.value.outlet===Dt?-1:r.value.outlet===Dt?1:n.value.outlet.localeCompare(r.value.outlet)),l}processSegment(n,r,s,l){for(const d of n){const p=this.processSegmentAgainstRoute(d,r,s,l);if(null!==p)return p}return td(r,s,l)?[]:null}processSegmentAgainstRoute(n,r,s,l){if(n.redirectTo||!mf(n,r,s,l))return null;let d,p=[],E=[];if("**"===n.path){const H=s.length>0?Va(s).parameters:{};d=new Gc(s,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mv(n),Zt(n),n.component,n,rd(r),gv(r)+s.length,_m(n))}else{const H=$a(r,n,s);if(!H.matched)return null;p=H.consumedSegments,E=s.slice(H.lastChild),d=new Gc(p,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mv(n),Zt(n),n.component,n,rd(r),gv(r)+p.length,_m(n))}const T=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:R}=Ha(r,p,E,T.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var i;if(0===R.length&&S.hasChildren()){const H=this.processChildren(T,S);return null===H?null:[new Pr(d,H)]}if(0===T.length&&0===R.length)return[new Pr(d,[])];const x=Zt(n)===l,B=this.processSegment(T,S,R,x?Dt:l);return null===B?null:[new Pr(d,B)]}}function pv(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function qb(i){const n=[],r=new Set;for(const s of i){if(!pv(s)){n.push(s);continue}const l=n.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...s.children),r.add(l)):n.push(s)}for(const s of r){const l=qb(s.children);n.push(new Pr(s.value,l))}return n.filter(s=>!r.has(s))}function rd(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function gv(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function mv(i){return i.data||{}}function _m(i){return i.resolve||{}}function vm(i){return qn(n=>{const r=i(n);return r?(0,hn.D)(r).pipe((0,ft.U)(()=>n)):(0,ot.of)(n)})}class MS extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const Ev=new g.OlP("ROUTES");class Wb{constructor(n,r,s,l){this.loader=n,this.compiler=r,this.onLoadStartListener=s,this.onLoadEndListener=l}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactory(r.loadChildren).pipe((0,ft.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);const p=d.create(n);return new ff(io(p.injector.get(Ev,void 0,g.XFs.Self|g.XFs.Optional)).map(Xc),p)}),La(d=>{throw r._loader$=void 0,d}));return r._loader$=new Pa.c(l,()=>new dr.xQ).pipe((0,qg.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,hn.D)(this.loader.load(n)):ki(n()).pipe((0,Pn.zg)(r=>r instanceof g.YKP?(0,ot.of)(r):(0,hn.D)(this.compiler.compileModuleAsync(r))))}}class PS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sd,this.attachRef=null}}class sd{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new PS,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class Kb{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function wv(i){throw i}function Zb(i,n,r){return n.parse("/")}function Em(i,n){return(0,ot.of)(null)}const FS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fr=(()=>{class i{constructor(r,s,l,d,p,E,T,S){this.rootComponentType=r,this.urlSerializer=s,this.rootContexts=l,this.location=d,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dr.xQ,this.errorHandler=wv,this.malformedUriErrorHandler=Zb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Em,afterPreactivation:Em},this.urlHandlingStrategy=new Kb,this.routeReuseStrategy=new MS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(g.h0i),this.console=p.get(g.c2e);const B=p.get(g.R0b);this.isNgZoneEnabled=B instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Wo(new Nt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wb(E,T,H=>this.triggerEvent(new Zu(H)),H=>this.triggerEvent(new nv(H))),this.routerState=nm(this.currentUrlTree,this.rootComponentType),this.transitions=new Yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const s=this.events;return r.pipe(Zi(l=>0!==l.id),(0,ft.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),qn(l=>{let d=!1,p=!1;return(0,ot.of)(l).pipe((0,Jr.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),qn(E=>{const T=this.browserUrlTree.toString(),S=!this.navigated||E.extractedUrl.toString()!==T||T!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return uo(E.source)&&(this.browserUrlTree=E.extractedUrl),(0,ot.of)(E).pipe(qn(x=>{const B=this.transitions.getValue();return s.next(new Wg(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),B!==this.transitions.getValue()?Wi.E:Promise.resolve(x)}),function(i,n,r,s){return qn(l=>function(i,n,r,s,l){return new C(i,n,r,s,l).apply()}(i,n,r,l.extractedUrl,s).pipe((0,ft.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Jr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(i,n,r,s,l){return(0,Pn.zg)(d=>function(i,n,r,s,l="emptyOnly",d="legacy"){try{const p=new Fx(i,n,r,s,l,d).recognize();return null===p?hv(new ym):(0,ot.of)(p)}catch(p){return hv(p)}}(i,n,d.urlAfterRedirects,r(d.urlAfterRedirects),s,l).pipe((0,ft.U)(p=>Object.assign(Object.assign({},d),{targetSnapshot:p}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Jr.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const B=new ev(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);s.next(B)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:H,source:X,restoredState:ve,extras:Ne}=E,et=new Wg(B,this.serializeUrl(H),X,ve);s.next(et);const it=nm(H,this.rootComponentType).snapshot;return(0,ot.of)(Object.assign(Object.assign({},E),{targetSnapshot:it,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Ne),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,this.browserUrlTree=E.urlAfterRedirects,E.resolve(null),Wi.E}),vm(E=>{const{targetSnapshot:T,id:S,extractedUrl:R,rawUrl:x,extras:{skipLocationChange:B,replaceUrl:H}}=E;return this.hooks.beforePreactivation(T,{navigationId:S,appliedUrlTree:R,rawUrlTree:x,skipLocationChange:!!B,replaceUrl:!!H})}),(0,Jr.b)(E=>{const T=new Xh(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}),(0,ft.U)(E=>Object.assign(Object.assign({},E),{guards:Ge(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function(i,n){return(0,Pn.zg)(r=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:p}}=r;return 0===p.length&&0===d.length?(0,ot.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,s){return(0,hn.D)(i).pipe((0,Pn.zg)(l=>function(i,n,r,s,l){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,ot.of)(!0);const p=d.map(E=>{const T=tt(E,n,l);let S;if(function(i){return i&&yi(i.canDeactivate)}(T))S=ki(T.canDeactivate(i,n,r,s));else{if(!yi(T))throw new Error("Invalid CanDeactivate guard");S=ki(T(i,n,r,s))}return S.pipe(ws())});return(0,ot.of)(p).pipe(cl())}(l.component,l.route,r,n,s)),ws(l=>!0!==l,!0))}(p,s,l,i).pipe((0,Pn.zg)(E=>E&&function(i){return"boolean"==typeof i}(E)?function(i,n,r,s){return(0,hn.D)(n).pipe(Pi(l=>qu(function(i,n){return null!==i&&n&&n(new qo(i)),(0,ot.of)(!0)}(l.route.parent,s),function(i,n){return null!==i&&n&&n(new no(i)),(0,ot.of)(!0)}(l.route,s),function(i,n,r){const s=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(p=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(p)).filter(p=>null!==p).map(p=>_s(()=>{const E=p.guards.map(T=>{const S=tt(T,p.node,r);let R;if(function(i){return i&&yi(i.canActivateChild)}(S))R=ki(S.canActivateChild(s,i));else{if(!yi(S))throw new Error("Invalid CanActivateChild guard");R=ki(S(s,i))}return R.pipe(ws())});return(0,ot.of)(E).pipe(cl())}));return(0,ot.of)(d).pipe(cl())}(i,l.path,r),function(i,n,r){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return(0,ot.of)(!0);const l=s.map(d=>_s(()=>{const p=tt(d,n,r);let E;if(function(i){return i&&yi(i.canActivate)}(p))E=ki(p.canActivate(n,i));else{if(!yi(p))throw new Error("Invalid CanActivate guard");E=ki(p(n,i))}return E.pipe(ws())}));return(0,ot.of)(l).pipe(cl())}(i,l.route,r))),ws(l=>!0!==l,!0))}(s,d,i,n):(0,ot.of)(E)),(0,ft.U)(E=>Object.assign(Object.assign({},r),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,Jr.b)(E=>{if(Li(E.guardsResult)){const S=ro(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw S.url=E.guardsResult,S}const T=new tv(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(T)}),Zi(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),vm(E=>{if(E.guards.canActivateChecks.length)return(0,ot.of)(E).pipe((0,Jr.b)(T=>{const S=new Wu(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(S)}),qn(T=>{let S=!1;return(0,ot.of)(T).pipe(function(i,n){return(0,Pn.zg)(r=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=r;if(!l.length)return(0,ot.of)(r);let d=0;return(0,hn.D)(l).pipe(Pi(p=>function(i,n,r,s){return function(i,n,r,s){const l=Object.keys(i);if(0===l.length)return(0,ot.of)({});const d={};return(0,hn.D)(l).pipe((0,Pn.zg)(p=>function(i,n,r,s){const l=tt(i,n,s);return ki(l.resolve?l.resolve(n,r):l(n,r))}(i[p],n,r,s).pipe((0,Jr.b)(E=>{d[p]=E}))),Gg(1),(0,Pn.zg)(()=>Object.keys(d).length===l.length?(0,ot.of)(d):Wi.E))}(i._resolve,i,n,s).pipe((0,ft.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),rm(i,r).resolve),null)))}(p.route,s,i,n)),(0,Jr.b)(()=>d++),Gg(1),(0,Pn.zg)(p=>d===l.length?(0,ot.of)(r):Wi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Jr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(T),this.cancelNavigationTransition(T,"At least one route resolver didn't emit any value."))}}))}),(0,Jr.b)(T=>{const S=new Ku(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(S)}))}),vm(E=>{const{targetSnapshot:T,id:S,extractedUrl:R,rawUrl:x,extras:{skipLocationChange:B,replaceUrl:H}}=E;return this.hooks.afterPreactivation(T,{navigationId:S,appliedUrlTree:R,rawUrlTree:x,skipLocationChange:!!B,replaceUrl:!!H})}),(0,ft.U)(E=>{const T=function(i,n,r){const s=sl(i,n._root,r?r._root:void 0);return new tm(s,n)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:T})}),(0,Jr.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((i,n,r)=>(0,ft.U)(s=>(new df(n,s.targetRouterState,s.currentRouterState,r).activate(i),s)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,Jr.b)({next(){d=!0},complete(){d=!0}}),function(i){return n=>n.lift(new br(i))}(()=>{if(!d&&!p){const E=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,E)):this.cancelNavigationTransition(l,E)}this.currentNavigation=null}),La(E=>{if(p=!0,function(i){return i&&i[Ju]}(E)){const T=Li(E.url);T||(this.navigated=!0,this.restoreHistory(l,!0));const S=new Jh(l.id,this.serializeUrl(l.extractedUrl),E.message);s.next(S),T?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),x={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uo(l.source)};this.scheduleNavigation(R,"imperative",null,x,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const T=new X_(l.id,this.serializeUrl(l.extractedUrl),E);s.next(T);try{l.resolve(this.errorHandler(E))}catch(S){l.reject(S)}}return Wi.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const s=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:l,state:d,urlTree:p}=s,E={replaceUrl:!0};if(d){const T=Object.assign({},d);delete T.navigationId,delete T.\u0275routerPageId,0!==Object.keys(T).length&&(E.state=T)}this.scheduleNavigation(p,l,d,E)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(r){var s;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(s=r.state)||void 0===s?void 0:s.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,s){if(!r)return!0;const l=s.urlTree.toString()===r.urlTree.toString();return s.transitionId!==r.transitionId||!l||!("hashchange"===s.source&&"popstate"===r.source||"popstate"===s.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){fn(r),this.config=r.map(Xc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,s={}){const{relativeTo:l,queryParams:d,fragment:p,queryParamsHandling:E,preserveFragment:T}=s,S=l||this.routerState.root,R=T?this.currentUrlTree.fragment:p;let x=null;switch(E){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=d||null}return null!==x&&(x=this.removeEmptyProps(x)),function(i,n,r,s,l){if(0===r.length)return um(n.root,n.root,n,s,l);const d=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Wc(!0,0,i);let n=0,r=!1;const s=i.reduce((l,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const E={};return zn(d.outlets,(T,S)=>{E[S]="string"==typeof T?T.split("/"):T}),[...l,{outlets:E}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===p?(d.split("/").forEach((E,T)=>{0==T&&"."===E||(0==T&&""===E?r=!0:".."===E?n++:""!=E&&l.push(E))}),l):[...l,d]},[]);return new Wc(r,n,s)}(r);if(d.toRoot())return um(n.root,new Nt([],{}),n,s,l);const p=function(i,n,r){if(i.isAbsolute)return new al(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const d=r.snapshot._urlSegment;return new al(d,d===n.root,0)}const s=ol(i.commands[0])?0:1;return function(i,n,r){let s=i,l=n,d=r;for(;d>l;){if(d-=l,s=s.parent,!s)throw new Error("Invalid number of '../'");l=s.segments.length}return new al(s,!1,l-d)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+s,i.numberOfDoubleDots)}(d,n,i),E=p.processChildren?Zc(p.segmentGroup,p.index,d.commands):ul(p.segmentGroup,p.index,d.commands);return um(p.segmentGroup,E,n,s,l)}(S,this.currentUrlTree,r,x,null!=R?R:null)}navigateByUrl(r,s={skipLocationChange:!1}){const l=Li(r)?r:this.parseUrl(r),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(r,s={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let s;try{s=this.urlSerializer.parse(r)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,r)}return s}isActive(r,s){let l;if(l=!0===s?Object.assign({},FS):!1===s?Object.assign({},LS):s,Li(r))return Xu(this.currentUrlTree,r,l);const d=this.parseUrl(r);return Xu(this.currentUrlTree,d,l)}removeEmptyProps(r){return Object.keys(r).reduce((s,l)=>{const d=r[l];return null!=d&&(s[l]=d),s},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new to(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,s,l,d,p){var E,T;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),R=uo(s)&&S&&!uo(S.source),H=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===r.toString();if(R&&H)return Promise.resolve(!0);let X,ve,Ne;p?(X=p.resolve,ve=p.reject,Ne=p.promise):Ne=new Promise((st,Et)=>{X=st,ve=Et});const et=++this.navigationId;let it;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),it=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):it=0,this.setTransition({id:et,targetPageId:it,source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:d,resolve:X,reject:ve,promise:Ne,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ne.catch(st=>Promise.reject(st))}setBrowserUrl(r,s){const l=this.urlSerializer.serialize(r),d=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(r,s=!1){var l,d;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===p?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===p&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,s){const l=new Jh(r.id,this.serializeUrl(r.extractedUrl),s);this.triggerEvent(l),r.resolve(!1)}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.DyG),g.LFG(Bc),g.LFG(sd),g.LFG(Ue),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function uo(i){return"imperative"!==i}let od=(()=>{class i{constructor(r,s,l,d,p){this.router=r,this.route=s,this.commands=[],this.onChanges=new dr.xQ,null==l&&d.setAttribute(p.nativeElement,"tabindex","0")}ngOnChanges(r){this.onChanges.next(this)}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}onClick(){const r={skipLocationChange:ad(this.skipLocationChange),replaceUrl:ad(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ad(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Fr),g.Y36(Qo),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},i.\u0275dir=g.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(r,s){1&r&&g.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),i})();function ad(i){return""===i||!!i}let Cm=(()=>{class i{constructor(r,s,l,d,p){this.parentContexts=r,this.location=s,this.resolver=l,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=d||Dt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const p=(s=s||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,T=new Qb(r,E,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,T),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(sd),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},i.\u0275dir=g.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class Qb{constructor(n,r,s){this.route=n,this.childContexts=r,this.parent=s}get(n,r){return n===Qo?this.route:n===sd?this.childContexts:this.parent.get(n,r)}}class bv{}class Iv{preload(n,r){return(0,ot.of)(null)}}let wf=(()=>{class i{constructor(r,s,l,d,p){this.router=r,this.injector=d,this.preloadingStrategy=p,this.loader=new Wb(s,l,S=>r.triggerEvent(new Zu(S)),S=>r.triggerEvent(new nv(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zi(r=>r instanceof to),Pi(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(g.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const l=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const p=d._loadedConfig;l.push(this.processRoutes(p.module,p.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(r,d)):d.children&&l.push(this.processRoutes(r,d.children));return(0,hn.D)(l).pipe((0,gi.J)(),(0,ft.U)(d=>{}))}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,ot.of)(s._loadedConfig):this.loader.load(r.injector,s)).pipe((0,Pn.zg)(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Fr),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(bv))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),ud=(()=>{class i{constructor(r,s,l={}){this.router=r,this.viewportScroller=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Wg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof to&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Vc&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.router.triggerEvent(new Vc(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Fr),g.LFG(Su),g.LFG(void 0))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const ia=new g.OlP("ROUTER_CONFIGURATION"),Tv=new g.OlP("ROUTER_FORROOT_GUARD"),bf=[Ue,{provide:Bc,useClass:tf},{provide:Fr,useFactory:function(i,n,r,s,l,d,p,E={},T,S){const R=new Fr(null,i,n,r,s,l,d,io(p));return T&&(R.urlHandlingStrategy=T),S&&(R.routeReuseStrategy=S),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(E,R),E.enableTracing&&R.events.subscribe(x=>{var B,H;null===(B=console.group)||void 0===B||B.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(H=console.groupEnd)||void 0===H||H.call(console)}),R},deps:[Bc,sd,Ue,g.zs3,g.v3s,g.Sil,Ev,ia,[class{},new g.FiY],[class{},new g.FiY]]},sd,{provide:Qo,useFactory:function(i){return i.routerState.root},deps:[Fr]},{provide:g.v3s,useClass:g.EAV},wf,Iv,class{preload(n,r){return r().pipe(La(()=>(0,ot.of)(null)))}},{provide:ia,useValue:{enableTracing:!1}}];function BS(){return new g.PXZ("Router",Fr)}let Sv=(()=>{class i{constructor(r,s){}static forRoot(r,s){return{ngModule:i,providers:[bf,Im(r),{provide:Tv,useFactory:Jb,deps:[[Fr,new g.FiY,new g.tp0]]},{provide:ia,useValue:s||{}},{provide:te,useFactory:$S,deps:[me,[new g.tBr(Ae),new g.FiY],ia]},{provide:ud,useFactory:jS,deps:[Fr,Su,ia]},{provide:bv,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Iv},{provide:g.PXZ,multi:!0,useFactory:BS},[Av,{provide:g.ip1,multi:!0,useFactory:tC,deps:[Av]},{provide:nC,useFactory:HS,deps:[Av]},{provide:g.tb,multi:!0,useExisting:nC}]]}}static forChild(r){return{ngModule:i,providers:[Im(r)]}}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(Tv,8),g.LFG(Fr,8))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();function jS(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new ud(i,n,r)}function $S(i,n,r={}){return r.useHash?new ke(i,n):new xe(i,n)}function Jb(i){return"guarded"}function Im(i){return[{provide:g.deG,multi:!0,useValue:i},{provide:Ev,multi:!0,useValue:i}]}let Av=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new dr.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const l=new Promise(E=>s=E),d=this.injector.get(Fr),p=this.injector.get(ia);return"disabled"===p.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,ot.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),l})}bootstrapListener(r){const s=this.injector.get(ia),l=this.injector.get(wf),d=this.injector.get(ud),p=this.injector.get(Fr),E=this.injector.get(g.z2F);r===E.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&p.initialNavigation(),l.setUpPreloading(),d.init(),p.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.zs3))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function tC(i){return i.appInitializer.bind(i)}function HS(i){return i.bootstrapListener.bind(i)}const nC=new g.OlP("Router Initializer");var rC=k(1555);function Tm(i,n){return new pi.y(r=>{const s=i.length;if(0===s)return void r.complete();const l=new Array(s);let d=0,p=0;for(let E=0;E<s;E++){const T=(0,hn.D)(i[E]);let S=!1;r.add(T.subscribe({next:R=>{S||(S=!0,p++),l[E]=R},error:R=>r.error(R),complete:()=>{d++,(d===s||!S)&&(p===s&&r.next(n?n.reduce((R,x,B)=>(R[x]=l[B],R),{}):l),r.complete())}}))}})}let iC=(()=>{class i{constructor(r,s){this._renderer=r,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,s){this._renderer.setProperty(this._elementRef.nativeElement,r,s)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq))},i.\u0275dir=g.lG2({type:i}),i})(),pl=(()=>{class i extends iC{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=g.n5z(i)))(s||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();const Is=new g.OlP("NgValueAccessor"),zS={provide:Is,useExisting:(0,g.Gpc)(()=>Cf),multi:!0},oC=new g.OlP("CompositionEventMode");let Cf=(()=>{class i extends iC{constructor(r,s,l){super(r,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=$()?$().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(oC,8))},i.\u0275dir=g.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&g.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[g._Bn([zS]),g.qOj]}),i})();function Ts(i){return null==i||0===i.length}function es(i){return null!=i&&"number"==typeof i.length}const Cr=new g.OlP("NgValidators"),za=new g.OlP("NgAsyncValidators"),Nv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ts{static min(n){return function(i){return n=>{if(Ts(n.value)||Ts(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r<i?{min:{min:i,actual:n.value}}:null}}(n)}static max(n){return function(i){return n=>{if(Ts(n.value)||Ts(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return function(i){return Ts(i.value)?{required:!0}:null}(n)}static requiredTrue(n){return function(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function(i){return Ts(i.value)||Nv.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function(i){return n=>Ts(n.value)||!es(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function(i){return n=>es(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static pattern(n){return function(i){if(!i)return Ds;let n,r;return"string"==typeof i?(r="","^"!==i.charAt(0)&&(r+="^"),r+=i,"$"!==i.charAt(i.length-1)&&(r+="$"),n=new RegExp(r)):(r=i.toString(),n=i),s=>{if(Ts(s.value))return null;const l=s.value;return n.test(l)?null:{pattern:{requiredPattern:r,actualValue:l}}}}(n)}static nullValidator(n){return null}static compose(n){return YS(n)}static composeAsync(n){return Mv(n)}}function Ds(i){return null}function Am(i){return null!=i}function ZS(i){const n=(0,g.QGY)(i)?(0,hn.D)(i):i;return(0,g.CqO)(n),n}function aC(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function Ov(i,n){return n.map(r=>r(i))}function uC(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function YS(i){if(!i)return null;const n=i.filter(Am);return 0==n.length?null:function(r){return aC(Ov(r,n))}}function Nm(i){return null!=i?YS(uC(i)):null}function Mv(i){if(!i)return null;const n=i.filter(Am);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,$o.k)(n))return Tm(n,null);if((0,rC.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return Tm(r.map(s=>n[s]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return Tm(i=1===i.length&&(0,$o.k)(i[0])?i[0]:i,null).pipe((0,ft.U)(r=>n(...r)))}return Tm(i,null)}(Ov(r,n).map(ZS)).pipe((0,ft.U)(aC))}}function Pv(i){return null!=i?Mv(uC(i)):null}function Rm(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function QS(i){return i._rawValidators}function JS(i){return i._rawAsyncValidators}function lC(i){return i?Array.isArray(i)?i:[i]:[]}function kv(i,n){return Array.isArray(i)?i.includes(n):i===n}function XS(i,n){const r=lC(n);return lC(i).forEach(l=>{kv(r,l)||r.push(l)}),r}function eA(i,n){return lC(n).filter(r=>!kv(i,r))}let tA=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Nm(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Pv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,s){return!!this.control&&this.control.hasError(r,s)}getError(r,s){return this.control?this.control.getError(r,s):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i}),i})(),_i=(()=>{class i extends tA{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=g.n5z(i)))(s||i)}}(),i.\u0275dir=g.lG2({type:i,features:[g.qOj]}),i})();class gl extends tA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nA{constructor(n){this._cd=n}is(n){var r,s,l;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(l=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===l?void 0:l[n])}}let xm=(()=>{class i extends nA{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(gl,2))},i.\u0275dir=g.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&g.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[g.qOj]}),i})(),cC=(()=>{class i extends nA{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(_i,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&g.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[g.qOj]}),i})();function Df(i,n){Ka(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Lv(i,n)})}(i,n),function(i,n){const r=(s,l)=>{n.valueAccessor.writeValue(s),l&&n.viewToModelUpdate(s)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Lv(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=s=>{n.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function Wa(i,n,r=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),Za(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function sa(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function Ka(i,n){const r=QS(i);null!==n.validator?i.setValidators(Rm(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const s=JS(i);null!==n.asyncValidator?i.setAsyncValidators(Rm(s,n.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const l=()=>i.updateValueAndValidity();sa(n._rawValidators,l),sa(n._rawAsyncValidators,l)}function Za(i,n){let r=!1;if(null!==i){if(null!==n.validator){const l=QS(i);if(Array.isArray(l)&&l.length>0){const d=l.filter(p=>p!==n.validator);d.length!==l.length&&(r=!0,i.setValidators(d))}}if(null!==n.asyncValidator){const l=JS(i);if(Array.isArray(l)&&l.length>0){const d=l.filter(p=>p!==n.asyncValidator);d.length!==l.length&&(r=!0,i.setAsyncValidators(d))}}}const s=()=>{};return sa(n._rawValidators,s),sa(n._rawAsyncValidators,s),r}function Lv(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Sf(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const dd="VALID",Lm="INVALID",hd="PENDING",Ir="DISABLED";function Bv(i){return(yC(i)?i.validators:i)||null}function lA(i){return Array.isArray(i)?Nm(i):i||null}function mC(i,n){return(yC(n)?n.asyncValidators:i)||null}function jv(i){return Array.isArray(i)?Pv(i):i||null}function yC(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class $v{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=lA(this._rawValidators),this._composedAsyncValidatorFn=jv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===dd}get invalid(){return this.status===Lm}get pending(){return this.status==hd}get disabled(){return this.status===Ir}get enabled(){return this.status!==Ir}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=lA(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=jv(n)}addValidators(n){this.setValidators(XS(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(XS(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(eA(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(eA(n,this._rawAsyncValidators))}hasValidator(n){return kv(this._rawValidators,n)}hasAsyncValidator(n){return kv(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=hd,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Ir,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=dd,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dd||this.status===hd)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ir:dd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=hd,this._hasOwnPendingAsyncValidator=!0;const r=ZS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let s=i;return n.forEach(l=>{s=s instanceof fd?s.controls.hasOwnProperty(l)?s.controls[l]:null:s instanceof Hv&&s.at(l)||null}),s}(this,n)}getError(n,r){const s=r?this.get(r):this;return s&&s.errors?s.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Ir:this.errors?Lm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hd)?hd:this._anyControlsHaveStatus(Lm)?Lm:dd}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){yC(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ya extends $v{constructor(n=null,r,s){super(Bv(r),mC(s,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Sf(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Sf(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class fd extends $v{constructor(n,r,s){super(Bv(r),mC(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,s={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,s)=>(n[s]=r instanceof Ya?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,s)=>!!s._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const s=this.controls[r];s&&n(s,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const s=this.controls[r];if(this.contains(r)&&n(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(n,r){let s=n;return this._forEachChild((l,d)=>{s=r(s,l,d)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class Hv extends $v{constructor(n,r,s){super(Bv(r),mC(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,s={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((s,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((s,l)=>{this.at(l)&&this.at(l).patchValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof Ya?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,s)=>!!s._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,s)=>{n(r,s)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let Wv=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=g.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})();const gA={provide:Is,useExisting:(0,g.Gpc)(()=>Kv),multi:!0};let Kv=(()=>{class i extends pl{writeValue(r){this.setProperty("value",null==r?"":r)}registerOnChange(r){this.onChange=s=>{r(""==s?null:parseFloat(s))}}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=g.n5z(i)))(s||i)}}(),i.\u0275dir=g.lG2({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){1&r&&g.NdJ("input",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},features:[g._Bn([gA]),g.qOj]}),i})(),EC=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();const Nf=new g.OlP("NgModelWithFormControlWarning"),_A={provide:_i,useExisting:(0,g.Gpc)(()=>Vm)};let Vm=(()=>{class i extends _i{constructor(r,s){super(),this.validators=r,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(r),this._setAsyncValidators(s)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Za(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const s=this.form.get(r.path);return Df(s,r),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),s}getControl(r){return this.form.get(r.path)}removeControl(r){Wa(r.control||null,r,!1),Sf(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,s){this.form.get(r.path).setValue(s)}onSubmit(r){return this.submitted=!0,function(i,n){i._syncPendingControls(),n.forEach(r=>{const s=r.control;"submit"===s.updateOn&&s._pendingChange&&(r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const s=r.control,l=this.form.get(r.path);s!==l&&(Wa(s||null,r),l instanceof Ya&&(Df(l,r),r.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const s=this.form.get(r.path);(function(i,n){Ka(i,n)})(s,r),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const s=this.form.get(r.path);s&&function(i,n){return Za(i,n)}(s,r)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ka(this.form,this),this._oldForm&&Za(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(Cr,10),g.Y36(za,10))},i.\u0275dir=g.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,s){1&r&&g.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([_A]),g.qOj,g.TTD]}),i})();const CC={provide:gl,useExisting:(0,g.Gpc)(()=>Bm)};let Bm=(()=>{class i extends gl{constructor(r,s,l,d,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=function(i,n){if(!n)return null;let r,s,l;return Array.isArray(n),n.forEach(d=>{d.constructor===Cf?r=d:function(i){return Object.getPrototypeOf(i.constructor)===pl}(d)?s=d:l=d}),l||s||r||null}(0,d)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),function(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function(i,n){return[...n.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(_i,13),g.Y36(Cr,10),g.Y36(za,10),g.Y36(Is,10),g.Y36(Nf,8))},i.\u0275dir=g.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([CC]),g.qOj,g.TTD]}),i._ngModelWarningSentOnce=!1,i})(),pn=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[EC]]}),i})(),RA=(()=>{class i{static withConfig(r){return{ngModule:i,providers:[{provide:Nf,useValue:r.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[pn]}),i})(),rE=(()=>{class i{group(r,s=null){const l=this._reduceControls(r);let E,d=null,p=null;return null!=s&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(s)?(d=null!=s.validators?s.validators:null,p=null!=s.asyncValidators?s.asyncValidators:null,E=null!=s.updateOn?s.updateOn:void 0):(d=null!=s.validator?s.validator:null,p=null!=s.asyncValidator?s.asyncValidator:null)),new fd(l,{asyncValidators:p,updateOn:E,validators:d})}control(r,s,l){return new Ya(r,s,l)}array(r,s,l){const d=r.map(p=>this._createControl(p));return new Hv(d,s,l)}_reduceControls(r){const s={};return Object.keys(r).forEach(l=>{s[l]=this._createControl(r[l])}),s}_createControl(r){return r instanceof Ya||r instanceof fd||r instanceof Hv?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,g.Yz7)({factory:function(){return new i},token:i,providedIn:RA}),i})();var Yx=k(3637),Tr=k(9126);function iE(){return i=>i.lift(new OC)}class OC{call(n,r){return r.subscribe(new MC(n))}}class MC extends Mr.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class kC{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new xA(n,this.compare,this.keySelector))}}class xA extends Mr.L{constructor(n,r,s){super(n),this.keySelector=s,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:l}=this;r=l?l(n):n}catch(l){return this.destination.error(l)}let s=!1;if(this.hasKey)try{const{compare:l}=this;s=l(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;s||(this.key=r,this.destination.next(n))}}var aa=k(8939),sE=(k(6780),k(4486)),be=k(8239),Wm=k(5452),oE=k(6034),Qa=k(300),Bt=k(4685),aE=function(i,n){return(aE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])})(i,n)};function FC(i){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&i[n],s=0;if(r)return r.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var He,LC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Km=Km||{},vt=LC||self;function Zm(){}function VC(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function Ym(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var lE="closure_uid_"+(1e9*Math.random()>>>0),UC=0;function BC(i,n,r){return i.call.apply(i.bind,arguments)}function Qx(i,n,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(n,l)}}return function(){return i.apply(n,arguments)}}function tn(i,n,r){return(tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BC:Qx).apply(null,arguments)}function cE(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Lr(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(s,l,d){for(var p=Array(arguments.length-2),E=2;E<arguments.length;E++)p[E-2]=arguments[E];return n.prototype[l].apply(s,p)}}function bl(){this.s=this.s,this.o=this.o}var $C={};bl.prototype.s=!1,bl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,lE)&&i[lE]||(i[lE]=++UC)}(this);delete $C[i]}},bl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var dE=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(var r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},HC=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){for(var s=i.length,l="string"==typeof i?i.split(""):i,d=0;d<s;d++)d in l&&n.call(r,l[d],d,i)};function hE(i){return Array.prototype.concat.apply([],arguments)}function Rf(i){var n=i.length;if(0<n){for(var r=Array(n),s=0;s<n;s++)r[s]=i[s];return r}return[]}function Qm(i){return/^[\s\xa0]*$/.test(i)}var ri,Jm=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ni(i,n){return-1!=i.indexOf(n)}function fE(i,n){return i<n?-1:i>n?1:0}e:{var GC=vt.navigator;if(GC){var qC=GC.userAgent;if(qC){ri=qC;break e}}ri=""}function pE(i,n,r){for(var s in i)n.call(r,i[s],s,i)}function xf(i){var n={};for(var r in i)n[r]=i[r];return n}var Cl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gE(i,n){for(var r,s,l=1;l<arguments.length;l++){for(r in s=arguments[l])i[r]=s[r];for(var d=0;d<Cl.length;d++)r=Cl[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function Vi(i){return Vi[" "](i),i}Vi[" "]=Zm;var Il,i,MA=ni(ri,"Opera"),gd=ni(ri,"Trident")||ni(ri,"MSIE"),Xm=ni(ri,"Edge"),ns=Xm||gd,md=ni(ri,"Gecko")&&!(ni(ri.toLowerCase(),"webkit")&&!ni(ri,"Edge"))&&!(ni(ri,"Trident")||ni(ri,"MSIE"))&&!ni(ri,"Edge"),Vr=ni(ri.toLowerCase(),"webkit")&&!ni(ri,"Edge");function Ja(){var i=vt.document;return i?i.documentMode:void 0}e:{var vi="",Mf=(i=ri,md?/rv:([^\);]+)(\)|;)/.exec(i):Xm?/Edge\/([\d\.]+)/.exec(i):gd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Vr?/WebKit\/(\S+)/.exec(i):MA?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Mf&&(vi=Mf?Mf[1]:""),gd){var Xa=Ja();if(null!=Xa&&Xa>parseFloat(vi)){Il=String(Xa);break e}}Il=vi}var yd={};function _d(){return n=yd,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){for(var i=0,n=Jm(String(Il)).split("."),r=Jm("9").split("."),s=Math.max(n.length,r.length),l=0;0==i&&l<s;l++){var d=n[l]||"",p=r[l]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==d[0].length&&0==p[0].length)break;i=fE(0==d[1].length?0:parseInt(d[1],10),0==p[1].length?0:parseInt(p[1],10))||fE(0==d[2].length,0==p[2].length)||fE(d[2],p[2]),d=d[3],p=p[3]}while(0==i)}return 0<=i}();var n}var vd=vt.document&&gd&&(Ja()||parseInt(Il,10))||void 0,Ed=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{vt.addEventListener("test",Zm,n),vt.removeEventListener("test",Zm,n)}catch(r){}return i}();function Un(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function ho(i,n){if(Un.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(md){e:{try{Vi(n.nodeName);var l=!0;break e}catch(d){}l=!1}l||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:zC[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ho.Z.h.call(this)}}Un.prototype.h=function(){this.defaultPrevented=!0},Lr(ho,Un);var zC={2:"touch",3:"pen",4:"mouse"};ho.prototype.h=function(){ho.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var wd="closure_listenable_"+(1e6*Math.random()|0),WC=0;function KC(i,n,r,s,l){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!s,this.ia=l,this.key=++WC,this.ca=this.fa=!1}function Pf(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function kf(i){this.src=i,this.g={},this.h=0}function ey(i,n){var r=n.type;if(r in i.g){var d,s=i.g[r],l=dE(s,n);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(Pf(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function ty(i,n,r,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ca&&d.listener==n&&d.capture==!!r&&d.ia==s)return l}return-1}kf.prototype.add=function(i,n,r,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var p=ty(i,n,s,l);return-1<p?(n=i[p],r||(n.fa=!1)):((n=new KC(n,this.src,d,!!s,l)).fa=r,i.push(n)),n};var ny="closure_lm_"+(1e6*Math.random()|0),mE={};function yE(i,n,r,s,l){if(s&&s.once)return _E(i,n,r,s,l);if(Array.isArray(n)){for(var d=0;d<n.length;d++)yE(i,n[d],r,s,l);return null}return r=EE(r),i&&i[wd]?i.N(n,r,Ym(s)?!!s.capture:!!s,l):ZC(i,n,r,!1,s,l)}function ZC(i,n,r,s,l,d){if(!n)throw Error("Invalid event type");var p=Ym(l)?!!l.capture:!!l,E=vE(i);if(E||(i[ny]=E=new kf(i)),(r=E.add(n,r,s,p,d)).proxy)return r;if(s=function(){var n=XC;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)Ed||(l=p),void 0===l&&(l=!1),i.addEventListener(n.toString(),s,l);else if(i.attachEvent)i.attachEvent(JC(n.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function _E(i,n,r,s,l){if(Array.isArray(n)){for(var d=0;d<n.length;d++)_E(i,n[d],r,s,l);return null}return r=EE(r),i&&i[wd]?i.O(n,r,Ym(s)?!!s.capture:!!s,l):ZC(i,n,r,!0,s,l)}function YC(i,n,r,s,l){if(Array.isArray(n))for(var d=0;d<n.length;d++)YC(i,n[d],r,s,l);else s=Ym(s)?!!s.capture:!!s,r=EE(r),i&&i[wd]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=ty(d=i.g[n],r,s,l))&&(Pf(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[n],i.h--))):i&&(i=vE(i))&&(n=i.g[n.toString()],i=-1,n&&(i=ty(n,r,s,l)),(r=-1<i?n[i]:null)&&QC(r))}function QC(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[wd])ey(n.i,i);else{var r=i.type,s=i.proxy;n.removeEventListener?n.removeEventListener(r,s,i.capture):n.detachEvent?n.detachEvent(JC(r),s):n.addListener&&n.removeListener&&n.removeListener(s),(r=vE(n))?(ey(r,i),0==r.h&&(r.src=null,n[ny]=null)):Pf(i)}}}function JC(i){return i in mE?mE[i]:mE[i]="on"+i}function XC(i,n){if(i.ca)i=!0;else{n=new ho(n,this);var r=i.listener,s=i.ia||i.src;i.fa&&QC(i),i=r.call(s,n)}return i}function vE(i){return(i=i[ny])instanceof kf?i:null}var ry="__closure_events_fn_"+(1e9*Math.random()>>>0);function EE(i){return"function"==typeof i?i:(i[ry]||(i[ry]=function(n){return i.handleEvent(n)}),i[ry])}function fr(){bl.call(this),this.i=new kf(this),this.P=this,this.I=null}function Ur(i,n){var r,s=i.I;if(s)for(r=[];s;s=s.I)r.push(s);if(i=i.P,s=n.type||n,"string"==typeof n)n=new Un(n,i);else if(n instanceof Un)n.target=n.target||i;else{var l=n;gE(n=new Un(s,i),l)}if(l=!0,r)for(var d=r.length-1;0<=d;d--){var p=n.g=r[d];l=iy(p,s,!0,n)&&l}if(l=iy(p=n.g=i,s,!0,n)&&l,l=iy(p,s,!1,n)&&l,r)for(d=0;d<r.length;d++)l=iy(p=n.g=r[d],s,!1,n)&&l}function iy(i,n,r,s){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var l=!0,d=0;d<n.length;++d){var p=n[d];if(p&&!p.ca&&p.capture==r){var E=p.listener,T=p.ia||p.src;p.fa&&ey(i.i,p),l=!1!==E.call(T,s)&&l}}return l&&!s.defaultPrevented}Lr(fr,bl),fr.prototype[wd]=!0,fr.prototype.removeEventListener=function(i,n,r,s){YC(this,i,n,r,s)},fr.prototype.M=function(){if(fr.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],s=0;s<r.length;s++)Pf(r[s]);delete i.g[n],i.h--}}this.I=null},fr.prototype.N=function(i,n,r,s){return this.i.add(String(i),n,!1,r,s)},fr.prototype.O=function(i,n,r,s){return this.i.add(String(i),n,!0,r,s)};var sy=vt.JSON.stringify;function Xx(){var i=eI,n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var bE,eO=function(){function i(){this.h=this.g=null}return i.prototype.add=function(n,r){var s=kA.get();s.set(n,r),this.h?this.h.next=s:this.g=s,this.h=s},i}(),kA=new(function(){function i(n,r){this.i=n,this.j=r,this.h=0,this.g=null}return i.prototype.get=function(){var n;return 0<this.h?(this.h--,this.g=(n=this.g).next,n.next=null):n=this.i(),n},i}())(function(){return new FA},function(i){return i.reset()}),FA=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(n,r){this.h=n,this.g=r,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function tO(i){vt.setTimeout(function(){throw i},0)}function wE(i,n){bE||function(){var i=vt.Promise.resolve(void 0);bE=function(){i.then(nO)}}(),Ff||(bE(),Ff=!0),eI.add(i,n)}var Ff=!1,eI=new eO;function nO(){for(var i;i=Xx();){try{i.h.call(i.g)}catch(r){tO(r)}var n=kA;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}Ff=!1}function IE(i,n){fr.call(this),this.h=i||1,this.g=n||vt,this.j=tn(this.kb,this),this.l=Date.now()}function tI(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function TE(i,n,r){if("function"==typeof i)r&&(i=tn(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=tn(i.handleEvent,i)}return 2147483647<Number(n)?-1:vt.setTimeout(i,n||0)}function DE(i){i.g=TE(function(){i.g=null,i.i&&(i.i=!1,DE(i))},i.j);var n=i.h;i.h=null,i.m.apply(null,n)}Lr(IE,fr),(He=IE.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ur(this,"tick"),this.da&&(tI(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){IE.Z.M.call(this),tI(this),delete this.g};var rO=function(i){function n(r,s){var l=i.call(this)||this;return l.m=r,l.j=s,l.h=null,l.i=!1,l.g=null,l}return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}aE(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,i),n.prototype.l=function(r){this.h=arguments,this.g?this.i=!0:DE(this)},n.prototype.M=function(){i.prototype.M.call(this),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},n}(bl);function Lf(i){bl.call(this),this.h=i,this.g={}}Lr(Lf,bl);var Dl=[];function nI(i,n,r,s){Array.isArray(r)||(r&&(Dl[0]=r.toString()),r=Dl);for(var l=0;l<r.length;l++){var d=yE(n,r[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function SE(i){pE(i.g,function(n,r){this.g.hasOwnProperty(r)&&QC(n)},i),i.g={}}function oy(){this.g=!0}function bd(i,n,r,s){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<l.length;p++)l[p]=""}}}return sy(r)}catch(E){return n}}(i,r)+(s?" "+s:"")})}Lf.prototype.M=function(){Lf.Z.M.call(this),SE(this)},Lf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oy.prototype.Aa=function(){this.g=!1},oy.prototype.info=function(){};var Sl={},sI=null;function uy(){return sI=sI||new fr}function oI(i){Un.call(this,Sl.Ma,i)}function Cd(i){var n=uy();Ur(n,new oI(n,i))}function aI(i,n){Un.call(this,Sl.STAT_EVENT,i),this.stat=n}function Br(i){var n=uy();Ur(n,new aI(n,i))}function AE(i,n){Un.call(this,Sl.Na,i),this.size=n}function Al(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){i()},n)}Sl.Ma="serverreachability",Lr(oI,Un),Sl.STAT_EVENT="statevent",Lr(aI,Un),Sl.Na="timingevent",Lr(AE,Un);var NE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ly={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function RE(){}function Id(){}RE.prototype.h=null;var xE,Vf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Uf(){Un.call(this,"d")}function Bf(){Un.call(this,"c")}function Td(){}function Nl(i,n,r,s){this.l=i,this.j=n,this.m=r,this.X=s||1,this.V=new Lf(this),this.P=iO,this.W=new IE(i=ns?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new OE}function OE(){this.i=null,this.g="",this.h=!1}Lr(Uf,Un),Lr(Bf,Un),Lr(Td,RE),Td.prototype.g=function(){return new XMLHttpRequest},Td.prototype.i=function(){return{}},xE=new Td;var iO=45e3,ME={},Dd={};function jf(i,n,r){i.K=1,i.v=Wf(fo(n)),i.s=r,i.U=!0,uI(i,null)}function uI(i,n){i.F=Date.now(),Rl(i),i.A=fo(i.v);var r=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),hI(r.h,"t",s),i.C=0,r=i.l.H,i.h=new OE,i.g=tw(i.l,r?n:null,!i.s),0<i.O&&(i.L=new rO(tn(i.Ia,i,i.g),i.O)),nI(i.V,i.g,"readystatechange",i.gb),n=i.H?xf(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),Cd(1),function(i,n,r,s,l,d){i.info(function(){if(i.g)if(d)for(var p="",E=d.split("&"),T=0;T<E.length;T++){var S=E[T].split("=");if(1<S.length){var R=S[0];S=S[1];var x=R.split("_");p=2<=x.length&&"type"==x[1]?p+(R+"=")+S+"&":p+(R+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+n+"\n"+r+"\n"+p})}(i.j,i.u,i.A,i.m,i.X,i.s)}function PE(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function cy(i,n,r){for(var l,s=!0;!i.I&&i.C<r.length;){if((l=lI(i,r))==Dd){4==n&&(i.o=4,Br(14),s=!1),bd(i.j,i.m,null,"[Incomplete Response]");break}if(l==ME){i.o=4,Br(15),bd(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}bd(i.j,i.m,l,null),hy(i,l)}PE(i)&&l!=Dd&&l!=ME&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Br(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),XE(n),n.L=!0,Br(11))):(bd(i.j,i.m,r,"[Invalid Chunked Response]"),tu(i),Hf(i))}function lI(i,n){var r=i.C,s=n.indexOf("\n",r);return-1==s?Dd:(r=Number(n.substring(r,s)),isNaN(r)?ME:(s+=1)+r>n.length?Dd:(n=n.substr(s,r),i.C=s+r,n))}function Rl(i){i.Y=Date.now()+i.P,dy(i,i.P)}function dy(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Al(tn(i.eb,i),n)}function $f(i){i.B&&(vt.clearTimeout(i.B),i.B=null)}function Hf(i){0==i.l.G||i.I||TI(i.l,i)}function tu(i){$f(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,tI(i.W),SE(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function hy(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||rs(r.i,i)))if(r.I=i.N,!i.J&&rs(r.i,i)&&3==r.G){try{var s=r.Ca.g.parse(n)}catch(Ne){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=Al(tn(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Iy(r),by(r)}JE(r),Br(18)}if(1>=gy(r.i)&&r.ka){try{r.ka()}catch(Ne){}r.ka=void 0}}else Ml(r,11)}else if((i.J||r.g==i)&&Iy(r),!Qm(n))for(l=r.Ca.g.parse(n),n=0;n<l.length;n++){var d=l[n];if(r.U=d[0],d=d[1],2==r.G)if("c"==d[0]){r.J=d[1],r.la=d[2];var p=d[3];null!=p&&(r.ma=p,r.h.info("VER="+r.ma));var E=d[4];null!=E&&(r.za=E,r.h.info("SVER="+r.za));var T=d[5];null!=T&&"number"==typeof T&&0<T&&(r.K=s=1.5*T,r.h.info("backChannelRequestTimeoutMs_="+s)),s=r;var S=i.g;if(S){var R=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var x=s.i;!x.g&&(ni(R,"spdy")||ni(R,"quic")||ni(R,"h2"))&&(x.j=x.l,x.g=new Set,x.h&&($E(x,x.h),x.h=null))}if(s.D){var B=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;B&&(s.sa=B,gn(s.F,s.D,B))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var H=i;if((s=r).oa=ew(s,s.H?s.la:null,s.W),H.J){HE(s.i,H);var X=H,ve=s.K;ve&&X.setTimeout(ve),X.B&&($f(X),Rl(X)),s.g=H}else CI(s);0<r.l.length&&Cy(r)}else"stop"!=d[0]&&"close"!=d[0]||Ml(r,7);else 3==r.G&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Ml(r,7):YE(r):"noop"!=d[0]&&r.j&&r.j.wa(d),r.A=0)}Cd(4)}catch(Ne){}}function fy(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(VC(i)||"string"==typeof i)HC(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(VC(i)||"string"==typeof i){r=[];for(var s=i.length,l=0;l<s;l++)r.push(l)}else for(l in r=[],s=0,i)r[s++]=l;l=(s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(VC(i)){for(var n=[],r=i.length,s=0;s<r;s++)n.push(i[s]);return n}for(s in n=[],r=0,i)n[r++]=i[s];return n}(i)).length;for(var d=0;d<l;d++)n.call(void 0,s[d],r&&r[d],i)}}function Sd(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var s=0;s<r;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof Sd)for(r=i.T(),s=0;s<r.length;s++)this.set(r[s],i.get(r[s]));else for(s in i)this.set(s,i[s])}function FE(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var s=i.g[n];xl(i.h,s)&&(i.g[r++]=s),n++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=n=0;n<i.g.length;)xl(l,s=i.g[n])||(i.g[r++]=s,l[s]=1),n++;i.g.length=r}}function xl(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(He=Nl.prototype).setTimeout=function(i){this.P=i},He.gb=function(i){i=i.target;var n=this.L;n&&3==po(i)?n.l():this.Ia(i)},He.Ia=function(i){try{if(i==this.g)e:{var n=po(this.g),r=this.g.Da(),s=this.g.ba();if(!(3>n)&&(3!=n||ns||this.g&&(this.h.h||this.g.ga()||KE(this.g)))){this.I||4!=n||7==r||Cd(8==r||0>=s?3:2),$f(this);var l=this.g.ba();this.N=l;t:if(PE(this)){var d=KE(this.g);i="";var p=d.length,E=4==po(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){tu(this),Hf(this);var T="";break t}this.h.i=new vt.TextDecoder}for(r=0;r<p;r++)this.h.h=!0,i+=this.h.i.decode(d[r],{stream:E&&r==p-1});d.splice(0,p),this.h.g+=i,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==l,function(i,n,r,s,l,d,p){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+n+"\n"+r+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.X,n,l),this.i){if(this.$&&!this.J){t:{if(this.g){var S,R=this.g;if((S=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qm(S)){var x=S;break t}}x=null}if(!(l=x)){this.i=!1,this.o=3,Br(12),tu(this),Hf(this);break e}bd(this.j,this.m,l,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hy(this,l)}this.U?(cy(this,n,T),ns&&this.i&&3==n&&(nI(this.V,this.W,"tick",this.fb),this.W.start())):(bd(this.j,this.m,T,null),hy(this,T)),4==n&&tu(this),this.i&&!this.I&&(4==n?TI(this.l,this):(this.i=!1,Rl(this)))}else 400==l&&0<T.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),tu(this),Hf(this)}}}catch(B){}},He.fb=function(){if(this.g){var i=po(this.g),n=this.g.ga();this.C<n.length&&($f(this),cy(this,i,n),this.i&&4!=i&&Rl(this))}},He.cancel=function(){this.I=!0,tu(this)},He.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Cd(3),Br(17)),tu(this),this.o=2,Hf(this)):dy(this,this.Y-i)},(He=Sd.prototype).R=function(){FE(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},He.T=function(){return FE(this),this.g.concat()},He.get=function(i,n){return xl(this.h,i)?this.h[i]:n},He.set=function(i,n){xl(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},He.forEach=function(i,n){for(var r=this.T(),s=0;s<r.length;s++){var l=r[s],d=this.get(l);i.call(n,d,l,this)}};var LE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nu(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof nu){this.g=void 0!==n?n:i.g,Gf(this,i.j),this.s=i.s,qf(this,i.i),zf(this,i.m),this.l=i.l,n=i.h;var r=new Zf;r.i=n.i,n.g&&(r.g=new Sd(n.g),r.h=n.h),UE(this,r),this.o=i.o}else i&&(r=String(i).match(LE))?(this.g=!!n,Gf(this,r[1]||"",!0),this.s=Kf(r[2]||""),qf(this,r[3]||"",!0),zf(this,r[4]),this.l=Kf(r[5]||"",!0),UE(this,r[6]||"",!0),this.o=Kf(r[7]||"")):(this.g=!!n,this.h=new Zf(null,this.g))}function fo(i){return new nu(i)}function Gf(i,n,r){i.j=r?Kf(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function qf(i,n,r){i.i=r?Kf(n,!0):n}function zf(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function UE(i,n,r){n instanceof Zf?(i.h=n,function(i,n){n&&!i.j&&(ua(i),i.i=null,i.g.forEach(function(r,s){var l=s.toLowerCase();s!=l&&(BE(this,s),hI(this,l,r))},i)),i.j=n}(i.h,i.g)):(r||(n=Ad(n,$A)),i.h=new Zf(n,i.g))}function gn(i,n,r){i.h.set(n,r)}function Wf(i){return gn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Kf(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ad(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,BA),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function BA(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}nu.prototype.toString=function(){var i=[],n=this.j;n&&i.push(Ad(n,Wn,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(Ad(n,Wn,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Ad(r,"/"==r.charAt(0)?jA:cI,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Ad(r,dI)),i.join("")};var Wn=/[#\/\?@]/g,cI=/[#\?:]/g,jA=/[#\?]/g,$A=/[#\?@]/g,dI=/#/g;function Zf(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function ua(i){i.g||(i.g=new Sd,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),l=null;if(0<=s){var d=i[r].substring(0,s);l=i[r].substring(s+1)}else d=i[r];n(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function BE(i,n){ua(i),n=Nd(i,n),xl(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,xl((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&FE(i)))}function Ol(i,n){return ua(i),n=Nd(i,n),xl(i.g.h,n)}function hI(i,n,r){BE(i,n),0<r.length&&(i.i=null,i.g.set(Nd(i,n),Rf(r)),i.h+=r.length)}function Nd(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}(He=Zf.prototype).add=function(i,n){ua(this),this.i=null,i=Nd(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},He.forEach=function(i,n){ua(this),this.g.forEach(function(r,s){HC(r,function(l){i.call(n,l,s,this)},this)},this)},He.T=function(){ua(this);for(var i=this.g.R(),n=this.g.T(),r=[],s=0;s<n.length;s++)for(var l=i[s],d=0;d<l.length;d++)r.push(n[s]);return r},He.R=function(i){ua(this);var n=[];if("string"==typeof i)Ol(this,i)&&(n=hE(n,this.g.get(Nd(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=hE(n,i[r])}return n},He.set=function(i,n){return ua(this),this.i=null,Ol(this,i=Nd(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},He.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var s=n[r],l=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var p=l;""!==s[d]&&(p+="="+encodeURIComponent(String(s[d]))),i.push(p)}}return this.i=i.join("&")};var HA=function(n,r){this.h=n,this.g=r};function jE(i){this.l=i||oO,i=vt.PerformanceNavigationTiming?0<(i=vt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(vt.g&&vt.g.Ea&&vt.g.Ea()&&vt.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oO=10;function py(i){return!!i.h||!!i.g&&i.g.size>=i.j}function gy(i){return i.h?1:i.g?i.g.size:0}function rs(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function $E(i,n){i.g?i.g.add(n):i.h=n}function HE(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function As(i){var n,r;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var s=i.i;try{for(var l=FC(i.g.values()),d=l.next();!d.done;d=l.next())s=s.concat(d.value.D)}catch(E){n={error:E}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return s}return Rf(i.i)}function Ui(){}function Ns(){this.g=new Ui}function pI(i,n,r){var s=r||"";try{fy(i,function(l,d){var p=l;Ym(l)&&(p=sy(l)),n.push(s+d+"="+encodeURIComponent(p))})}catch(l){throw n.push(s+"type="+encodeURIComponent("_badmap")),l}}function my(i,n,r,s,l){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,l(s)}catch(d){}}function Yf(i){this.l=i.$b||null,this.j=i.ib||!1}function yy(i,n){fr.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=GE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jE.prototype.cancel=function(){var i,n;if(this.i=As(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var r=FC(this.g.values()),s=r.next();!s.done;s=r.next())s.value.cancel()}catch(d){i={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}this.g.clear()}},Ui.prototype.stringify=function(i){return vt.JSON.stringify(i,void 0)},Ui.prototype.parse=function(i){return vt.JSON.parse(i,void 0)},Lr(Yf,RE),Yf.prototype.g=function(){return new yy(this.l,this.j)},Yf.prototype.i=function(i){return function(){return i}}({}),Lr(yy,fr);var GE=0;function _y(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function la(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Qf(i)}function Qf(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(He=yy.prototype).open=function(i,n){if(this.readyState!=GE)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,Qf(this)},He.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||vt).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,la(this)),this.readyState=GE},He.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vt.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_y(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?la(this):Qf(this),3==this.readyState&&_y(this)}},He.Ua=function(i){this.g&&(this.response=this.responseText=i,la(this))},He.Ta=function(i){this.g&&(this.response=i,la(this))},He.ha=function(){this.g&&la(this)},He.setRequestHeader=function(i,n){this.v.append(i,n)},He.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],n=this.h.entries(),r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(yy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var mI=vt.JSON.parse;function Kn(i){fr.call(this),this.headers=new Sd,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qE,this.K=this.L=!1}Lr(Kn,fr);var qE="",yI=/^https?$/i,vy=["POST","PUT"];function _I(i){return"content-type"==i.toLowerCase()}function zE(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,Ey(i),Xf(i)}function Ey(i){i.D||(i.D=!0,Ur(i,"complete"),Ur(i,"error"))}function Jf(i){if(i.h&&void 0!==Km&&(!i.C[1]||4!=po(i)||2!=i.ba()))if(i.v&&4==po(i))TE(i.Fa,0,i);else if(Ur(i,"readystatechange"),4==po(i)){i.h=!1;try{var s,n=i.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(s=r)){var l;if(l=0===n){var d=String(i.H).match(LE)[1]||null;if(!d&&vt.self&&vt.self.location){var p=vt.self.location.protocol;d=p.substr(0,p.length-1)}l=!yI.test(d?d.toLowerCase():"")}s=l}if(s)Ur(i,"complete"),Ur(i,"success");else{i.m=6;try{var E=2<po(i)?i.g.statusText:""}catch(T){E=""}i.j=E+" ["+i.ba()+"]",Ey(i)}}finally{Xf(i)}}}function Xf(i,n){if(i.g){WE(i);var r=i.g,s=i.C[0]?Zm:null;i.g=null,i.C=null,n||Ur(i,"ready");try{r.onreadystatechange=s}catch(l){}}}function WE(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(vt.clearTimeout(i.A),i.A=null)}function po(i){return i.g?i.g.readyState:0}function KE(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case qE:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function wy(i,n,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=function(i){var n="";return pE(i,function(r,s){n+=s,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):gn(i,n,r))}function Rd(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function ZE(i){this.za=0,this.l=[],this.h=new oy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rd("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rd("baseRetryDelayMs",5e3,i),this.$a=Rd("retryDelaySeedMs",1e4,i),this.Ya=Rd("forwardChannelMaxRetries",2,i),this.ra=Rd("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new jE(i&&i.concurrentRequestLimit),this.Ca=new Ns,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function YE(i){if(EI(i),3==i.G){var n=i.V++,r=fo(i.F);gn(r,"SID",i.J),gn(r,"RID",n),gn(r,"TYPE","terminate"),ep(i,r),(n=new Nl(i,i.h,n,void 0)).K=2,n.v=Wf(fo(r)),r=!1,vt.navigator&&vt.navigator.sendBeacon&&(r=vt.navigator.sendBeacon(n.v.toString(),"")),!r&&vt.Image&&((new Image).src=n.v,r=!0),r||(n.g=tw(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Rl(n)}SI(i)}function by(i){i.g&&(XE(i),i.g.cancel(),i.g=null)}function EI(i){by(i),i.u&&(vt.clearTimeout(i.u),i.u=null),Iy(i),i.i.cancel(),i.m&&("number"==typeof i.m&&vt.clearTimeout(i.m),i.m=null)}function QE(i,n){i.l.push(new HA(i.Za++,n)),3==i.G&&Cy(i)}function Cy(i){py(i.i)||i.m||(i.m=!0,wE(i.Ha,i),i.C=0)}function wI(i,n){var r;r=n?n.m:i.V++;var s=fo(i.F);gn(s,"SID",i.J),gn(s,"RID",r),gn(s,"AID",i.U),ep(i,s),i.o&&i.s&&wy(s,i.o,i.s),r=new Nl(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=bI(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),$E(i.i,r),jf(r,s,n)}function ep(i,n){i.j&&fy({},function(r,s){gn(n,s,r)})}function bI(i,n,r){r=Math.min(i.l.length,r);var s=i.j?tn(i.j.Oa,i.j,i):null;e:for(var l=i.l,d=-1;;){var p=["count="+r];-1==d?0<r?p.push("ofs="+(d=l[0].h)):d=0:p.push("ofs="+d);for(var E=!0,T=0;T<r;T++){var S=l[T].h,R=l[T].g;if(0>(S-=d))d=Math.max(0,l[T].h-100),E=!1;else try{pI(R,p,"req"+S+"_")}catch(x){s&&s(R)}}if(E){s=p.join("&");break e}}return i=i.l.splice(0,r),n.D=i,s}function CI(i){i.g||i.u||(i.Y=1,wE(i.Ga,i),i.A=0)}function JE(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Al(tn(i.Ga,i),DI(i,i.A)),i.A++,0))}function XE(i){null!=i.B&&(vt.clearTimeout(i.B),i.B=null)}function II(i){i.g=new Nl(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=fo(i.oa);gn(n,"RID","rpc"),gn(n,"SID",i.J),gn(n,"CI",i.N?"0":"1"),gn(n,"AID",i.U),ep(i,n),gn(n,"TYPE","xmlhttp"),i.o&&i.s&&wy(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=Wf(fo(n)),r.s=null,r.U=!0,uI(r,i)}function Iy(i){null!=i.v&&(vt.clearTimeout(i.v),i.v=null)}function TI(i,n){var r=null;if(i.g==n){Iy(i),XE(i),i.g=null;var s=2}else{if(!rs(i.i,n))return;r=n.D,HE(i.i,n),s=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==s){r=n.s?n.s.length:0,n=Date.now()-n.F;var l=i.C;Ur(s=uy(),new AE(s,r,n,l)),Cy(i)}else CI(i);else if(3==(l=n.o)||0==l&&0<i.I||!(1==s&&function(i,n){return!(gy(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Al(tn(i.Ha,i,n),DI(i,i.C)),i.C++,0)))}(i,n)||2==s&&JE(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),l){case 1:Ml(i,5);break;case 4:Ml(i,10);break;case 3:Ml(i,6);break;default:Ml(i,2)}}function DI(i,n){var r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function Ml(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var s=tn(i.jb,i);r||(r=new nu("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||Gf(r,"https"),Wf(r)),function(i,n){var r=new oy;if(vt.Image){var s=new Image;s.onload=cE(my,r,s,"TestLoadImage: loaded",!0,n),s.onerror=cE(my,r,s,"TestLoadImage: error",!1,n),s.onabort=cE(my,r,s,"TestLoadImage: abort",!1,n),s.ontimeout=cE(my,r,s,"TestLoadImage: timeout",!1,n),vt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else n(!1)}(r.toString(),s)}else Br(2);i.G=0,i.j&&i.j.va(n),SI(i),EI(i)}function SI(i){i.G=0,i.I=-1,i.j&&((0!=As(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Rf(i.l),i.l.length=0),i.j.ua())}function ew(i,n,r){var s=function(i){return i instanceof nu?fo(i):new nu(i,void 0)}(r);if(""!=s.i)n&&qf(s,n+"."+s.i),zf(s,s.m);else{var l=vt.location;s=function(i,n,r,s){var l=new nu(null,void 0);return i&&Gf(l,i),n&&qf(l,n),r&&zf(l,r),s&&(l.l=s),l}(l.protocol,n?n+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&pE(i.aa,function(d,p){gn(s,p,d)}),r=i.sa,(n=i.D)&&r&&gn(s,n,r),gn(s,"VER",i.ma),ep(i,s),s}function tw(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Kn(r&&i.Ba&&!i.qa?new Yf({ib:!0}):i.qa)).L=i.H,n}function nw(){}function tp(){if(gd&&!(10<=Number(vd)))throw Error("Environmental error: no available transport.")}function Ei(i,n){fr.call(this),this.g=new ZE(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!Qm(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Qm(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new Pl(this)}function rw(i){Uf.call(this);var n=i.__sm__;if(n){e:{for(var r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function iw(){Bf.call(this),this.status=1}function Pl(i){this.g=i}(He=Kn.prototype).ea=function(i,n,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xE.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:xE),this.g.onreadystatechange=tn(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(d){return void zE(this,d)}i=r||"";var l=new Sd(this.headers);s&&fy(s,function(d,p){l.set(p,d)}),s=function(i){e:{for(var n=_I,r=i.length,s="string"==typeof i?i.split(""):i,l=0;l<r;l++)if(l in s&&n.call(void 0,s[l],l,i)){n=l;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(l.T()),r=vt.FormData&&i instanceof vt.FormData,!(0<=dE(vy,n))||s||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(d,p){this.g.setRequestHeader(p,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{WE(this),0<this.B&&((this.K=function(i){return gd&&_d()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.pa,this)):this.A=TE(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){zE(this,d)}},He.pa=function(){void 0!==Km&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ur(this,"timeout"),this.abort(8))},He.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ur(this,"complete"),Ur(this,"abort"),Xf(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xf(this,!0)),Kn.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?Jf(this):this.cb())},He.cb=function(){Jf(this)},He.ba=function(){try{return 2<po(this)?this.g.status:-1}catch(i){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},He.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),mI(n)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=ZE.prototype).ma=8,He.G=1,He.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},He.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var n=new Nl(this,this.h,i,void 0),r=this.s;if(this.P&&(r?gE(r=xf(r),this.P):r=this.P),null===this.o&&(n.H=r),this.ja)e:{for(var s=0,l=0;l<this.l.length;l++){var d=this.l[l];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(s+=d)){s=l;break e}if(4096===s||l===this.l.length-1){s=l+1;break e}}s=1e3}else s=1e3;s=bI(this,n,s),gn(l=fo(this.F),"RID",i),gn(l,"CVER",22),this.D&&gn(l,"X-HTTP-Session-Id",this.D),ep(this,l),this.o&&r&&wy(l,this.o,r),$E(this.i,n),this.Ra&&gn(l,"TYPE","init"),this.ja?(gn(l,"$req",s),gn(l,"SID","null"),n.$=!0,jf(n,l,null)):jf(n,l,s),this.G=2}}else 3==this.G&&(i?wI(this,i):0==this.l.length||py(this.i)||wI(this))},He.Ga=function(){if(this.u=null,II(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Al(tn(this.bb,this),i)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Br(10),by(this),II(this))},He.ab=function(){null!=this.v&&(this.v=null,by(this),JE(this),Br(19))},He.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Br(2)):(this.h.info("Failed to ping google.com"),Br(1))},(He=nw.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},tp.prototype.g=function(i,n){return new Ei(i,n)},Lr(Ei,fr),Ei.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),wE(tn(i.hb,i,n))),Br(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=ew(i,null,i.W),Cy(i)},Ei.prototype.close=function(){YE(this.g)},Ei.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,QE(this.g,n)}else this.v?((n={}).__data__=sy(i),QE(this.g,n)):QE(this.g,i)},Ei.prototype.M=function(){this.g.j=null,delete this.j,YE(this.g),delete this.g,Ei.Z.M.call(this)},Lr(rw,Uf),Lr(iw,Bf),Lr(Pl,nw),Pl.prototype.xa=function(){Ur(this.g,"a")},Pl.prototype.wa=function(i){Ur(this.g,new rw(i))},Pl.prototype.va=function(i){Ur(this.g,new iw(i))},Pl.prototype.ua=function(){Ur(this.g,"b")},tp.prototype.createWebChannel=tp.prototype.g,Ei.prototype.send=Ei.prototype.u,Ei.prototype.open=Ei.prototype.m,Ei.prototype.close=Ei.prototype.close,NE.NO_ERROR=0,NE.TIMEOUT=8,NE.HTTP_ERROR=6,ly.COMPLETE="complete",Id.EventType=Vf,Vf.OPEN="a",Vf.CLOSE="b",Vf.ERROR="c",Vf.MESSAGE="d",fr.prototype.listen=fr.prototype.N,Kn.prototype.listenOnce=Kn.prototype.O,Kn.prototype.getLastError=Kn.prototype.La,Kn.prototype.getLastErrorCode=Kn.prototype.Da,Kn.prototype.getStatus=Kn.prototype.ba,Kn.prototype.getResponseJson=Kn.prototype.Qa,Kn.prototype.getResponseText=Kn.prototype.ga,Kn.prototype.send=Kn.prototype.ea;var xd=NE,ru=ly,AI=Sl,ow_PROXY=10,ow_NOPROXY=11,kl=Yf,Dy=Id,Sy=Kn;class pr{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let np="9.0.2";const Je=new Qa.Yd("@firebase/firestore");function aw(){return Je.logLevel}function Fe(i,...n){if(Je.logLevel<=Qa.in.DEBUG){const r=n.map(Od);Je.debug(`Firestore (${np}): ${i}`,...r)}}function Nn(i,...n){if(Je.logLevel<=Qa.in.ERROR){const r=n.map(Od);Je.error(`Firestore (${np}): ${i}`,...r)}}function rp(i,...n){if(Je.logLevel<=Qa.in.WARN){const r=n.map(Od);Je.warn(`Firestore (${np}): ${i}`,...r)}}function Od(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function qe(i="Unexpected state"){const n=`FIRESTORE (${np}) INTERNAL ASSERTION FAILED: `+i;throw Nn(n),new Error(n)}function $e(i,n){i||qe()}function Be(i,n){return i}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class uw{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class NI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(pr.UNAUTHENTICATED))}shutdown(){}}class RI{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class KA{constructor(n){this.t=n,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var s=this;let l=this.i;const d=S=>this.i!==l?(l=this.i,r(S)):Promise.resolve();let p=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new ir,n.enqueueRetryable(()=>d(this.currentUser))};const E=()=>{const S=p;n.enqueueRetryable((0,be.Z)(function*(){yield S.promise,yield d(s.currentUser)}))},T=S=>{Fe("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(S=>T(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?T(S):(Fe("FirebaseCredentialsProvider","Auth not yet detected"),p.resolve(),p=new ir)}},0),E()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==n?(Fe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e("string"==typeof s.accessToken),new uw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return $e(null===n||"string"==typeof n),new pr(n)}}class ZA{constructor(n,r,s){this.h=n,this.l=r,this.m=s,this.type="FirstParty",this.user=pr.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class YA{constructor(n,r,s){this.h=n,this.l=r,this.m=s}getToken(){return Promise.resolve(new ZA(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dr{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.g(s),this.p=s=>r.writeSequenceNumber(s))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function QA(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}Dr.T=-1;class xI{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let s="";for(;s.length<20;){const l=QA(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<r&&(s+=n.charAt(l[d]%n.length))}return s}}function Ot(i,n){return i<n?-1:i>n?1:0}function ca(i,n,r){return i.length===n.length&&i.every((s,l)=>r(s,n[l]))}function lw(i){return i+"\0"}class sr{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return sr.fromMillis(Date.now())}static fromDate(n){return sr.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*r));return new sr(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Ot(this.nanoseconds,n.nanoseconds):Ot(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new bt(n)}static min(){return new bt(new sr(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function OI(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function Rs(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function Md(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class ip{constructor(n,r,s){void 0===r?r=0:r>n.length&&qe(),void 0===s?s=n.length-r:s>n.length-r&&qe(),this.segments=n,this.offset=r,this.len=s}get length(){return this.len}isEqual(n){return 0===ip.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof ip?n.forEach(s=>{r.push(s)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,s=this.limit();r<s;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const s=Math.min(n.length,r.length);for(let l=0;l<s;l++){const d=n.get(l),p=r.get(l);if(d<p)return-1;if(d>p)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class jt extends ip{construct(n,r,s){return new jt(n,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const s of n){if(s.indexOf("//")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new jt(r)}static emptyPath(){return new jt([])}}const JA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends ip{construct(n,r,s){return new gr(n,r,s)}static isValidIdentifier(n){return JA.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(n){const r=[];let s="",l=0;const d=()=>{if(0===s.length)throw new Re(he.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;l<n.length;){const E=n[l];if("\\"===E){if(l+1===n.length)throw new Re(he.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const T=n[l+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new Re(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=T,l+=2}else"`"===E?(p=!p,l++):"."!==E||p?(s+=E,l++):(d(),l++)}if(d(),p)throw new Re(he.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new gr(r)}static emptyPath(){return new gr([])}}class Fl{constructor(n){this.fields=n,n.sort(gr.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return ca(this.fields,n.fields,(r,s)=>r.isEqual(s))}}class mr{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new mr(r)}static fromUint8Array(n){const r=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(n);return new mr(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Ot(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const PI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function iu(i){if($e(!!i),"string"==typeof i){let n=0;const r=PI.exec(i);if($e(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),n=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:Zn(i.seconds),nanos:Zn(i.nanos)}}function Zn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function sp(i){return"string"==typeof i?mr.fromBase64String(i):mr.fromUint8Array(i)}function kI(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function XA(i){const n=i.mapValue.fields.__previous_value__;return kI(n)?XA(n):n}function Ay(i){const n=iu(i.mapValue.fields.__local_write_time__.timestampValue);return new sr(n.seconds,n.nanos)}function su(i){return null==i}function Ll(i){return 0===i&&1/i==-1/0}function FI(i){return"number"==typeof i&&Number.isInteger(i)&&!Ll(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Qe{constructor(n){this.path=n}static fromPath(n){return new Qe(jt.fromString(n))}static fromName(n){return new Qe(jt.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===jt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return jt.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Qe(new jt(n.slice()))}}function ou(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kI(i)?4:10:qe()}function wi(i,n){const r=ou(i);if(r!==ou(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return Ay(i).isEqual(Ay(n));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=iu(s.timestampValue),p=iu(l.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return l=n,sp(i.bytesValue).isEqual(sp(l.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(s,l){return Zn(s.geoPointValue.latitude)===Zn(l.geoPointValue.latitude)&&Zn(s.geoPointValue.longitude)===Zn(l.geoPointValue.longitude)}(i,n);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Zn(s.integerValue)===Zn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=Zn(s.doubleValue),p=Zn(l.doubleValue);return d===p?Ll(d)===Ll(p):isNaN(d)&&isNaN(p)}return!1}(i,n);case 9:return ca(i.arrayValue.values||[],n.arrayValue.values||[],wi);case 10:return function(s,l){const d=s.mapValue.fields||{},p=l.mapValue.fields||{};if(OI(d)!==OI(p))return!1;for(const E in d)if(d.hasOwnProperty(E)&&(void 0===p[E]||!wi(d[E],p[E])))return!1;return!0}(i,n);default:return qe()}var l}function op(i,n){return void 0!==(i.values||[]).find(r=>wi(r,n))}function Pd(i,n){const r=ou(i),s=ou(n);if(r!==s)return Ot(r,s);switch(r){case 0:return 0;case 1:return Ot(i.booleanValue,n.booleanValue);case 2:return function(l,d){const p=Zn(l.integerValue||l.doubleValue),E=Zn(d.integerValue||d.doubleValue);return p<E?-1:p>E?1:p===E?0:isNaN(p)?isNaN(E)?0:-1:1}(i,n);case 3:return LI(i.timestampValue,n.timestampValue);case 4:return LI(Ay(i),Ay(n));case 5:return Ot(i.stringValue,n.stringValue);case 6:return function(l,d){const p=sp(l),E=sp(d);return p.compareTo(E)}(i.bytesValue,n.bytesValue);case 7:return function(l,d){const p=l.split("/"),E=d.split("/");for(let T=0;T<p.length&&T<E.length;T++){const S=Ot(p[T],E[T]);if(0!==S)return S}return Ot(p.length,E.length)}(i.referenceValue,n.referenceValue);case 8:return function(l,d){const p=Ot(Zn(l.latitude),Zn(d.latitude));return 0!==p?p:Ot(Zn(l.longitude),Zn(d.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(l,d){const p=l.values||[],E=d.values||[];for(let T=0;T<p.length&&T<E.length;++T){const S=Pd(p[T],E[T]);if(S)return S}return Ot(p.length,E.length)}(i.arrayValue,n.arrayValue);case 10:return function(l,d){const p=l.fields||{},E=Object.keys(p),T=d.fields||{},S=Object.keys(T);E.sort(),S.sort();for(let R=0;R<E.length&&R<S.length;++R){const x=Ot(E[R],S[R]);if(0!==x)return x;const B=Pd(p[E[R]],T[S[R]]);if(0!==B)return B}return Ot(E.length,S.length)}(i.mapValue,n.mapValue);default:throw qe()}}function LI(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return Ot(i,n);const r=iu(i),s=iu(n),l=Ot(r.seconds,s.seconds);return 0!==l?l:Ot(r.nanos,s.nanos)}function cw(i){return dw(i)}function dw(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=iu(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?sp(i.bytesValue).toBase64():"referenceValue"in i?Qe.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(s){let l="[",d=!0;for(const p of s.values||[])d?d=!1:l+=",",l+=dw(p);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let d="{",p=!0;for(const E of l)p?p=!1:d+=",",d+=`${E}:${dw(s.fields[E])}`;return d+"}"}(i.mapValue):qe();var n}function ap(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function hw(i){return!!i&&"integerValue"in i}function fw(i){return!!i&&"arrayValue"in i}function Vl(i){return!!i&&"nullValue"in i}function VI(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function up(i){return!!i&&"mapValue"in i}function lp(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return Rs(i.mapValue.fields,(r,s)=>n.mapValue.fields[r]=lp(s)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=lp(i.arrayValue.values[r]);return n}return Object.assign({},i)}class Sr{constructor(n){this.value=n}static empty(){return new Sr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let s=0;s<n.length-1;++s)if(r=(r.mapValue.fields||{})[n.get(s)],!up(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=lp(r)}setAll(n){let r=gr.emptyPath(),s={},l=[];n.forEach((p,E)=>{if(!r.isImmediateParentOf(E)){const T=this.getFieldsMap(r);this.applyChanges(T,s,l),s={},l=[],r=E.popLast()}p?s[E.lastSegment()]=lp(p):l.push(E.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,l)}delete(n){const r=this.field(n.popLast());up(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return wi(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<n.length;++s){let l=r.mapValue.fields[n.get(s)];up(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[n.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(n,r,s){Rs(r,(l,d)=>n[l]=d);for(const l of s)delete n[l]}clone(){return new Sr(lp(this.value))}}function UI(i){const n=[];return Rs(i.fields,(r,s)=>{const l=new gr([r]);if(up(s)){const d=UI(s.mapValue).fields;if(0===d.length)n.push(l);else for(const p of d)n.push(l.child(p))}else n.push(l)}),new Fl(n)}class mn{constructor(n,r,s,l,d){this.key=n,this.documentType=r,this.version=s,this.data=l,this.documentState=d}static newInvalidDocument(n){return new mn(n,0,bt.min(),Sr.empty(),0)}static newFoundDocument(n,r,s){return new mn(n,1,r,s,0)}static newNoDocument(n,r){return new mn(n,2,r,Sr.empty(),0)}static newUnknownDocument(n,r){return new mn(n,3,r,Sr.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof mn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new mn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eN{constructor(n,r=null,s=[],l=[],d=null,p=null,E=null){this.path=n,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=p,this.endAt=E,this.A=null}}function Ny(i,n=null,r=[],s=[],l=null,d=null,p=null){return new eN(i,n,r,s,l,d,p)}function cp(i){const n=Be(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(s=>function(i){return i.field.canonicalString()+i.op.toString()+cw(i.value)}(s)).join(","),r+="|ob:",r+=n.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),su(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=xy(n.startAt)),n.endAt&&(r+="|ub:",r+=xy(n.endAt)),n.A=r}return n.A}function dp(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!HI(i.orderBy[l],n.orderBy[l]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(s=n.filters[l]).op||!r.field.isEqual(s.field)||!wi(r.value,s.value))return!1;var r,s;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!GI(i.startAt,n.startAt)&&GI(i.endAt,n.endAt)}function Ry(i){return Qe.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ii extends class{}{constructor(n,r,s){super(),this.field=n,this.op=r,this.value=s}static create(n,r,s){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,s):new pw(n,r,s):"array-contains"===r?new rN(n,s):"in"===r?new iN(n,s):"not-in"===r?new sN(n,s):"array-contains-any"===r?new oN(n,s):new ii(n,r,s)}static R(n,r,s){return"in"===r?new nN(n,s):new jI(n,s)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(Pd(r,this.value)):null!==r&&ou(this.value)===ou(r)&&this.P(Pd(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return qe()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pw extends ii{constructor(n,r,s){super(n,r,s),this.key=Qe.fromName(s.referenceValue)}matches(n){const r=Qe.comparator(n.key,this.key);return this.P(r)}}class nN extends ii{constructor(n,r){super(n,"in",r),this.keys=$I(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class jI extends ii{constructor(n,r){super(n,"not-in",r),this.keys=$I(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function $I(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Qe.fromName(s.referenceValue))}class rN extends ii{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return fw(r)&&op(r.arrayValue,this.value)}}class iN extends ii{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&op(this.value.arrayValue,r)}}class sN extends ii{constructor(n,r){super(n,"not-in",r)}matches(n){if(op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!op(this.value.arrayValue,r)}}class oN extends ii{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!fw(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>op(this.value.arrayValue,s))}}class hp{constructor(n,r){this.position=n,this.before=r}}function xy(i){return`${i.before?"b":"a"}:${i.position.map(n=>cw(n)).join(",")}`}class kd{constructor(n,r="asc"){this.field=n,this.dir=r}}function HI(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function gw(i,n,r){let s=0;for(let l=0;l<i.position.length;l++){const d=n[l],p=i.position[l];if(s=d.field.isKeyField()?Qe.comparator(Qe.fromName(p.referenceValue),r.key):Pd(p,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return i.before?s<=0:s<0}function GI(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!wi(i.position[r],n.position[r]))return!1;return!0}class da{constructor(n,r=null,s=[],l=[],d=null,p="F",E=null,T=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=p,this.startAt=E,this.endAt=T,this.V=null,this.S=null}}function mw(i,n,r,s,l,d,p,E){return new da(i,n,r,s,l,d,p,E)}function Fd(i){return new da(i)}function Oy(i){return!su(i.limit)&&"F"===i.limitType}function My(i){return!su(i.limit)&&"L"===i.limitType}function fp(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function pp(i){for(const n of i.filters)if(n.v())return n.field;return null}function Py(i){return null!==i.collectionGroup}function au(i){const n=Be(i);if(null===n.V){n.V=[];const r=pp(n),s=fp(n);if(null!==r&&null===s)r.isKeyField()||n.V.push(new kd(r)),n.V.push(new kd(gr.keyField(),"asc"));else{let l=!1;for(const d of n.explicitOrderBy)n.V.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new kd(gr.keyField(),d))}}}return n.V}function is(i){const n=Be(i);if(!n.S)if("F"===n.limitType)n.S=Ny(n.path,n.collectionGroup,au(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const d of au(n))r.push(new kd(d.field,"desc"===d.dir?"asc":"desc"));const s=n.endAt?new hp(n.endAt.position,!n.endAt.before):null,l=n.startAt?new hp(n.startAt.position,!n.startAt.before):null;n.S=Ny(n.path,n.collectionGroup,r,n.filters,n.limit,s,l)}return n.S}function qI(i,n,r){return new da(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function Ul(i,n){return dp(is(i),is(n))&&i.limitType===n.limitType}function zI(i){return`${cp(is(i))}|lt:${i.limitType}`}function ky(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(s=r).field.canonicalString()} ${s.op} ${cw(s.value)}`;var s}).join(", ")}]`),su(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(n+=", startAt: "+xy(i.startAt)),i.endAt&&(n+=", endAt: "+xy(i.endAt)),`Target(${n})`}(is(i))}; limitType=${i.limitType})`}function gp(i,n){return n.isFoundDocument()&&function(r,s){const l=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Qe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,n)&&function(r,s){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,n)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(i,n)&&(s=n,!((r=i).startAt&&!gw(r.startAt,au(r),s)||r.endAt&&gw(r.endAt,au(r),s)));var r,s}function yw(i){return(n,r)=>{let s=!1;for(const l of au(i)){const d=WI(l,n,r);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function WI(i,n,r){const s=i.field.isKeyField()?Qe.comparator(n.key,r.key):function(l,d,p){const E=d.data.field(l),T=p.data.field(l);return null!==E&&null!==T?Pd(E,T):qe()}(i.field,n,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return qe()}}function _w(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ll(n)?"-0":n}}function aN(i){return{integerValue:""+i}}function KI(i,n){return FI(n)?aN(n):_w(i,n)}class ha{constructor(){this._=void 0}}function uO(i,n,r){return i instanceof Ld?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(r,n):i instanceof ss?ZI(i,n):i instanceof Vd?YI(i,n):function(s,l){const d=mp(s,l),p=Ew(d)+Ew(s.C);return hw(d)&&hw(s.C)?aN(p):_w(s.N,p)}(i,n)}function vw(i,n,r){return i instanceof ss?ZI(i,n):i instanceof Vd?YI(i,n):r}function mp(i,n){return i instanceof si?hw(r=n)||(s=r)&&"doubleValue"in s?n:{integerValue:0}:null;var s,r}class Ld extends ha{}class ss extends ha{constructor(n){super(),this.elements=n}}function ZI(i,n){const r=uN(n);for(const s of i.elements)r.some(l=>wi(l,s))||r.push(s);return{arrayValue:{values:r}}}class Vd extends ha{constructor(n){super(),this.elements=n}}function YI(i,n){let r=uN(n);for(const s of i.elements)r=r.filter(l=>!wi(l,s));return{arrayValue:{values:r}}}class si extends ha{constructor(n,r){super(),this.N=n,this.C=r}}function Ew(i){return Zn(i.integerValue||i.doubleValue)}function uN(i){return fw(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class uu{constructor(n,r){this.field=n,this.transform=r}}class cN{constructor(n,r){this.version=n,this.transformResults=r}}class or{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new or}static exists(n){return new or(void 0,n)}static updateTime(n){return new or(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Fy(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class Ly{}function dN(i,n,r){i instanceof _p?function(s,l,d){const p=s.value.clone(),E=XI(s.fieldTransforms,l,d.transformResults);p.setAll(E),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(i,n,r):i instanceof Bl?function(s,l,d){if(!Fy(s.precondition,l))return void l.convertToUnknownDocument(d.version);const p=XI(s.fieldTransforms,l,d.transformResults),E=l.data;E.setAll(JI(s)),E.setAll(p),l.convertToFoundDocument(d.version,E).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function yp(i,n,r){var l;i instanceof _p?function(s,l,d){if(!Fy(s.precondition,l))return;const p=s.value.clone(),E=eT(s.fieldTransforms,d,l);p.setAll(E),l.convertToFoundDocument(ww(l),p).setHasLocalMutations()}(i,n,r):i instanceof Bl?function(s,l,d){if(!Fy(s.precondition,l))return;const p=eT(s.fieldTransforms,d,l),E=l.data;E.setAll(JI(s)),E.setAll(p),l.convertToFoundDocument(ww(l),E).setHasLocalMutations()}(i,n,r):Fy(i.precondition,l=n)&&l.convertToNoDocument(bt.min())}function QI(i,n){let r=null;for(const s of i.fieldTransforms){const l=n.data.field(s.field),d=mp(s.transform,l||null);null!=d&&(null==r&&(r=Sr.empty()),r.set(s.field,d))}return r||null}function Vy(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(s=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===s||r&&s&&ca(r,s,(l,d)=>function(i,n){return i.field.isEqual(n.field)&&(s=n.transform,(r=i.transform)instanceof ss&&s instanceof ss||r instanceof Vd&&s instanceof Vd?ca(r.elements,s.elements,wi):r instanceof si&&s instanceof si?wi(r.C,s.C):r instanceof Ld&&s instanceof Ld);var r,s}(l,d))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,s}function ww(i){return i.isFoundDocument()?i.version:bt.min()}class _p extends Ly{constructor(n,r,s,l=[]){super(),this.key=n,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}}class Bl extends Ly{constructor(n,r,s,l,d=[]){super(),this.key=n,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}}function JI(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);n.set(r,s)}}),n}function XI(i,n,r){const s=new Map;$e(i.length===r.length);for(let l=0;l<r.length;l++){const d=i[l],p=d.transform,E=n.data.field(d.field);s.set(d.field,vw(p,E,r[l]))}return s}function eT(i,n,r){const s=new Map;for(const l of i){const d=l.transform,p=r.data.field(l.field);s.set(l.field,uO(d,p,n))}return s}class Ud extends Ly{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class Uy extends Ly{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class tT{constructor(n){this.count=n}}var Yn,Mt;function bw(i){switch(i){case he.OK:return qe();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return qe()}}function vp(i){if(void 0===i)return Nn("GRPC error has no .code"),he.UNKNOWN;switch(i){case Yn.OK:return he.OK;case Yn.CANCELLED:return he.CANCELLED;case Yn.UNKNOWN:return he.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return he.INTERNAL;case Yn.UNAVAILABLE:return he.UNAVAILABLE;case Yn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Yn.NOT_FOUND:return he.NOT_FOUND;case Yn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Yn.ABORTED:return he.ABORTED;case Yn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Yn.DATA_LOSS:return he.DATA_LOSS;default:return qe()}}(Mt=Yn||(Yn={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";class ar{constructor(n,r){this.comparator=n,this.root=r||Qn.EMPTY}insert(n,r){return new ar(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(n){return new ar(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(n,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(n){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(n,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,s)=>(n(r,s),!1))}toString(){const n=[];return this.inorderTraversal((r,s)=>(n.push(`${r}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Ep(this.root,n,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Ep(this.root,n,this.comparator,!0)}}class Ep{constructor(n,r,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!n.isEmpty();)if(d=r?s(n.key,r):1,l&&(d*=-1),d<0)n=this.isReverse?n.left:n.right;else{if(0===d){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Qn{constructor(n,r,s,l,d){this.key=n,this.value=r,this.color=null!=s?s:Qn.RED,this.left=null!=l?l:Qn.EMPTY,this.right=null!=d?d:Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,s,l,d){return new Qn(null!=n?n:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,s){let l=this;const d=s(n,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(n,r,s),null):0===d?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(n,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let s,l=this;if(r(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(n,l.key)){if(l.right.isEmpty())return Qn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const n=this.left.check();if(n!==this.right.check())throw qe();return n+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1,Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(i,n,r,s,l){return this}insert(i,n,r){return new Qn(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yn{constructor(n){this.comparator=n,this.data=new ar(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,s)=>(n(r),!1))}forEachInRange(n,r){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,n[1])>=0)return;r(l.key)}}forEachWhile(n,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new Bd(this.data.getIterator())}getIteratorFrom(n){return new Bd(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(s=>{r=r.add(s)}),r}isEqual(n){if(!(n instanceof yn)||this.size!==n.size)return!1;const r=this.data.getIterator(),s=n.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new yn(this.comparator);return r.data=n,r}}class Bd{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const hN=new ar(Qe.comparator);function os(){return hN}const lO=new ar(Qe.comparator);function Cw(){return lO}const fN=new ar(Qe.comparator);function nT(){return fN}const pN=new yn(Qe.comparator);function Yt(...i){let n=pN;for(const r of i)n=n.add(r);return n}const gN=new yn(Ot);function By(){return gN}class wp{constructor(n,r,s,l,d){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(n,r){const s=new Map;return s.set(n,bp.createSynthesizedTargetChangeForCurrentChange(n,r)),new wp(bt.min(),s,By(),os(),Yt())}}class bp{constructor(n,r,s,l,d){this.resumeToken=n,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(n,r){return new bp(mr.EMPTY_BYTE_STRING,r,Yt(),Yt(),Yt())}}class Iw{constructor(n,r,s,l){this.k=n,this.removedTargetIds=r,this.key=s,this.$=l}}class rT{constructor(n,r){this.targetId=n,this.O=r}}class jd{constructor(n,r,s=mr.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=r,this.resumeToken=s,this.cause=l}}class iT{constructor(){this.F=0,this.M=Cp(),this.L=mr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=Yt(),r=Yt(),s=Yt();return this.M.forEach((l,d)=>{switch(d){case 0:n=n.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:qe()}}),new bp(this.L,this.B,n,r,s)}G(){this.U=!1,this.M=Cp()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class mN{constructor(n){this.tt=n,this.et=new Map,this.nt=os(),this.st=sT(),this.it=new yn(Ot)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const s=this.ut(r);switch(n.state){case 0:this.ht(r)&&s.j(n.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(n.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(r);break;case 3:this.ht(r)&&(s.Z(),s.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),s.j(n.resumeToken));break;default:qe()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((s,l)=>{this.ht(l)&&r(l)})}ft(n){const r=n.targetId,s=n.O.count,l=this.dt(r);if(l){const d=l.target;if(Ry(d))if(0===s){const p=new Qe(d.path);this.at(r,p,mn.newNoDocument(p,bt.min()))}else $e(1===s);else this.wt(r)!==s&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((d,p)=>{const E=this.dt(p);if(E){if(d.current&&Ry(E.target)){const T=new Qe(E.target.path);null!==this.nt.get(T)||this.gt(p,T)||this.at(p,T,mn.newNoDocument(T,n))}d.K&&(r.set(p,d.W()),d.G())}});let s=Yt();this.st.forEach((d,p)=>{let E=!0;p.forEachWhile(T=>{const S=this.dt(T);return!S||2===S.purpose||(E=!1,!1)}),E&&(s=s.add(d))});const l=new wp(n,r,this.it,this.nt,s);return this.nt=os(),this.st=sT(),this.it=new yn(Ot),l}ot(n,r){if(!this.ht(n))return;const s=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,s),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,s){if(!this.ht(n))return;const l=this.ut(n);this.gt(n,r)?l.H(r,1):l.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),s&&(this.nt=this.nt.insert(r,s))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new iT,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new yn(Ot),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Fe("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new iT),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function sT(){return new ar(Qe.comparator)}function Cp(){return new ar(Qe.comparator)}const jl={asc:"ASCENDING",desc:"DESCENDING"},oT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class yN{constructor(n,r){this.databaseId=n,this.D=r}}function jy(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function aT(i,n){return i.D?n.toBase64():n.toUint8Array()}function $y(i,n){return jy(i,n.toTimestamp())}function yr(i){return $e(!!i),bt.fromTimestamp(function(n){const r=iu(n);return new sr(r.seconds,r.nanos)}(i))}function Tw(i,n){return(r=i,new jt(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function Dw(i){const n=jt.fromString(i);return $e(hT(n)),n}function $d(i,n){return Tw(i.databaseId,n.path)}function as(i,n){const r=Dw(n);if(r.get(1)!==i.databaseId.projectId)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Qe(uT(r))}function Hy(i,n){return Tw(i.databaseId,n)}function Sw(i){const n=Dw(i);return 4===n.length?jt.emptyPath():uT(n)}function Ip(i){return new jt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uT(i){return $e(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Aw(i,n,r){return{name:$d(i,n),fields:r.value.mapValue.fields}}function lT(i,n,r){const s=as(i,n.name),l=yr(n.updateTime),d=new Sr({mapValue:{fields:n.fields}}),p=mn.newFoundDocument(s,l,d);return r&&p.setHasCommittedMutations(),r?p.setHasCommittedMutations():p}function $l(i,n){let r;if(n instanceof _p)r={update:Aw(i,n.key,n.value)};else if(n instanceof Ud)r={delete:$d(i,n.key)};else if(n instanceof Bl)r={update:Aw(i,n.key,n.data),updateMask:EN(n.fieldMask)};else{if(!(n instanceof Uy))return qe();r={verify:$d(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(s=>function(l,d){const p=d.transform;if(p instanceof Ld)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ss)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vd)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof si)return{fieldPath:d.field.canonicalString(),increment:p.C};throw qe()}(0,s))),n.precondition.isNone||(r.currentDocument=void 0!==(l=n.precondition).updateTime?{updateTime:$y(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:qe()),r;var l}function _N(i,n){const r=n.currentDocument?void 0!==(l=n.currentDocument).updateTime?or.updateTime(yr(l.updateTime)):void 0!==l.exists?or.exists(l.exists):or.none():or.none(),s=n.updateTransforms?n.updateTransforms.map(l=>function(d,p){let E=null;"setToServerValue"in p?($e("REQUEST_TIME"===p.setToServerValue),E=new Ld):"appendMissingElements"in p?E=new ss(p.appendMissingElements.values||[]):"removeAllFromArray"in p?E=new Vd(p.removeAllFromArray.values||[]):"increment"in p?E=new si(d,p.increment):qe();const T=gr.fromServerFormat(p.fieldPath);return new uu(T,E)}(i,l)):[];var l;if(n.update){const l=as(i,n.update.name),d=new Sr({mapValue:{fields:n.update.fields}});if(n.updateMask){const p=new Fl((n.updateMask.fieldPaths||[]).map(S=>gr.fromServerFormat(S)));return new Bl(l,d,p,r,s)}return new _p(l,d,r,s)}if(n.delete){const l=as(i,n.delete);return new Ud(l,r)}if(n.verify){const l=as(i,n.verify);return new Uy(l,r)}return qe()}function $t(i,n){return{documents:[Hy(i,n.path)]}}function fa(i,n){const r={structuredQuery:{}},s=n.path;null!==n.collectionGroup?(r.parent=Hy(i,s),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=Hy(i,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(E){if(0===E.length)return;const T=E.map(S=>function(R){if("=="===R.op){if(VI(R.value))return{unaryFilter:{field:Sp(R.field),op:"IS_NAN"}};if(Vl(R.value))return{unaryFilter:{field:Sp(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(VI(R.value))return{unaryFilter:{field:Sp(R.field),op:"IS_NOT_NAN"}};if(Vl(R.value))return{unaryFilter:{field:Sp(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sp(R.field),op:Gl(R.op),value:R.value}}}(S));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(n.filters);l&&(r.structuredQuery.where=l);const d=function(E){if(0!==E.length)return E.map(T=>{return{field:Sp((S=T).field),direction:Nw(S.dir)};var S})}(n.orderBy);d&&(r.structuredQuery.orderBy=d);const p=(T=n.limit,i.D||su(T)?T:{value:T});var T;return null!==p&&(r.structuredQuery.limit=p),n.startAt&&(r.structuredQuery.startAt=pt(n.startAt)),n.endAt&&(r.structuredQuery.endAt=pt(n.endAt)),r}function Hl(i){let n=Sw(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){$e(1===s);const R=r.from[0];R.allDescendants?l=R.collectionId:n=n.child(R.collectionId)}let d=[];r.where&&(d=vN(r.where));let p=[];r.orderBy&&(p=r.orderBy.map(R=>{return new kd(ql((x=R).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let E=null;r.limit&&(E=function(R){let x;return x="object"==typeof R?R.value:R,su(x)?null:x}(r.limit));let T=null;r.startAt&&(T=Bi(r.startAt));let S=null;return r.endAt&&(S=Bi(r.endAt)),mw(n,l,p,d,E,"F",T,S)}function vN(i){return i?void 0!==i.unaryFilter?[cO(i)]:void 0!==i.fieldFilter?[dT(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>vN(n)).reduce((n,r)=>n.concat(r)):qe():[]}function pt(i){return{before:i.before,values:i.position}}function Bi(i){return new hp(i.values||[],!!i.before)}function Nw(i){return jl[i]}function Gl(i){return oT[i]}function Sp(i){return{fieldPath:i.canonicalString()}}function ql(i){return gr.fromServerFormat(i.fieldPath)}function dT(i){return ii.create(ql(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return qe()}}(i.fieldFilter.op),i.fieldFilter.value)}function cO(i){switch(i.unaryFilter.op){case"IS_NAN":const n=ql(i.unaryFilter.field);return ii.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ql(i.unaryFilter.field);return ii.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ql(i.unaryFilter.field);return ii.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ql(i.unaryFilter.field);return ii.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return qe()}}function EN(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function hT(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function kn(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=us(n)),n=Rn(i.get(r),n);return us(n)}function Rn(i,n){let r=n;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function us(i){return i+"\x01\x01"}function go(i){const n=i.length;if($e(n>=2),2===n)return $e("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),jt.emptyPath();const r=n-2,s=[];let l="";for(let d=0;d<n;){const p=i.indexOf("\x01",d);switch((p<0||p>r)&&qe(),i.charAt(p+1)){case"\x01":const E=i.substring(d,p);let T;0===l.length?T=E:(l+=E,T=l,l=""),s.push(T);break;case"\x10":l+=i.substring(d,p),l+="\0";break;case"\x11":l+=i.substring(d,p+1);break;default:qe()}d=p+2}return new jt(s)}class wN{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class bi{constructor(n,r,s){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=s}}bi.store="owner",bi.key="owner";class mo{constructor(n,r,s){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=s}}mo.store="mutationQueues",mo.keyPath="userId";class qt{constructor(n,r,s,l,d){this.userId=n,this.batchId=r,this.localWriteTimeMs=s,this.baseMutations=l,this.mutations=d}}qt.store="mutations",qt.keyPath="batchId",qt.userMutationsIndex="userMutationsIndex",qt.userMutationsKeyPath=["userId","batchId"];class Jn{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,kn(r)]}static key(n,r,s){return[n,kn(r),s]}}Jn.store="documentMutations",Jn.PLACEHOLDER=new Jn;class bN{constructor(n,r){this.path=n,this.readTime=r}}class zl{constructor(n,r){this.path=n,this.version=r}}class Fn{constructor(n,r,s,l,d,p){this.unknownDocument=n,this.noDocument=r,this.document=s,this.hasCommittedMutations=l,this.readTime=d,this.parentPath=p}}Fn.store="remoteDocuments",Fn.readTimeIndex="readTimeIndex",Fn.readTimeIndexPath="readTime",Fn.collectionReadTimeIndex="collectionReadTimeIndex",Fn.collectionReadTimeIndexPath=["parentPath","readTime"];class xs{constructor(n){this.byteSize=n}}xs.store="remoteDocumentGlobal",xs.key="remoteDocumentGlobalKey";class jr{constructor(n,r,s,l,d,p,E){this.targetId=n,this.canonicalId=r,this.readTime=s,this.resumeToken=l,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=p,this.query=E}}jr.store="targets",jr.keyPath="targetId",jr.queryTargetsIndexName="queryTargetsIndex",jr.queryTargetsKeyPath=["canonicalId","targetId"];class Bn{constructor(n,r,s){this.targetId=n,this.path=r,this.sequenceNumber=s}}Bn.store="targetDocuments",Bn.keyPath=["targetId","path"],Bn.documentTargetsIndex="documentTargetsIndex",Bn.documentTargetsKeyPath=["path","targetId"];class oi{constructor(n,r,s,l){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=s,this.targetCount=l}}oi.key="targetGlobalKey",oi.store="targetGlobal";class lu{constructor(n,r){this.collectionId=n,this.parent=r}}lu.store="collectionParents",lu.keyPath=["collectionId","parent"];class Ci{constructor(n,r,s,l){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=s,this.inForeground=l}}Ci.store="clientMetadata",Ci.keyPath="clientId";class Hd{constructor(n,r,s){this.bundleId=n,this.createTime=r,this.version=s}}Hd.store="bundles",Hd.keyPath="bundleId";class pa{constructor(n,r,s){this.name=n,this.readTime=r,this.bundledQuery=s}}pa.store="namedQueries",pa.keyPath="name";const fT=[mo.store,qt.store,Jn.store,Fn.store,jr.store,bi.store,oi.store,Bn.store,Ci.store,xs.store,lu.store,Hd.store,pa.store],Rw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class De{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new De((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(n,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,l)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof De?r:De.resolve(r)}catch(r){return De.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):De.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):De.reject(r)}static resolve(n){return new De((r,s)=>{r(n)})}static reject(n){return new De((r,s)=>{s(n)})}static waitFor(n){return new De((r,s)=>{let l=0,d=0,p=!1;n.forEach(E=>{++l,E.next(()=>{++d,p&&d===l&&r()},T=>s(T))}),p=!0,d===l&&r()})}static or(n){let r=De.resolve(!1);for(const s of n)r=r.next(l=>l?De.resolve(l):s());return r}static forEach(n,r){const s=[];return n.forEach((l,d)=>{s.push(r.call(this,l,d))}),this.waitFor(s)}}class qy{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new ir,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new zy(n,r.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const l=Mw(s.target.error);this.Tt.reject(new zy(n,l))}}static open(n,r,s,l){try{return new qy(r,n.transaction(l,s))}catch(d){throw new zy(r,d)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Fe("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new gt(r)}}class ji{constructor(n,r,s){this.name=n,this.version=r,this.At=s,12.2===ji.Rt((0,Bt.z$)())&&Nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Fe("SimpleDb","Removing database:",n),qd(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(ji.Pt())return!0;const n=(0,Bt.z$)(),r=ji.Rt(n),s=0<r&&r<10,l=ji.vt(n),d=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||d)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(n){const r=n.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(n){var r=this;return(0,be.Z)(function*(){return r.db||(Fe("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=p=>{s(p.target.result)},d.onblocked=()=>{l(new zy(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const E=p.target.error;l("VersionError"===E.name?new Re(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===E.name?new Re(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+E):new zy(n,E))},d.onupgradeneeded=p=>{Fe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',p.oldVersion),r.At.Ct(p.target.result,d.transaction,p.oldVersion,r.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=s=>r.Nt(s)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,s,l){var d=this;return(0,be.Z)(function*(){const p="readonly"===r;let E=0;for(;;){++E;try{d.db=yield d.Dt(n);const T=qy.open(d.db,n,p?"readonly":"readwrite",s),S=l(T).catch(R=>(T.abort(R),De.reject(R))).toPromise();return S.catch(()=>{}),yield T.It,S}catch(T){const S="FirebaseError"!==T.name&&E<3;if(Fe("SimpleDb","Transaction failed with error:",T.message,"Retrying:",S),d.close(),!S)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ow{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return qd(this.kt.delete())}}class zy extends Re{constructor(n,r){super(he.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Gd(i){return"IndexedDbTransactionError"===i.name}class gt{constructor(n){this.store=n}put(n,r){let s;return void 0!==r?(Fe("SimpleDb","PUT",this.store.name,n,r),s=this.store.put(r,n)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),qd(s)}add(n){return Fe("SimpleDb","ADD",this.store.name,n,n),qd(this.store.add(n))}get(n){return qd(this.store.get(n)).next(r=>(void 0===r&&(r=null),Fe("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Fe("SimpleDb","DELETE",this.store.name,n),qd(this.store.delete(n))}count(){return Fe("SimpleDb","COUNT",this.store.name),qd(this.store.count())}Lt(n,r){const s=this.cursor(this.options(n,r)),l=[];return this.Bt(s,(d,p)=>{l.push(p)}).next(()=>l)}Ut(n,r){Fe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,r);s.qt=!1;const l=this.cursor(s);return this.Bt(l,(d,p,E)=>E.delete())}Kt(n,r){let s;r?s=n:(s={},r=n);const l=this.cursor(s);return this.Bt(l,r)}jt(n){const r=this.cursor({});return new De((s,l)=>{r.onerror=d=>{const p=Mw(d.target.error);l(p)},r.onsuccess=d=>{const p=d.target.result;p?n(p.primaryKey,p.value).next(E=>{E?p.continue():s()}):s()}})}Bt(n,r){const s=[];return new De((l,d)=>{n.onerror=p=>{d(p.target.error)},n.onsuccess=p=>{const E=p.target.result;if(!E)return void l();const T=new Ow(E),S=r(E.primaryKey,E.value,T);if(S instanceof De){const R=S.catch(x=>(T.done(),De.reject(x)));s.push(R)}T.isDone?l():null===T.Ft?E.continue():E.continue(T.Ft)}}).next(()=>De.waitFor(s))}options(n,r){let s;return void 0!==n&&("string"==typeof n?s=n:r=n),{index:s,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const s=this.store.index(n.index);return n.qt?s.openKeyCursor(n.range,r):s.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function qd(i){return new De((n,r)=>{i.onsuccess=s=>{n(s.target.result)},i.onerror=s=>{const l=Mw(s.target.error);r(l)}})}let zd=!1;function Mw(i){const n=ji.Rt((0,Bt.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zd||(zd=!0,setTimeout(()=>{throw s},0)),s}}return i}class pT extends xw{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function Ii(i,n){const r=Be(i);return ji.St(r.Qt,n)}class gT{constructor(n,r,s,l){this.batchId=n,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(n,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(n.key)&&dN(d,n,s[l])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&yp(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&yp(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const s=n.get(r.key),l=s;this.applyToLocalView(l),s.isValidDocument()||l.convertToNoDocument(bt.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),Yt())}isEqual(n){return this.batchId===n.batchId&&ca(this.mutations,n.mutations,(r,s)=>Vy(r,s))&&ca(this.baseMutations,n.baseMutations,(r,s)=>Vy(r,s))}}class mT{constructor(n,r,s,l){this.batch=n,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(n,r,s){$e(n.mutations.length===s.length);let l=nT();const d=n.mutations;for(let p=0;p<d.length;p++)l=l.insert(d[p].key,s[p].version);return new mT(n,r,s,l)}}class cu{constructor(n,r,s,l,d=bt.min(),p=bt.min(),E=mr.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=E}withSequenceNumber(n){return new cu(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Ar{constructor(n){this.Wt=n}}function Pw(i,n){if(n.document)return lT(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=Qe.fromSegments(n.noDocument.path),s=Kd(n.noDocument.readTime),l=mn.newNoDocument(r,s);return n.hasCommittedMutations?l.setHasCommittedMutations():l}if(n.unknownDocument){const r=Qe.fromSegments(n.unknownDocument.path),s=Kd(n.unknownDocument.version);return mn.newUnknownDocument(r,s)}return qe()}function yT(i,n,r){const s=Ap(r),l=n.key.path.popLast().toArray();if(n.isFoundDocument()){const d={name:$d(E=i.Wt,(T=n).key),fields:T.data.value.mapValue.fields,updateTime:jy(E,T.version.toTimestamp())};return new Fn(null,null,d,n.hasCommittedMutations,s,l)}var E,T;if(n.isNoDocument()){const d=n.key.path.toArray(),p=Wd(n.version),E=n.hasCommittedMutations;return new Fn(null,new bN(d,p),null,E,s,l)}if(n.isUnknownDocument()){const d=n.key.path.toArray(),p=Wd(n.version);return new Fn(new zl(d,p),null,null,!0,s,l)}return qe()}function Ap(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function _T(i){const n=new sr(i[0],i[1]);return bt.fromTimestamp(n)}function Wd(i){const n=i.toTimestamp();return new wN(n.seconds,n.nanoseconds)}function Kd(i){const n=new sr(i.seconds,i.nanoseconds);return bt.fromTimestamp(n)}function Zd(i,n){const r=(n.baseMutations||[]).map(d=>_N(i.Wt,d));for(let d=0;d<n.mutations.length-1;++d){const p=n.mutations[d];d+1<n.mutations.length&&void 0!==n.mutations[d+1].transform&&(p.updateTransforms=n.mutations[d+1].transform.fieldTransforms,n.mutations.splice(d+1,1),++d)}const s=n.mutations.map(d=>_N(i.Wt,d)),l=sr.fromMillis(n.localWriteTimeMs);return new gT(n.batchId,l,r,s)}function Np(i){const n=Kd(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Kd(i.lastLimboFreeSnapshotVersion):bt.min();let s;var l;return void 0!==i.query.documents?($e(1===(l=i.query).documents.length),s=is(Fd(Sw(l.documents[0])))):s=is(Hl(i.query)),new cu(s,i.targetId,0,i.lastListenSequenceNumber,n,r,mr.fromBase64String(i.resumeToken))}function vT(i,n){const r=Wd(n.snapshotVersion),s=Wd(n.lastLimboFreeSnapshotVersion);let l;l=Ry(n.target)?$t(i.Wt,n.target):fa(i.Wt,n.target);const d=n.resumeToken.toBase64();return new jr(n.targetId,cp(n.target),r,d,n.sequenceNumber,s,l)}function Rp(i){const n=Hl({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?qI(n,n.limit,"L"):n}class CN{getBundleMetadata(n,r){return ET(n).get(r).next(s=>{if(s)return{id:(l=s).bundleId,createTime:Kd(l.createTime),version:l.version};var l})}saveBundleMetadata(n,r){return ET(n).put({bundleId:(s=r).id,createTime:Wd(yr(s.createTime)),version:s.version});var s}getNamedQuery(n,r){return kw(n).get(r).next(s=>{if(s)return{name:(l=s).name,query:Rp(l.bundledQuery),readTime:Kd(l.readTime)};var l})}saveNamedQuery(n,r){return kw(n).put({name:(s=r).name,readTime:Wd(yr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function ET(i){return Ii(i,Hd.store)}function kw(i){return Ii(i,pa.store)}class Fw{constructor(){this.Gt=new Lw}addToCollectionParentIndex(n,r){return this.Gt.add(r),De.resolve()}getCollectionParents(n,r){return De.resolve(this.Gt.getEntries(r))}}class Lw{constructor(){this.index={}}add(n){const r=n.lastSegment(),s=n.popLast(),l=this.index[r]||new yn(jt.comparator),d=!l.has(s);return this.index[r]=l.add(s),d}has(n){const r=n.lastSegment(),s=n.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(n){return(this.index[n]||new yn(jt.comparator)).toArray()}}class dO{constructor(){this.zt=new Lw}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const s=r.lastSegment(),l=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const d={collectionId:s,parent:kn(l)};return wT(n).put(d)}return De.resolve()}getCollectionParents(n,r){const s=[],l=IDBKeyRange.bound([r,""],[lw(r),""],!1,!0);return wT(n).Lt(l).next(d=>{for(const p of d){if(p.collectionId!==r)break;s.push(go(p.parent))}return s})}}function wT(i){return Ii(i,lu.store)}const bT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ti{constructor(n,r,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new Ti(n,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function CT(i,n,r){const s=i.store(qt.store),l=i.store(Jn.store),d=[],p=IDBKeyRange.only(r.batchId);let E=0;const T=s.Kt({range:p},(R,x,B)=>(E++,B.delete()));d.push(T.next(()=>{$e(1===E)}));const S=[];for(const R of r.mutations){const x=Jn.key(n,R.key.path,r.batchId);d.push(l.delete(x)),S.push(R.key)}return De.waitFor(d).next(()=>S)}function Wy(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw qe();n=i.noDocument}return JSON.stringify(n).length}Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(41943040,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);class Vw{constructor(n,r,s,l){this.userId=n,this.N=r,this.Ht=s,this.referenceDelegate=l,this.Jt={}}static Yt(n,r,s,l){$e(""!==n.uid);const d=n.isAuthenticated()?n.uid:"";return new Vw(d,r,s,l)}checkEmpty(n){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return du(n).Kt({index:qt.userMutationsIndex,range:s},(l,d,p)=>{r=!1,p.done()}).next(()=>r)}addMutationBatch(n,r,s,l){const d=Qd(n),p=du(n);return p.add({}).next(E=>{$e("number"==typeof E);const T=new gT(E,r,s,l),S=function(B,H,X){const ve=X.baseMutations.map(et=>$l(B.Wt,et)),Ne=X.mutations.map(et=>$l(B.Wt,et));return new qt(H,X.batchId,X.localWriteTime.toMillis(),ve,Ne)}(this.N,this.userId,T),R=[];let x=new yn((B,H)=>Ot(B.canonicalString(),H.canonicalString()));for(const B of l){const H=Jn.key(this.userId,B.key.path,E);x=x.add(B.key.path.popLast()),R.push(p.put(S)),R.push(d.put(H,Jn.PLACEHOLDER))}return x.forEach(B=>{R.push(this.Ht.addToCollectionParentIndex(n,B))}),n.addOnCommittedListener(()=>{this.Jt[E]=T.keys()}),De.waitFor(R).next(()=>T)})}lookupMutationBatch(n,r){return du(n).get(r).next(s=>s?($e(s.userId===this.userId),Zd(this.N,s)):null)}Xt(n,r){return this.Jt[r]?De.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(s=>{if(s){const l=s.keys();return this.Jt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(n,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return du(n).Kt({index:qt.userMutationsIndex,range:l},(p,E,T)=>{E.userId===this.userId&&($e(E.batchId>=s),d=Zd(this.N,E)),T.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return du(n).Kt({index:qt.userMutationsIndex,range:r,reverse:!0},(l,d,p)=>{s=d.batchId,p.done()}).next(()=>s)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return du(n).Lt(qt.userMutationsIndex,r).next(s=>s.map(l=>Zd(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(n,r){const s=Jn.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(s),d=[];return Qd(n).Kt({range:l},(p,E,T)=>{const[S,R,x]=p,B=go(R);if(S===this.userId&&r.path.isEqual(B))return du(n).get(x).next(H=>{if(!H)throw qe();$e(H.userId===this.userId),d.push(Zd(this.N,H))});T.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new yn(Ot);const l=[];return r.forEach(d=>{const p=Jn.prefixForPath(this.userId,d.path),E=IDBKeyRange.lowerBound(p),T=Qd(n).Kt({range:E},(S,R,x)=>{const[B,H,X]=S,ve=go(H);B===this.userId&&d.path.isEqual(ve)?s=s.add(X):x.done()});l.push(T)}),De.waitFor(l).next(()=>this.Zt(n,s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,l=s.length+1,d=Jn.prefixForPath(this.userId,s),p=IDBKeyRange.lowerBound(d);let E=new yn(Ot);return Qd(n).Kt({range:p},(T,S,R)=>{const[x,B,H]=T,X=go(B);x===this.userId&&s.isPrefixOf(X)?X.length===l&&(E=E.add(H)):R.done()}).next(()=>this.Zt(n,E))}Zt(n,r){const s=[],l=[];return r.forEach(d=>{l.push(du(n).get(d).next(p=>{if(null===p)throw qe();$e(p.userId===this.userId),s.push(Zd(this.N,p))}))}),De.waitFor(l).next(()=>s)}removeMutationBatch(n,r){return CT(n.Qt,this.userId,r).next(s=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),De.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(n,l))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return De.resolve();const s=IDBKeyRange.lowerBound(Jn.prefixForUser(this.userId)),l=[];return Qd(n).Kt({range:s},(d,p,E)=>{if(d[0]===this.userId){const T=go(d[1]);l.push(T)}else E.done()}).next(()=>{$e(0===l.length)})})}containsKey(n,r){return Yd(n,this.userId,r)}ee(n){return Uw(n).get(this.userId).next(r=>r||new mo(this.userId,-1,""))}}function Yd(i,n,r){const s=Jn.prefixForPath(n,r.path),l=s[1],d=IDBKeyRange.lowerBound(s);let p=!1;return Qd(i).Kt({range:d,qt:!0},(E,T,S)=>{const[R,x,B]=E;R===n&&x===l&&(p=!0),S.done()}).next(()=>p)}function du(i){return Ii(i,qt.store)}function Qd(i){return Ii(i,Jn.store)}function Uw(i){return Ii(i,mo.store)}class Os{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new Os(0)}static ie(){return new Os(-1)}}class hO{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const s=new Os(r.highestTargetId);return r.highestTargetId=s.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>bt.fromTimestamp(new sr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,s){return this.re(n).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.oe(n,l)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(s=>(s.targetCount+=1,this.ce(r,s),this.oe(n,s))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>Wl(n).delete(r.targetId)).next(()=>this.re(n)).next(s=>($e(s.targetCount>0),s.targetCount-=1,this.oe(n,s)))}removeTargets(n,r,s){let l=0;const d=[];return Wl(n).Kt((p,E)=>{const T=Np(E);T.sequenceNumber<=r&&null===s.get(T.targetId)&&(l++,d.push(this.removeTargetData(n,T)))}).next(()=>De.waitFor(d)).next(()=>l)}forEachTarget(n,r){return Wl(n).Kt((s,l)=>{const d=Np(l);r(d)})}re(n){return IT(n).get(oi.key).next(r=>($e(null!==r),r))}oe(n,r){return IT(n).put(oi.key,r)}ae(n,r){return Wl(n).put(vT(this.N,r))}ce(n,r){let s=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,s=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const s=cp(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Wl(n).Kt({range:l,index:jr.queryTargetsIndexName},(p,E,T)=>{const S=Np(E);dp(r,S.target)&&(d=S,T.done())}).next(()=>d)}addMatchingKeys(n,r,s){const l=[],d=hu(n);return r.forEach(p=>{const E=kn(p.path);l.push(d.put(new Bn(s,E))),l.push(this.referenceDelegate.addReference(n,s,p))}),De.waitFor(l)}removeMatchingKeys(n,r,s){const l=hu(n);return De.forEach(r,d=>{const p=kn(d.path);return De.waitFor([l.delete([s,p]),this.referenceDelegate.removeReference(n,s,d)])})}removeMatchingKeysForTargetId(n,r){const s=hu(n),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(n,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=hu(n);let d=Yt();return l.Kt({range:s,qt:!0},(p,E,T)=>{const S=go(p[1]),R=new Qe(S);d=d.add(R)}).next(()=>d)}containsKey(n,r){const s=kn(r.path),l=IDBKeyRange.bound([s],[lw(s)],!1,!0);let d=0;return hu(n).Kt({index:Bn.documentTargetsIndex,qt:!0,range:l},([p,E],T,S)=>{0!==p&&(d++,S.done())}).next(()=>d>0)}Et(n,r){return Wl(n).get(r).next(s=>s?Np(s):null)}}function Wl(i){return Ii(i,jr.store)}function IT(i){return Ii(i,oi.store)}function hu(i){return Ii(i,Bn.store)}function Kl(i){return Bw.apply(this,arguments)}function Bw(){return(Bw=(0,be.Z)(function*(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==Rw)throw i;Fe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function TT([i,n],[r,s]){const l=Ot(i,r);return 0===l?Ot(n,s):l}class DT{constructor(n){this.ue=n,this.buffer=new yn(TT),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();TT(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class IN{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const s=this.de?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,be.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(l){Gd(l)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Kl(l)}yield r._e(n)}))}}class TN{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(s=>Math.floor(r/100*s))}nthSequenceNumber(n,r){if(0===r)return De.resolve(Dr.T);const s=new DT(r);return this.me.forEachTarget(n,l=>s.fe(l.sequenceNumber)).next(()=>this.me.ye(n,l=>s.fe(l))).next(()=>s.maxValue)}removeTargets(n,r,s){return this.me.removeTargets(n,r,s)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(bT)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bT):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let s,l,d,p,E,T,S;const R=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,p=Date.now(),this.nthSequenceNumber(n,l))).next(x=>(s=x,E=Date.now(),this.removeTargets(n,s,r))).next(x=>(d=x,T=Date.now(),this.removeOrphanedDocuments(n,s))).next(x=>(S=Date.now(),aw()<=Qa.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-R}ms\n\tDetermined least recently used ${l} in `+(E-p)+`ms\n\tRemoved ${d} targets in `+(T-E)+`ms\n\tRemoved ${x} documents in `+(S-T)+`ms\nTotal Duration: ${S-R}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:x})))}}class fO{constructor(n,r){this.db=n,this.garbageCollector=new TN(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(s=>r.next(l=>s+l))}Ee(n){let r=0;return this.ye(n,s=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(s,l)=>r(l))}addReference(n,r,s){return jw(n,s)}removeReference(n,r,s){return jw(n,s)}removeTargets(n,r,s){return this.db.getTargetCache().removeTargets(n,r,s)}markPotentiallyOrphaned(n,r){return jw(n,r)}Ie(n,r){return function(s,l){let d=!1;return Uw(s).jt(p=>Yd(s,p,l).next(E=>(E&&(d=!0),De.resolve(!E)))).next(()=>d)}(n,r)}removeOrphanedDocuments(n,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Te(n,(p,E)=>{if(E<=r){const T=this.Ie(n,p).next(S=>{if(!S)return d++,s.getEntry(n,p).next(()=>(s.removeEntry(p),hu(n).delete([0,kn(p.path)])))});l.push(T)}}).next(()=>De.waitFor(l)).next(()=>s.apply(n)).next(()=>d)}removeTarget(n,r){const s=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,r){return jw(n,r)}Te(n,r){const s=hu(n);let l,d=Dr.T;return s.Kt({index:Bn.documentTargetsIndex},([p,E],{path:T,sequenceNumber:S})=>{0===p?(d!==Dr.T&&r(new Qe(go(l)),d),d=S,l=T):d=Dr.T}).next(()=>{d!==Dr.T&&r(new Qe(go(l)),d)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function jw(i,n){return hu(i).put((s=i.currentSequenceNumber,new Bn(0,kn(n.path),s)));var s}class xp{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,n))return d}has(n){return void 0!==this.get(n)}set(n,r){const s=this.mapKeyFn(n),l=this.inner[s];if(void 0!==l){for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],n))return void(l[d]=[n,r]);l.push([n,r])}else this.inner[s]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],n))return 1===s.length?delete this.inner[r]:s.splice(l,1),!0;return!1}forEach(n){Rs(this.inner,(r,s)=>{for(const[l,d]of s)n(l,d)})}isEmpty(){return Md(this.inner)}}class Ky{constructor(){this.changes=new xp(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:bt.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:mn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?De.resolve(s.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class DN{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,s){return fu(n).put(Zy(r),s)}removeEntry(n,r){const s=fu(n),l=Zy(r);return s.delete(l)}updateMetadata(n,r){return this.getMetadata(n).next(s=>(s.byteSize+=r,this.Ae(n,s)))}getEntry(n,r){return fu(n).get(Zy(r)).next(s=>this.Re(r,s))}be(n,r){return fu(n).get(Zy(r)).next(s=>({document:this.Re(r,s),size:Wy(s)}))}getEntries(n,r){let s=os();return this.Pe(n,r,(l,d)=>{const p=this.Re(l,d);s=s.insert(l,p)}).next(()=>s)}ve(n,r){let s=os(),l=new ar(Qe.comparator);return this.Pe(n,r,(d,p)=>{const E=this.Re(d,p);s=s.insert(d,E),l=l.insert(d,Wy(p))}).next(()=>({documents:s,Ve:l}))}Pe(n,r,s){if(r.isEmpty())return De.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),d=r.getIterator();let p=d.getNext();return fu(n).Kt({range:l},(E,T,S)=>{const R=Qe.fromSegments(E);for(;p&&Qe.comparator(p,R)<0;)s(p,null),p=d.getNext();p&&p.isEqual(R)&&(s(p,T),p=d.hasNext()?d.getNext():null),p?S.Mt(p.path.toArray()):S.done()}).next(()=>{for(;p;)s(p,null),p=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(n,r,s){let l=os();const d=r.path.length+1,p={};if(s.isEqual(bt.min())){const E=r.path.toArray();p.range=IDBKeyRange.lowerBound(E)}else{const E=r.path.toArray(),T=Ap(s);p.range=IDBKeyRange.lowerBound([E,T],!0),p.index=Fn.collectionReadTimeIndex}return fu(n).Kt(p,(E,T,S)=>{if(E.length!==d)return;const R=Pw(this.N,T);r.path.isPrefixOf(R.key.path)?gp(r,R)&&(l=l.insert(R.key,R)):S.done()}).next(()=>l)}newChangeBuffer(n){return new SN(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return ST(n).get(xs.key).next(r=>($e(!!r),r))}Ae(n,r){return ST(n).put(xs.key,r)}Re(n,r){if(r){const s=Pw(this.N,r);if(!s.isNoDocument()||!s.version.isEqual(bt.min()))return s}return mn.newInvalidDocument(n)}}class SN extends Ky{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new xp(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(n){const r=[];let s=0,l=new yn((d,p)=>Ot(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const E=this.De.get(d);if(p.document.isValidDocument()){const T=yT(this.Se.N,p.document,this.getReadTime(d));l=l.add(d.path.popLast()),s+=Wy(T)-E,r.push(this.Se.addEntry(n,d,T))}else if(s-=E,this.trackRemovals){const T=yT(this.Se.N,mn.newNoDocument(d,bt.min()),this.getReadTime(d));r.push(this.Se.addEntry(n,d,T))}else r.push(this.Se.removeEntry(n,d))}),l.forEach(d=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,d))}),r.push(this.Se.updateMetadata(n,s)),De.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(s=>(this.De.set(r,s.size),s.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:s,Ve:l})=>(l.forEach((d,p)=>{this.De.set(d,p)}),s))}}function ST(i){return Ii(i,xs.store)}function fu(i){return Ii(i,Fn.store)}function Zy(i){return i.path.toArray()}class AN{constructor(n){this.N=n}Ct(n,r,s,l){$e(s<l&&s>=0&&l<=11);const d=new qy("createOrUpgrade",r);var E;s<1&&l>=1&&(n.createObjectStore(bi.store),(E=n).createObjectStore(mo.store,{keyPath:mo.keyPath}),E.createObjectStore(qt.store,{keyPath:qt.keyPath,autoIncrement:!0}).createIndex(qt.userMutationsIndex,qt.userMutationsKeyPath,{unique:!0}),E.createObjectStore(Jn.store),$w(n),function(E){E.createObjectStore(Fn.store)}(n));let p=De.resolve();return s<3&&l>=3&&(0!==s&&(function(E){E.deleteObjectStore(Bn.store),E.deleteObjectStore(jr.store),E.deleteObjectStore(oi.store)}(n),$w(n)),p=p.next(()=>function(E){const T=E.store(oi.store),S=new oi(0,0,bt.min().toTimestamp(),0);return T.put(oi.key,S)}(d))),s<4&&l>=4&&(0!==s&&(p=p.next(()=>function(E,T){return T.store(qt.store).Lt().next(S=>{E.deleteObjectStore(qt.store),E.createObjectStore(qt.store,{keyPath:qt.keyPath,autoIncrement:!0}).createIndex(qt.userMutationsIndex,qt.userMutationsKeyPath,{unique:!0});const R=T.store(qt.store),x=S.map(B=>R.put(B));return De.waitFor(x)})}(n,d))),p=p.next(()=>{!function(E){E.createObjectStore(Ci.store,{keyPath:Ci.keyPath})}(n)})),s<5&&l>=5&&(p=p.next(()=>this.Ce(d))),s<6&&l>=6&&(p=p.next(()=>(function(E){E.createObjectStore(xs.store)}(n),this.Ne(d)))),s<7&&l>=7&&(p=p.next(()=>this.xe(d))),s<8&&l>=8&&(p=p.next(()=>this.ke(n,d))),s<9&&l>=9&&(p=p.next(()=>{(function(E){E.objectStoreNames.contains("remoteDocumentChanges")&&E.deleteObjectStore("remoteDocumentChanges")})(n),function(E){const T=E.objectStore(Fn.store);T.createIndex(Fn.readTimeIndex,Fn.readTimeIndexPath,{unique:!1}),T.createIndex(Fn.collectionReadTimeIndex,Fn.collectionReadTimeIndexPath,{unique:!1})}(r)})),s<10&&l>=10&&(p=p.next(()=>this.$e(d))),s<11&&l>=11&&(p=p.next(()=>{(function(E){E.createObjectStore(Hd.store,{keyPath:Hd.keyPath})})(n),function(E){E.createObjectStore(pa.store,{keyPath:pa.keyPath})}(n)})),p}Ne(n){let r=0;return n.store(Fn.store).Kt((s,l)=>{r+=Wy(l)}).next(()=>{const s=new xs(r);return n.store(xs.store).put(xs.key,s)})}Ce(n){const r=n.store(mo.store),s=n.store(qt.store);return r.Lt().next(l=>De.forEach(l,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.Lt(qt.userMutationsIndex,p).next(E=>De.forEach(E,T=>{$e(T.userId===d.userId);const S=Zd(this.N,T);return CT(n,d.userId,S).next(()=>{})}))}))}xe(n){const r=n.store(Bn.store),s=n.store(Fn.store);return n.store(oi.store).get(oi.key).next(l=>{const d=[];return s.Kt((p,E)=>{const T=new jt(p),S=[0,kn(T)];d.push(r.get(S).next(R=>R?De.resolve():r.put(new Bn(0,kn(T),l.highestListenSequenceNumber))))}).next(()=>De.waitFor(d))})}ke(n,r){n.createObjectStore(lu.store,{keyPath:lu.keyPath});const s=r.store(lu.store),l=new Lw,d=p=>{if(l.add(p)){const E=p.lastSegment(),T=p.popLast();return s.put({collectionId:E,parent:kn(T)})}};return r.store(Fn.store).Kt({qt:!0},(p,E)=>{const T=new jt(p);return d(T.popLast())}).next(()=>r.store(Jn.store).Kt({qt:!0},([p,E,T],S)=>{const R=go(E);return d(R.popLast())}))}$e(n){const r=n.store(jr.store);return r.Kt((s,l)=>{const d=Np(l),p=vT(this.N,d);return r.put(p)})}}function $w(i){i.createObjectStore(Bn.store,{keyPath:Bn.keyPath}).createIndex(Bn.documentTargetsIndex,Bn.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(jr.store,{keyPath:jr.keyPath}).createIndex(jr.queryTargetsIndexName,jr.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(oi.store)}const Op="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Hw{constructor(n,r,s,l,d,p,E,T,S,R){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=s,this.Oe=d,this.window=p,this.document=E,this.Fe=S,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=x=>Promise.resolve(),!Hw.bt())throw new Re(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fO(this,l),this.We=r+"main",this.N=new Ar(T),this.Ge=new ji(this.We,11,new AN(this.N)),this.ze=new hO(this.referenceDelegate,this.N),this.Ht=new dO,this.He=new DN(this.N,this.Ht),this.Je=new CN,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&Nn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(he.FAILED_PRECONDITION,Op);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Dr(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var s=(0,be.Z)(function*(l){if(r.started)return n(l)});return function(l){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,be.Z)(function*(s){null===s.newVersion&&(yield n())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,be.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>ur(n).put(new Ci(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(Gd(n))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return yo(n).get(bi.key).next(r=>De.resolve(this.cn(r)))}un(n){return ur(n).delete(this.clientId)}hn(){var n=this;return(0,be.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Ii(s,Ci.store);return l.Lt().next(d=>{const p=n.fn(d,18e5),E=d.filter(T=>-1===p.indexOf(T));return De.forEach(E,T=>l.delete(T.clientId)).next(()=>E)})}).catch(()=>[]);if(n.Ye)for(const s of r)n.Ye.removeItem(n.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?De.resolve(!0):yo(n).get(bi.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Re(he.FAILED_PRECONDITION,Op);return!1}}return!(!this.networkEnabled||!this.inForeground)||ur(n).Lt().next(s=>void 0===this.fn(s,5e3).find(l=>{if(this.clientId!==l.clientId){const p=!this.inForeground&&l.inForeground,E=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||p&&E)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Fe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,be.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[bi.store,Ci.store],r=>{const s=new pT(r,Dr.T);return n.on(s).next(()=>n.un(s))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(s=>this.ln(s.updateTimeMs,r)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>ur(n).Lt().next(r=>this.fn(r,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(n){return Vw.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,s){let d;return Fe("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",fT,p=>(d=new pT(p,this.Le?this.Le.next():Dr.T),"readwrite-primary"===r?this.sn(d).next(E=>!!E||this.rn(d)).next(E=>{if(!E)throw Nn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Re(he.FAILED_PRECONDITION,Rw);return s(d)}).next(E=>this.an(d).next(()=>E)):this.En(d).next(()=>s(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}En(n){return yo(n).get(bi.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Re(he.FAILED_PRECONDITION,Op)})}an(n){const r=new bi(this.clientId,this.allowTabSynchronization,Date.now());return yo(n).put(bi.key,r)}static bt(){return ji.bt()}on(n){const r=yo(n);return r.get(bi.key).next(s=>this.cn(s)?(Fe("IndexedDbPersistence","Releasing primary lease."),r.delete(bi.key)):De.resolve())}ln(n,r){const s=Date.now();return!(n<s-r||n>s&&(Nn(`Detected an update time that is in the future: ${n} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Bt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const s=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Fe("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Nn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Nn("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function yo(i){return Ii(i,bi.store)}function ur(i){return Ii(i,Ci.store)}function Yy(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class Ms{constructor(n,r){this.progress=n,this.Tn=r}}class Qy{constructor(n,r,s){this.He=n,this.In=r,this.Ht=s}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(s=>this.Rn(n,r,s))}Rn(n,r,s){return this.He.getEntry(n,r).next(l=>{for(const d of s)d.applyToLocalView(l);return l})}bn(n,r){n.forEach((s,l)=>{for(const d of r)d.applyToLocalView(l)})}Pn(n,r){return this.He.getEntries(n,r).next(s=>this.vn(n,s).next(()=>s))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(s=>this.bn(r,s))}getDocumentsMatchingQuery(n,r,s){return Qe.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(n,r.path):Py(r)?this.Sn(n,r,s):this.Dn(n,r,s);var l}Vn(n,r){return this.An(n,new Qe(r)).next(s=>{let l=Cw();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}Sn(n,r,s){const l=r.collectionGroup;let d=Cw();return this.Ht.getCollectionParents(n,l).next(p=>De.forEach(p,E=>{const T=(S=r,R=E.child(l),new da(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,R;return this.Dn(n,T,s).next(S=>{S.forEach((R,x)=>{d=d.insert(R,x)})})}).next(()=>d))}Dn(n,r,s){let l,d;return this.He.getDocumentsMatchingQuery(n,r,s).next(p=>(l=p,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(p=>(d=p,this.Cn(n,d,l).next(E=>{l=E;for(const T of d)for(const S of T.mutations){const R=S.key;let x=l.get(R);null==x&&(x=mn.newInvalidDocument(R),l=l.insert(R,x)),yp(S,x,T.localWriteTime),x.isFoundDocument()||(l=l.remove(R))}}))).next(()=>(l.forEach((p,E)=>{gp(r,E)||(l=l.remove(p))}),l))}Cn(n,r,s){let l=Yt();for(const p of r)for(const E of p.mutations)E instanceof Bl&&null===s.get(E.key)&&(l=l.add(E.key));let d=s;return this.He.getEntries(n,l).next(p=>(p.forEach((E,T)=>{T.isFoundDocument()&&(d=d.insert(E,T))}),d))}}class Gw{constructor(n,r,s,l){this.targetId=n,this.fromCache=r,this.Nn=s,this.xn=l}static kn(n,r){let s=Yt(),l=Yt();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new Gw(n,r.fromCache,s,l)}}class qw{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,s,l){return 0===(d=r).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||s.isEqual(bt.min())?this.Fn(n,r):this.On.Pn(n,l).next(d=>{const p=this.Mn(r,d);return(Oy(r)||My(r))&&this.Ln(r.limitType,p,l,s)?this.Fn(n,r):(aw()<=Qa.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ky(r)),this.On.getDocumentsMatchingQuery(n,r,s).next(E=>(p.forEach(T=>{E=E.insert(T.key,T)}),E)))});var d}Mn(n,r){let s=new yn(yw(n));return r.forEach((l,d)=>{gp(n,d)&&(s=s.add(d))}),s}Ln(n,r,s,l){if(s.size!==r.size)return!0;const d="F"===n?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Fn(n,r){return aw()<=Qa.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",ky(r)),this.On.getDocumentsMatchingQuery(n,r,bt.min())}}class AT{constructor(n,r,s,l){this.persistence=n,this.Bn=r,this.N=l,this.Un=new ar(Ot),this.qn=new xp(d=>cp(d),dp),this.Kn=bt.min(),this.In=n.getMutationQueue(s),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new Qy(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function zw(i,n,r,s){return new AT(i,n,r,s)}function NT(i,n){return Ww.apply(this,arguments)}function Ww(){return(Ww=(0,be.Z)(function*(i,n){const r=Be(i);let s=r.In,l=r.Qn;const d=yield r.persistence.runTransaction("Handle user change","readonly",p=>{let E;return r.In.getAllMutationBatches(p).next(T=>(E=T,s=r.persistence.getMutationQueue(n),l=new Qy(r.jn,s,r.persistence.getIndexManager()),s.getAllMutationBatches(p))).next(T=>{const S=[],R=[];let x=Yt();for(const B of E){S.push(B.batchId);for(const H of B.mutations)x=x.add(H.key)}for(const B of T){R.push(B.batchId);for(const H of B.mutations)x=x.add(H.key)}return l.Pn(p,x).next(B=>({Wn:B,removedBatchIds:S,addedBatchIds:R}))})});return r.In=s,r.Qn=l,r.Bn.$n(r.Qn),d})).apply(this,arguments)}function NN(i,n){const r=Be(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=n.batch.keys(),d=r.jn.newChangeBuffer({trackRemovals:!0});return function(p,E,T,S){const R=T.batch,x=R.keys();let B=De.resolve();return x.forEach(H=>{B=B.next(()=>S.getEntry(E,H)).next(X=>{const ve=T.docVersions.get(H);$e(null!==ve),X.version.compareTo(ve)<0&&(R.applyToRemoteDocument(X,T),X.isValidDocument()&&S.addEntry(X,T.commitVersion))})}),B.next(()=>p.In.removeMutationBatch(E,R))}(r,s,n,d).next(()=>d.apply(s)).next(()=>r.In.performConsistencyCheck(s)).next(()=>r.Qn.Pn(s,l))})}function Kw(i){const n=Be(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function RN(i,n){const r=Be(i),s=n.snapshotVersion;let l=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=r.jn.newChangeBuffer({trackRemovals:!0});l=r.Un;const E=[];n.targetChanges.forEach((S,R)=>{const x=l.get(R);if(!x)return;E.push(r.ze.removeMatchingKeys(d,S.removedDocuments,R).next(()=>r.ze.addMatchingKeys(d,S.addedDocuments,R)));const B=S.resumeToken;if(B.approximateByteSize()>0){const H=x.withResumeToken(B,s).withSequenceNumber(d.currentSequenceNumber);l=l.insert(R,H),X=x,Ne=S,$e((ve=H).resumeToken.approximateByteSize()>0),(0===X.resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0)&&E.push(r.ze.updateTargetData(d,H))}var X,ve,Ne});let T=os();if(n.documentUpdates.forEach((S,R)=>{n.resolvedLimboDocuments.has(S)&&E.push(r.persistence.referenceDelegate.updateLimboDocument(d,S))}),E.push(xN(d,p,n.documentUpdates,s,void 0).next(S=>{T=S})),!s.isEqual(bt.min())){const S=r.ze.getLastRemoteSnapshotVersion(d).next(R=>r.ze.setTargetsMetadata(d,d.currentSequenceNumber,s));E.push(S)}return De.waitFor(E).next(()=>p.apply(d)).next(()=>r.Qn.vn(d,T)).next(()=>T)}).then(d=>(r.Un=l,d))}function xN(i,n,r,s,l){let d=Yt();return r.forEach(p=>d=d.add(p)),n.getEntries(i,d).next(p=>{let E=os();return r.forEach((T,S)=>{const R=p.get(T),x=(null==l?void 0:l.get(T))||s;S.isNoDocument()&&S.version.isEqual(bt.min())?(n.removeEntry(T,x),E=E.insert(T,S)):!R.isValidDocument()||S.version.compareTo(R.version)>0||0===S.version.compareTo(R.version)&&R.hasPendingWrites?(n.addEntry(S,x),E=E.insert(T,S)):Fe("LocalStore","Ignoring outdated watch update for ",T,". Current version:",R.version," Watch version:",S.version)}),E})}function ON(i,n){const r=Be(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(s,n)))}function Jd(i,n){const r=Be(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.ze.getTargetData(s,n).next(d=>d?(l=d,De.resolve(l)):r.ze.allocateTargetId(s).next(p=>(l=new cu(n,p,0,s.currentSequenceNumber),r.ze.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.Un.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Un=r.Un.insert(s.targetId,s),r.qn.set(n,s.targetId)),s})}function Ps(i,n,r){return RT.apply(this,arguments)}function RT(){return(RT=(0,be.Z)(function*(i,n,r){const s=Be(i),l=s.Un.get(n),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Gd(p))throw p;Fe("LocalStore",`Failed to update sequence numbers for target ${n}: ${p}`)}s.Un=s.Un.remove(n),s.qn.delete(l.target)})).apply(this,arguments)}function Mp(i,n,r){const s=Be(i);let l=bt.min(),d=Yt();return s.persistence.runTransaction("Execute query","readonly",p=>function(E,T,S){const R=Be(E),x=R.qn.get(S);return void 0!==x?De.resolve(R.Un.get(x)):R.ze.getTargetData(T,S)}(s,p,is(n)).next(E=>{if(E)return l=E.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(p,E.targetId).next(T=>{d=T})}).next(()=>s.Bn.getDocumentsMatchingQuery(p,n,r?l:bt.min(),r?d:Yt())).next(E=>({documents:E,Gn:d})))}function xT(i,n){const r=Be(i),s=Be(r.ze),l=r.Un.get(n);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",d=>s.Et(d,n).next(p=>p?p.target:null))}function MN(i){const n=Be(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(s,l,d){const p=Be(s);let E=os(),T=Ap(d);const S=fu(l),R=IDBKeyRange.lowerBound(T,!0);return S.Kt({index:Fn.readTimeIndex,range:R},(x,B)=>{const H=Pw(p.N,B);E=E.insert(H.key,H),T=B.readTime}).next(()=>({Tn:E,readTime:_T(T)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:s})=>(n.Kn=s,r))}function Zw(){return(Zw=(0,be.Z)(function*(i){const n=Be(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(s){const l=fu(s);let d=bt.min();return l.Kt({index:Fn.readTimeIndex,reverse:!0},(p,E,T)=>{E.readTime&&(d=_T(E.readTime)),T.done()}).next(()=>d)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function Qw(){return(Qw=(0,be.Z)(function*(i,n,r,s){const l=Be(i);let d=Yt(),p=os(),E=nT();for(const R of r){const x=n.zn(R.metadata.name);R.document&&(d=d.add(x)),p=p.insert(x,n.Hn(R)),E=E.insert(x,n.Jn(R.metadata.readTime))}const T=l.jn.newChangeBuffer({trackRemovals:!0}),S=yield Jd(l,(R=s,is(Fd(jt.fromString(`__bundle__/docs/${R}`)))));var R;return l.persistence.runTransaction("Apply bundle documents","readwrite",R=>xN(R,T,p,bt.min(),E).next(x=>(T.apply(R),x)).next(x=>l.ze.removeMatchingKeysForTargetId(R,S.targetId).next(()=>l.ze.addMatchingKeys(R,d,S.targetId)).next(()=>l.Qn.vn(R,x)).next(()=>x)))})).apply(this,arguments)}function MT(i,n){return Jw.apply(this,arguments)}function Jw(){return(Jw=(0,be.Z)(function*(i,n,r=Yt()){const s=yield Jd(i,is(Rp(n.bundledQuery))),l=Be(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const p=yr(n.readTime);if(s.snapshotVersion.compareTo(p)>=0)return l.Je.saveNamedQuery(d,n);const E=s.withResumeToken(mr.EMPTY_BYTE_STRING,p);return l.Un=l.Un.insert(E.targetId,E),l.ze.updateTargetData(d,E).next(()=>l.ze.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.ze.addMatchingKeys(d,r,s.targetId)).next(()=>l.Je.saveNamedQuery(d,n))})})).apply(this,arguments)}class PN{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return De.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var s;return this.Yn.set(r.id,{id:(s=r).id,version:s.version,createTime:yr(s.createTime)}),De.resolve()}getNamedQuery(n,r){return De.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(s=r).name,query:Rp(s.bundledQuery),readTime:yr(s.readTime)}),De.resolve();var s}}class Xw{constructor(){this.Zn=new yn(_r.ts),this.es=new yn(_r.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const s=new _r(n,r);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(n,r){n.forEach(s=>this.addReference(s,r))}removeReference(n,r){this.rs(new _r(n,r))}os(n,r){n.forEach(s=>this.removeReference(s,r))}cs(n){const r=new Qe(new jt([])),s=new _r(r,n),l=new _r(r,n+1),d=[];return this.es.forEachInRange([s,l],p=>{this.rs(p),d.push(p.key)}),d}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new Qe(new jt([])),s=new _r(r,n),l=new _r(r,n+1);let d=Yt();return this.es.forEachInRange([s,l],p=>{d=d.add(p.key)}),d}containsKey(n){const r=new _r(n,0),s=this.Zn.firstAfterOrEqual(r);return null!==s&&n.isEqual(s.key)}}class _r{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return Qe.comparator(n.key,r.key)||Ot(n.ls,r.ls)}static ns(n,r){return Ot(n.ls,r.ls)||Qe.comparator(n.key,r.key)}}class kN{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new yn(_r.ts)}checkEmpty(n){return De.resolve(0===this.In.length)}addMutationBatch(n,r,s,l){const d=this.fs;this.fs++;const p=new gT(d,r,s,l);this.In.push(p);for(const E of l)this.ds=this.ds.add(new _r(E.key,d)),this.Ht.addToCollectionParentIndex(n,E.key.path.popLast());return De.resolve(p)}lookupMutationBatch(n,r){return De.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const l=this._s(r+1),d=l<0?0:l;return De.resolve(this.In.length>d?this.In[d]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return De.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const s=new _r(r,0),l=new _r(r,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([s,l],p=>{const E=this.ws(p.ls);d.push(E)}),De.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new yn(Ot);return r.forEach(l=>{const d=new _r(l,0),p=new _r(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,p],E=>{s=s.add(E.ls)})}),De.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,l=s.length+1;let d=s;Qe.isDocumentKey(d)||(d=d.child(""));const p=new _r(new Qe(d),0);let E=new yn(Ot);return this.ds.forEachWhile(T=>{const S=T.key.path;return!!s.isPrefixOf(S)&&(S.length===l&&(E=E.add(T.ls)),!0)},p),De.resolve(this.gs(E))}gs(n){const r=[];return n.forEach(s=>{const l=this.ws(s);null!==l&&r.push(l)}),r}removeMutationBatch(n,r){$e(0===this.ys(r.batchId,"removed")),this.In.shift();let s=this.ds;return De.forEach(r.mutations,l=>{const d=new _r(l.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)}).next(()=>{this.ds=s})}te(n){}containsKey(n,r){const s=new _r(r,0),l=this.ds.firstAfterOrEqual(s);return De.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(n){return De.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class FN{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new ar(Qe.comparator),this.size=0}addEntry(n,r,s){const l=r.key,d=this.docs.get(l),p=d?d.size:0,E=this.ps(r);return this.docs=this.docs.insert(l,{document:r.clone(),size:E,readTime:s}),this.size+=E-p,this.Ht.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const s=this.docs.get(r);return De.resolve(s?s.document.clone():mn.newInvalidDocument(r))}getEntries(n,r){let s=os();return r.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.clone():mn.newInvalidDocument(l))}),De.resolve(s)}getDocumentsMatchingQuery(n,r,s){let l=os();const d=new Qe(r.path.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:E,value:{document:T,readTime:S}}=p.getNext();if(!r.path.isPrefixOf(E.path))break;S.compareTo(s)<=0||gp(r,T)&&(l=l.insert(T.key,T.clone()))}return De.resolve(l)}Es(n,r){return De.forEach(this.docs,s=>r(s))}newChangeBuffer(n){return new LN(this)}getSize(n){return De.resolve(this.size)}}class LN extends Ky{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((s,l)=>{l.document.isValidDocument()?r.push(this.Se.addEntry(n,l.document,this.getReadTime(s))):this.Se.removeEntry(s)}),De.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class VN{constructor(n){this.persistence=n,this.Ts=new xp(r=>cp(r),dp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Is=0,this.As=new Xw,this.targetCount=0,this.Rs=Os.se()}forEachTarget(n,r){return this.Ts.forEach((s,l)=>r(l)),De.resolve()}getLastRemoteSnapshotVersion(n){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return De.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(n,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Is&&(this.Is=r),De.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new Os(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,De.resolve()}updateTargetData(n,r){return this.ae(r),De.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,De.resolve()}removeTargets(n,r,s){let l=0;const d=[];return this.Ts.forEach((p,E)=>{E.sequenceNumber<=r&&null===s.get(E.targetId)&&(this.Ts.delete(p),d.push(this.removeMatchingKeysForTargetId(n,E.targetId)),l++)}),De.waitFor(d).next(()=>l)}getTargetCount(n){return De.resolve(this.targetCount)}getTargetData(n,r){const s=this.Ts.get(r)||null;return De.resolve(s)}addMatchingKeys(n,r,s){return this.As.ss(r,s),De.resolve()}removeMatchingKeys(n,r,s){this.As.os(r,s);const l=this.persistence.referenceDelegate,d=[];return l&&r.forEach(p=>{d.push(l.markPotentiallyOrphaned(n,p))}),De.waitFor(d)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),De.resolve()}getMatchingKeysForTargetId(n,r){const s=this.As.hs(r);return De.resolve(s)}containsKey(n,r){return De.resolve(this.As.containsKey(r))}}class Pp{constructor(n,r){this.bs={},this.Le=new Dr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new VN(this),this.Ht=new Fw,this.He=new FN(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new Ar(r),this.Je=new PN(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new kN(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,s){Fe("MemoryPersistence","Starting transaction:",n);const l=new PT(this.Le.next());return this.referenceDelegate.vs(),s(l).next(d=>this.referenceDelegate.Vs(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Ss(n,r){return De.or(Object.values(this.bs).map(s=>()=>s.containsKey(n,r)))}}class PT extends xw{constructor(n){super(),this.currentSequenceNumber=n}}class Jy{constructor(n){this.persistence=n,this.Ds=new Xw,this.Cs=null}static Ns(n){return new Jy(n)}get xs(){if(this.Cs)return this.Cs;throw qe()}addReference(n,r,s){return this.Ds.addReference(s,r),this.xs.delete(s.toString()),De.resolve()}removeReference(n,r,s){return this.Ds.removeReference(s,r),this.xs.add(s.toString()),De.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),De.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(l=>this.xs.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,r.targetId).next(l=>{l.forEach(d=>this.xs.add(d.toString()))}).next(()=>s.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.xs,s=>{const l=Qe.fromPath(s);return this.ks(n,l).next(d=>{d||r.removeEntry(l)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(s=>{s?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return De.or([()=>De.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function e0(i,n){return`firestore_clients_${i}_${n}`}function t0(i,n,r){let s=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function Xy(i,n){return`firestore_targets_${i}_${n}`}class kp{constructor(n,r,s,l){this.user=n,this.batchId=r,this.state=s,this.error=l}static $s(n,r,s){const l=JSON.parse(s);let d,p="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return p&&l.error&&(p="string"==typeof l.error.message&&"string"==typeof l.error.code,p&&(d=new Re(l.error.code,l.error.message))),p?new kp(n,r,l.state,d):(Nn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Fp{constructor(n,r,s){this.targetId=n,this.state=r,this.error=s}static $s(n,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Re(s.error.code,s.error.message))),d?new Fp(n,s.state,l):(Nn("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Lp{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=By();for(let p=0;l&&p<s.activeTargetIds.length;++p)l=FI(s.activeTargetIds[p]),d=d.add(s.activeTargetIds[p]);return l?new Lp(n,d):(Nn("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class n0{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new n0(r.clientId,r.onlineState):(Nn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class r0{constructor(){this.activeTargetIds=By()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class s0{constructor(n,r,s,l,d){this.window=n,this.Oe=r,this.persistenceKey=s,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ar(Ot),this.started=!1,this.Ks=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.js=e0(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new r0),this.Ws=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(E){return`firestore_bundle_loaded_${E}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,be.Z)(function*(){const r=yield n.syncEngine.pn();for(const l of r){if(l===n.Ls)continue;const d=n.getItem(e0(n.persistenceKey,l));if(d){const p=Lp.$s(l,d);p&&(n.qs=n.qs.insert(p.clientId,p))}}n.Ys();const s=n.storage.getItem(n.Hs);if(s){const l=n.Xs(s);l&&n.Zs(l)}for(const l of n.Ks)n.Us(l);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((s,l)=>{l.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,s){this.ei(n,r,s),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const s=this.storage.getItem(Xy(this.persistenceKey,n));if(s){const l=Fp.$s(n,s);l&&(r=l.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Xy(this.persistenceKey,n))}updateQueryState(n,r,s){this.ii(n,r,s)}handleUserChange(n,r,s){r.forEach(l=>{this.ni(l)}),this.currentUser=n,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Fe("SharedClientState","READ",n,r),r}setItem(n,r){Fe("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Fe("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const s=n;if(s.storageArea===this.storage){if(Fe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void Nn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,be.Z)(function*(){if(r.started){if(null!==s.key)if(r.Ws.test(s.key)){if(null==s.newValue){const l=r.ai(s.key);return r.ci(l,null)}{const l=r.ui(s.key,s.newValue);if(l)return r.ci(l.clientId,l)}}else if(r.Gs.test(s.key)){if(null!==s.newValue){const l=r.hi(s.key,s.newValue);if(l)return r.li(l)}}else if(r.zs.test(s.key)){if(null!==s.newValue){const l=r.fi(s.key,s.newValue);if(l)return r.di(l)}}else if(s.key===r.Hs){if(null!==s.newValue){const l=r.Xs(s.newValue);if(l)return r.Zs(l)}}else if(s.key===r.Qs){const l=function(d){let p=Dr.T;if(null!=d)try{const E=JSON.parse(d);$e("number"==typeof E),p=E}catch(E){Nn("SharedClientState","Failed to read sequence number from WebStorage",E)}return p}(s.newValue);l!==Dr.T&&r.sequenceNumberHandler(l)}else if(s.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,s){const l=new kp(this.currentUser,n,r,s),d=t0(this.persistenceKey,this.currentUser,n);this.setItem(d,l.Os())}ni(n){const r=t0(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,s){const l=Xy(this.persistenceKey,n),d=new Fp(n,r,s);this.setItem(l,d.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const s=this.ai(n);return Lp.$s(s,r)}hi(n,r){const s=this.Gs.exec(n),l=Number(s[1]);return kp.$s(new pr(void 0!==s[2]?s[2]:null),l,r)}fi(n,r){const s=this.zs.exec(n),l=Number(s[1]);return Fp.$s(l,r)}Xs(n){return n0.$s(n)}li(n){var r=this;return(0,be.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const s=r?this.qs.insert(n,r):this.qs.remove(n),l=this.ti(this.qs),d=this.ti(s),p=[],E=[];return d.forEach(T=>{l.has(T)||p.push(T)}),l.forEach(T=>{d.has(T)||E.push(T)}),this.syncEngine.gi(p,E).then(()=>{this.qs=s})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=By();return n.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class kT{constructor(){this.yi=new r0,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,s){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,s){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new r0,Promise.resolve()}handleUserChange(n,r,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class Vp{Ei(n){}shutdown(){}}class Xd{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const UN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class o0{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class _o extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,s,l){const d=this.Bi(n,r);Fe("RestConnection","Sending: ",d,s);const p={};return this.Ui(p,l),this.qi(n,d,p,s).then(E=>(Fe("RestConnection","Received: ",E),E),E=>{throw rp("RestConnection",`${n} failed with error: `,E,"url: ",d,"request:",s),E})}Ki(n,r,s,l){return this.Li(n,r,s,l)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+np,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const s in r.authHeaders)r.authHeaders.hasOwnProperty(s)&&(n[s]=r.authHeaders[s])}Bi(n,r){return`${this.Fi}/v1/${r}:${UN[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,s,l){return new Promise((d,p)=>{const E=new Sy;E.listenOnce(ru.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case xd.NO_ERROR:const S=E.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(S)),d(S);break;case xd.TIMEOUT:Fe("Connection",'RPC "'+n+'" timed out'),p(new Re(he.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const R=E.getStatus();if(Fe("Connection",'RPC "'+n+'" failed with status:',R,"response text:",E.getResponseText()),R>0){const x=E.getResponseJson().error;if(x&&x.status&&x.message){const B=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(X)>=0?X:he.UNKNOWN}(x.status);p(new Re(B,x.message))}else p(new Re(he.UNKNOWN,"Server responded with status "+E.getStatus()))}else p(new Re(he.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Fe("Connection",'RPC "'+n+'" completed.')}});const T=JSON.stringify(l);E.send(r,"POST",T,s,15)})}ji(n,r){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=new tp,d=uy(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new kl({})),this.Ui(p.initMessageHeaders,r),(0,Bt.uI)()||(0,Bt.b$)()||(0,Bt.d)()||(0,Bt.w1)()||(0,Bt.Mn)()||(0,Bt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const E=s.join("");Fe("Connection","Creating WebChannel: "+E,p);const T=l.createWebChannel(E,p);let S=!1,R=!1;const x=new o0({vi:H=>{R?Fe("Connection","Not sending because WebChannel is closed:",H):(S||(Fe("Connection","Opening WebChannel transport."),T.open(),S=!0),Fe("Connection","WebChannel sending:",H),T.send(H))},Vi:()=>T.close()}),B=(H,X,ve)=>{H.listen(X,Ne=>{try{ve(Ne)}catch(et){setTimeout(()=>{throw et},0)}})};return B(T,Dy.EventType.OPEN,()=>{R||Fe("Connection","WebChannel transport opened.")}),B(T,Dy.EventType.CLOSE,()=>{R||(R=!0,Fe("Connection","WebChannel transport closed"),x.$i())}),B(T,Dy.EventType.ERROR,H=>{R||(R=!0,rp("Connection","WebChannel transport errored:",H),x.$i(new Re(he.UNAVAILABLE,"The operation could not be completed")))}),B(T,Dy.EventType.MESSAGE,H=>{var X;if(!R){const ve=H.data[0];$e(!!ve);const Ne=ve,et=Ne.error||(null===(X=Ne[0])||void 0===X?void 0:X.error);if(et){Fe("Connection","WebChannel received error:",et);const it=et.status;let st=function($n){const $i=Yn[$n];if(void 0!==$i)return vp($i)}(it),Et=et.message;void 0===st&&(st=he.INTERNAL,Et="Unknown error status: "+it+" with message "+et.message),R=!0,x.$i(new Re(st,Et)),T.close()}else Fe("Connection","WebChannel received:",ve),x.Oi(ve)}}),B(d,AI.STAT_EVENT,H=>{H.stat===ow_PROXY?Fe("Connection","Detected buffering proxy"):H.stat===ow_NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.ki()},0),x}}function FT(){return"undefined"!=typeof window?window:null}function Zl(){return"undefined"!=typeof document?document:null}function Up(i){return new yN(i,!0)}class a0{constructor(n,r,s=1e3,l=1.5,d=6e4){this.Oe=n,this.timerId=r,this.Qi=s,this.Wi=l,this.Gi=d,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),l=Math.max(0,r-s);l>0&&Fe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class BN{constructor(n,r,s,l,d,p){this.Oe=n,this.er=s,this.nr=l,this.credentialsProvider=d,this.listener=p,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new a0(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,be.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,be.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var s=this;return(0,be.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==n?s.rr.reset():r&&r.code===he.RESOURCE_EXHAUSTED?(Nn(r.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):r&&r.code===he.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===r&&this.yr(s)},s=>{n(()=>{const l=new Re(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(l)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{r(()=>this.pr(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}ur(){var n=this;this.state=4,this.rr.Xi((0,be.Z)(function*(){n.state=0,n.start()}))}pr(n){return Fe("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u0 extends BN{constructor(n,r,s,l,d){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,s,d),this.N=l}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const s="NO_CHANGE"===(T=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:qe(),l=n.targetChange.targetIds||[],d=function(T,S){return T.D?($e(void 0===S||"string"==typeof S),mr.fromBase64String(S||"")):($e(void 0===S||S instanceof Uint8Array),mr.fromUint8Array(S||new Uint8Array))}(i,n.targetChange.resumeToken),p=n.targetChange.cause,E=p&&function(T){const S=void 0===T.code?he.UNKNOWN:vp(T.code);return new Re(S,T.message||"")}(p);r=new jd(s,l,d,E||null)}else if("documentChange"in n){const s=n.documentChange,l=as(i,s.document.name),d=yr(s.document.updateTime),p=new Sr({mapValue:{fields:s.document.fields}}),E=mn.newFoundDocument(l,d,p);r=new Iw(s.targetIds||[],s.removedTargetIds||[],E.key,E)}else if("documentDelete"in n){const s=n.documentDelete,l=as(i,s.document),d=s.readTime?yr(s.readTime):bt.min(),p=mn.newNoDocument(l,d);r=new Iw([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in n){const s=n.documentRemove,l=as(i,s.document);r=new Iw([],s.removedTargetIds||[],l,null)}else{if(!("filter"in n))return qe();{const s=n.filter,d=new tT(s.count||0);r=new rT(s.targetId,d)}}var T;return r}(this.N,n),s=function(l){if(!("targetChange"in l))return bt.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?yr(d.readTime):bt.min()}(n);return this.listener.Tr(r,s)}Ir(n){const r={};r.database=Ip(this.N),r.addTarget=function(l,d){let p;const E=d.target;return p=Ry(E)?{documents:$t(l,E)}:{query:fa(l,E)},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?p.resumeToken=aT(l,d.resumeToken):d.snapshotVersion.compareTo(bt.min())>0&&(p.readTime=jy(l,d.snapshotVersion.toTimestamp())),p}(this.N,n);const s=function(i,n){const r=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qe()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);s&&(r.labels=s),this.wr(r)}Ar(n){const r={};r.database=Ip(this.N),r.removeTarget=n,this.wr(r)}}class l0 extends BN{constructor(n,r,s,l,d){super(n,"write_stream_connection_backoff","write_stream_idle",r,s,d),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if($e(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?($e(void 0!==n),i.map(r=>function(s,l){let d=yr(s.updateTime?s.updateTime:l);return d.isEqual(bt.min())&&(d=yr(l)),new cN(d,s.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),s=yr(n.commitTime);return this.listener.vr(s,r)}return $e(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=Ip(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(s=>$l(this.N,s))};this.wr(r)}}class LT extends class{}{constructor(n,r,s){super(),this.credentials=n,this.nr=r,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(n,r,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===he.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Re(he.UNKNOWN,l.toString())})}Ki(n,r,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(n,r,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===he.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Re(he.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class c0{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Nn(r),this.$r=!1):Fe("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class d0{constructor(n,r,s,l,d){var p=this;this.localStore=n,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=d,this.Qr.Ei(E=>{s.enqueueAndForget((0,be.Z)(function*(){var T;pu(p)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(T=(0,be.Z)(function*(S){const R=Be(S);R.Kr.add(4),yield eh(R),R.Wr.set("Unknown"),R.Kr.delete(4),yield Bp(R)}),function(S){return T.apply(this,arguments)})(p))}))}),this.Wr=new c0(s,l)}}function Bp(i){return h0.apply(this,arguments)}function h0(){return(h0=(0,be.Z)(function*(i){if(pu(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function eh(i){return f0.apply(this,arguments)}function f0(){return(f0=(0,be.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function jp(i,n){const r=Be(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),n_(r)?t_(r):Jl(r).cr()&&e_(r,n))}function Yl(i,n){const r=Be(i),s=Jl(r);r.qr.delete(n),s.cr()&&VT(r,n),0===r.qr.size&&(s.cr()?s.lr():pu(r)&&r.Wr.set("Unknown"))}function e_(i,n){i.Gr.Y(n.targetId),Jl(i).Ir(n)}function VT(i,n){i.Gr.Y(n),Jl(i).Ar(n)}function t_(i){i.Gr=new mN({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),Jl(i).start(),i.Wr.Or()}function n_(i){return pu(i)&&!Jl(i).ar()&&i.qr.size>0}function pu(i){return 0===Be(i).Kr.size}function p0(i){i.Gr=void 0}function UT(i){return g0.apply(this,arguments)}function g0(){return(g0=(0,be.Z)(function*(i){i.qr.forEach((n,r)=>{e_(i,n)})})).apply(this,arguments)}function BT(i,n){return m0.apply(this,arguments)}function m0(){return(m0=(0,be.Z)(function*(i,n){p0(i),n_(i)?(i.Wr.Lr(n),t_(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function pO(i,n,r){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,be.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof jd&&2===n.state&&n.cause)try{yield(s=(0,be.Z)(function*(l,d){const p=d.cause;for(const E of d.targetIds)l.qr.has(E)&&(yield l.remoteSyncer.rejectListen(E,p),l.qr.delete(E),l.Gr.removeTarget(E))}),function(l,d){return s.apply(this,arguments)})(i,n)}catch(s){Fe("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield ga(i,s)}else if(n instanceof Iw?i.Gr.rt(n):n instanceof rT?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(bt.min()))try{const s=yield Kw(i.localStore);r.compareTo(s)>=0&&(yield function(l,d){const p=l.Gr._t(d);return p.targetChanges.forEach((E,T)=>{if(E.resumeToken.approximateByteSize()>0){const S=l.qr.get(T);S&&l.qr.set(T,S.withResumeToken(E.resumeToken,d))}}),p.targetMismatches.forEach(E=>{const T=l.qr.get(E);if(!T)return;l.qr.set(E,T.withResumeToken(mr.EMPTY_BYTE_STRING,T.snapshotVersion)),VT(l,E);const S=new cu(T.target,E,1,T.sequenceNumber);e_(l,S)}),l.remoteSyncer.applyRemoteEvent(p)}(i,r))}catch(s){Fe("RemoteStore","Failed to raise snapshot:",s),yield ga(i,s)}var s})).apply(this,arguments)}function ga(i,n,r){return y0.apply(this,arguments)}function y0(){return(y0=(0,be.Z)(function*(i,n,r){if(!Gd(n))throw n;i.Kr.add(1),yield eh(i),i.Wr.set("Offline"),r||(r=()=>Kw(i.localStore)),i.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield Bp(i)}))})).apply(this,arguments)}function jT(i,n){return n().catch(r=>ga(i,r,n))}function $p(i){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,be.Z)(function*(i){const n=Be(i),r=ks(n);let s=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;jN(n);)try{const l=yield ON(n.localStore,s);if(null===l){0===n.Ur.length&&r.lr();break}s=l.batchId,_0(n,l)}catch(l){yield ga(n,l)}$T(n)&&v0(n)})).apply(this,arguments)}function jN(i){return pu(i)&&i.Ur.length<10}function _0(i,n){i.Ur.push(n);const r=ks(i);r.cr()&&r.br&&r.Pr(n.mutations)}function $T(i){return pu(i)&&!ks(i).ar()&&i.Ur.length>0}function v0(i){ks(i).start()}function $N(i){return E0.apply(this,arguments)}function E0(){return(E0=(0,be.Z)(function*(i){ks(i).Sr()})).apply(this,arguments)}function w0(i){return r_.apply(this,arguments)}function r_(){return(r_=(0,be.Z)(function*(i){const n=ks(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function HT(i,n,r){return th.apply(this,arguments)}function th(){return(th=(0,be.Z)(function*(i,n,r){const s=i.Ur.shift(),l=mT.from(s,n,r);yield jT(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield $p(i)})).apply(this,arguments)}function b0(i,n){return GT.apply(this,arguments)}function GT(){return(GT=(0,be.Z)(function*(i,n){var r;n&&ks(i).br&&(yield(r=(0,be.Z)(function*(s,l){if(bw(d=l.code)&&d!==he.ABORTED){const p=s.Ur.shift();ks(s).hr(),yield jT(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,l)),yield $p(s)}var d}),function(s,l){return r.apply(this,arguments)})(i,n)),$T(i)&&v0(i)})).apply(this,arguments)}function i_(i,n){return C0.apply(this,arguments)}function C0(){return(C0=(0,be.Z)(function*(i,n){const r=Be(i);n?(r.Kr.delete(2),yield Bp(r)):n||(r.Kr.add(2),yield eh(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function Jl(i){return i.zr||(i.zr=function(n,r,s){const l=Be(n);return l.Cr(),new u0(r,l.nr,l.credentials,l.N,s)}(i.datastore,i.asyncQueue,{Si:UT.bind(null,i),Ci:BT.bind(null,i),Tr:pO.bind(null,i)}),i.jr.push(function(){var n=(0,be.Z)(function*(r){r?(i.zr.hr(),n_(i)?t_(i):i.Wr.set("Unknown")):(yield i.zr.stop(),p0(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function ks(i){return i.Hr||(i.Hr=function(n,r,s){const l=Be(n);return l.Cr(),new l0(r,l.nr,l.credentials,l.N,s)}(i.datastore,i.asyncQueue,{Si:$N.bind(null,i),Ci:b0.bind(null,i),Vr:w0.bind(null,i),vr:HT.bind(null,i)}),i.jr.push(function(){var n=(0,be.Z)(function*(r){r?(i.Hr.hr(),yield $p(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Fe("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class s_{constructor(n,r,s,l,d){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(n,r,s,l,d){const p=Date.now()+s,E=new s_(n,r,p,l,d);return E.start(s),E}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(he.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nh(i,n){if(Nn("AsyncQueue",`${n}: ${i}`),Gd(i))return new Re(he.UNAVAILABLE,`${n}: ${i}`);throw i}class gu{constructor(n){this.comparator=n?(r,s)=>n(r,s)||Qe.comparator(r.key,s.key):(r,s)=>Qe.comparator(r.key,s.key),this.keyedMap=Cw(),this.sortedSet=new ar(this.comparator)}static emptySet(n){return new gu(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,s)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof gu)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const s=new gu;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=r,s}}class o_{constructor(){this.Jr=new ar(Qe.comparator)}track(n){const r=n.doc.key,s=this.Jr.get(r);s?0!==n.type&&3===s.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==s.type?this.Jr=this.Jr.insert(r,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.Jr=this.Jr.remove(r):1===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):qe():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,s)=>{n.push(s)}),n}}class rh{constructor(n,r,s,l,d,p,E,T){this.query=n,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=E,this.excludesMetadataChanges=T}static fromInitialDocuments(n,r,s,l){const d=[];return r.forEach(p=>{d.push({type:0,doc:p})}),new rh(n,r,gu.emptySet(r),d,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Ul(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,s=n.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class HN{constructor(){this.Xr=void 0,this.listeners=[]}}class qT{constructor(){this.queries=new xp(n=>zI(n),Ul),this.onlineState="Unknown",this.Zr=new Set}}function a_(i,n){return u_.apply(this,arguments)}function u_(){return(u_=(0,be.Z)(function*(i,n){const r=Be(i),s=n.query;let l=!1,d=r.queries.get(s);if(d||(l=!0,d=new HN),l)try{d.Xr=yield r.onListen(s)}catch(p){const E=nh(p,`Initialization of query '${ky(n.query)}' failed`);return void n.onError(E)}r.queries.set(s,d),d.listeners.push(n),n.eo(r.onlineState),d.Xr&&n.no(d.Xr)&&T0(r)})).apply(this,arguments)}function I0(i,n){return l_.apply(this,arguments)}function l_(){return(l_=(0,be.Z)(function*(i,n){const r=Be(i),s=n.query;let l=!1;const d=r.queries.get(s);if(d){const p=d.listeners.indexOf(n);p>=0&&(d.listeners.splice(p,1),l=0===d.listeners.length)}if(l)return r.queries.delete(s),r.onUnlisten(s)})).apply(this,arguments)}function zT(i,n){const r=Be(i);let s=!1;for(const l of n){const p=r.queries.get(l.query);if(p){for(const E of p.listeners)E.no(l)&&(s=!0);p.Xr=l}}s&&T0(r)}function GN(i,n,r){const s=Be(i),l=s.queries.get(n);if(l)for(const d of l.listeners)d.onError(r);s.queries.delete(n)}function T0(i){i.Zr.forEach(n=>{n.next()})}class c_{constructor(n,r,s){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(n){if(!this.options.includeMetadataChanges){const s=[];for(const l of n.docChanges)3!==l.type&&s.push(l);n=new rh(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=rh.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class qN{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class D0{constructor(n){this.N=n}zn(n){return as(this.N,n)}Hn(n){return n.metadata.exists?lT(this.N,n.document,!1):mn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return yr(n)}}class WT{constructor(n,r,s){this.lo=n,this.localStore=r,this.N=s,this.queries=[],this.documents=[],this.progress=S0(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,s=new D0(this.N);for(const l of n)if(l.metadata.queries){const d=s.zn(l.metadata.name);for(const p of l.metadata.queries){const E=(r.get(p)||Yt()).add(d);r.set(p,E)}}return r}complete(){var n=this;return(0,be.Z)(function*(){const r=yield function(i,n,r,s){return Qw.apply(this,arguments)}(n.localStore,new D0(n.N),n.documents,n.lo.id),s=n.wo(n.documents);for(const l of n.queries)yield MT(n.localStore,l,s.get(l.name));return n.progress.taskState="Success",new Ms(Object.assign({},n.progress),r)})()}}function S0(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class A0{constructor(n){this.key=n}}class KT{constructor(n){this.key=n}}class ZT{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=Yt(),this.mutatedKeys=Yt(),this.po=yw(n),this.Eo=new gu(this.po)}get To(){return this._o}Io(n,r){const s=r?r.Ao:new o_,l=r?r.Eo:this.Eo;let d=r?r.mutatedKeys:this.mutatedKeys,p=l,E=!1;const T=Oy(this.query)&&l.size===this.query.limit?l.last():null,S=My(this.query)&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal((R,x)=>{const B=l.get(R),H=gp(this.query,x)?x:null,X=!!B&&this.mutatedKeys.has(B.key),ve=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Ne=!1;B&&H?B.data.isEqual(H.data)?X!==ve&&(s.track({type:3,doc:H}),Ne=!0):this.Ro(B,H)||(s.track({type:2,doc:H}),Ne=!0,(T&&this.po(H,T)>0||S&&this.po(H,S)<0)&&(E=!0)):!B&&H?(s.track({type:0,doc:H}),Ne=!0):B&&!H&&(s.track({type:1,doc:B}),Ne=!0,(T||S)&&(E=!0)),Ne&&(H?(p=p.add(H),d=ve?d.add(R):d.delete(R)):(p=p.delete(R),d=d.delete(R)))}),Oy(this.query)||My(this.query))for(;p.size>this.query.limit;){const R=Oy(this.query)?p.last():p.first();p=p.delete(R.key),d=d.delete(R.key),s.track({type:1,doc:R})}return{Eo:p,Ao:s,Ln:E,mutatedKeys:d}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,s){const l=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const d=n.Ao.Yr();d.sort((S,R)=>function(x,B){const H=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return H(x)-H(B)}(S.type,R.type)||this.po(S.doc,R.doc)),this.bo(s);const p=r?this.Po():[],E=0===this.yo.size&&this.current?1:0,T=E!==this.mo;return this.mo=E,0!==d.length||T?{snapshot:new rh(this.query,n.Eo,l,d,n.mutatedKeys,0===E,T,!1),vo:p}:{vo:p}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new o_,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=Yt(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const r=[];return n.forEach(s=>{this.yo.has(s)||r.push(new KT(s))}),this.yo.forEach(s=>{n.has(s)||r.push(new A0(s))}),r}So(n){this._o=n.Gn,this.yo=Yt();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return rh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class zN{constructor(n,r,s){this.query=n,this.targetId=r,this.view=s}}class YT{constructor(n){this.key=n,this.Co=!1}}class gO{constructor(n,r,s,l,d,p){this.localStore=n,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.No={},this.xo=new xp(E=>zI(E),Ul),this.ko=new Map,this.$o=new Set,this.Oo=new ar(Qe.comparator),this.Fo=new Map,this.Mo=new Xw,this.Lo={},this.Bo=new Map,this.Uo=Os.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function mO(i,n){return QT.apply(this,arguments)}function QT(){return(QT=(0,be.Z)(function*(i,n){const r=hD(i);let s,l;const d=r.xo.get(n);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),l=d.view.Do();else{const p=yield Jd(r.localStore,is(n)),E=r.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,l=yield JT(r,n,s,"current"===E),r.isPrimaryClient&&jp(r.remoteStore,p)}return l})).apply(this,arguments)}function JT(i,n,r,s){return XT.apply(this,arguments)}function XT(){return(XT=(0,be.Z)(function*(i,n,r,s){i.Ko=(R,x,B)=>{return(H=(0,be.Z)(function*(X,ve,Ne,et){let it=ve.view.Io(Ne);it.Ln&&(it=yield Mp(X.localStore,ve.query,!1).then(({documents:$n})=>ve.view.Io($n,it)));const st=et&&et.targetChanges.get(ve.targetId),Et=ve.view.applyChanges(it,X.isPrimaryClient,st);return x0(X,ve.targetId,Et.vo),Et.snapshot}),function(X,ve,Ne,et){return H.apply(this,arguments)})(i,R,x,B);var H};const l=yield Mp(i.localStore,n,!0),d=new ZT(n,l.Gn),p=d.Io(l.documents),E=bp.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState),T=d.applyChanges(p,i.isPrimaryClient,E);x0(i,r,T.vo);const S=new zN(n,r,d);return i.xo.set(n,S),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),T.snapshot})).apply(this,arguments)}function yO(i,n){return eD.apply(this,arguments)}function eD(){return(eD=(0,be.Z)(function*(i,n){const r=Be(i),s=r.xo.get(n),l=r.ko.get(s.targetId);if(l.length>1)return r.ko.set(s.targetId,l.filter(d=>!Ul(d,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ps(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),Yl(r.remoteStore,s.targetId),Hp(r,s.targetId)}).catch(Kl))):(Hp(r,s.targetId),yield Ps(r.localStore,s.targetId,!0))})).apply(this,arguments)}function tD(){return(tD=(0,be.Z)(function*(i,n,r){const s=F0(i);try{const l=yield function(d,p){const E=Be(d),T=sr.now(),S=p.reduce((x,B)=>x.add(B.key),Yt());let R;return E.persistence.runTransaction("Locally write mutations","readwrite",x=>E.Qn.Pn(x,S).next(B=>{R=B;const H=[];for(const X of p){const ve=QI(X,R.get(X.key));null!=ve&&H.push(new Bl(X.key,ve,UI(ve.value.mapValue),or.exists(!0)))}return E.In.addMutationBatch(x,T,H,p)})).then(x=>(x.applyToLocalDocumentSet(R),{batchId:x.batchId,changes:R}))}(s.localStore,n);s.sharedClientState.addPendingMutation(l.batchId),function(d,p,E){let T=d.Lo[d.currentUser.toKey()];T||(T=new ar(Ot)),T=T.insert(p,E),d.Lo[d.currentUser.toKey()]=T}(s,l.batchId,r),yield mu(s,l.changes),yield $p(s.remoteStore)}catch(l){const d=nh(l,"Failed to persist write");r.reject(d)}})).apply(this,arguments)}function WN(i,n){return nD.apply(this,arguments)}function nD(){return(nD=(0,be.Z)(function*(i,n){const r=Be(i);try{const s=yield RN(r.localStore,n);n.targetChanges.forEach((l,d)=>{const p=r.Fo.get(d);p&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?p.Co=!0:l.modifiedDocuments.size>0?$e(p.Co):l.removedDocuments.size>0&&($e(p.Co),p.Co=!1))}),yield mu(r,s,n)}catch(s){yield Kl(s)}})).apply(this,arguments)}function KN(i,n,r){const s=Be(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.xo.forEach((d,p)=>{const E=p.view.eo(n);E.snapshot&&l.push(E.snapshot)}),function(d,p){const E=Be(d);E.onlineState=p;let T=!1;E.queries.forEach((S,R)=>{for(const x of R.listeners)x.eo(p)&&(T=!0)}),T&&T0(E)}(s.eventManager,n),l.length&&s.No.Tr(l),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function vO(i,n,r){return rD.apply(this,arguments)}function rD(){return(rD=(0,be.Z)(function*(i,n,r){const s=Be(i);s.sharedClientState.updateQueryState(n,"rejected",r);const l=s.Fo.get(n),d=l&&l.key;if(d){let p=new ar(Qe.comparator);p=p.insert(d,mn.newNoDocument(d,bt.min()));const E=Yt().add(d),T=new wp(bt.min(),new Map,new yn(Ot),p,E);yield WN(s,T),s.Oo=s.Oo.remove(d),s.Fo.delete(n),uD(s)}else yield Ps(s.localStore,n,!1).then(()=>Hp(s,n,r)).catch(Kl)})).apply(this,arguments)}function EO(i,n){return iD.apply(this,arguments)}function iD(){return(iD=(0,be.Z)(function*(i,n){const r=Be(i),s=n.batch.batchId;try{const l=yield NN(r.localStore,n);oD(r,s,null),sD(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield mu(r,l)}catch(l){yield Kl(l)}})).apply(this,arguments)}function wO(i,n,r){return N0.apply(this,arguments)}function N0(){return(N0=(0,be.Z)(function*(i,n,r){const s=Be(i);try{const l=yield function(d,p){const E=Be(d);return E.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let S;return E.In.lookupMutationBatch(T,p).next(R=>($e(null!==R),S=R.keys(),E.In.removeMutationBatch(T,R))).next(()=>E.In.performConsistencyCheck(T)).next(()=>E.Qn.Pn(T,S))})}(s.localStore,n);oD(s,n,r),sD(s,n),s.sharedClientState.updateMutationState(n,"rejected",r),yield mu(s,l)}catch(l){yield Kl(l)}})).apply(this,arguments)}function R0(){return(R0=(0,be.Z)(function*(i,n){const r=Be(i);pu(r.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const p=Be(d);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",E=>p.In.getHighestUnacknowledgedBatchId(E))}(r.localStore);if(-1===s)return void n.resolve();const l=r.Bo.get(s)||[];l.push(n),r.Bo.set(s,l)}catch(s){const l=nh(s,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}function sD(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function oD(i,n,r){const s=Be(i);let l=s.Lo[s.currentUser.toKey()];if(l){const d=l.get(n);d&&(r?d.reject(r):d.resolve(),l=l.remove(n)),s.Lo[s.currentUser.toKey()]=l}}function Hp(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const s of i.ko.get(n))i.xo.delete(s),r&&i.No.jo(s,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(s=>{i.Mo.containsKey(s)||aD(i,s)})}function aD(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(Yl(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),uD(i))}function x0(i,n,r){for(const s of r)s instanceof A0?(i.Mo.addReference(s.key,n),YN(i,s)):s instanceof KT?(Fe("SyncEngine","Document no longer in limbo: "+s.key),i.Mo.removeReference(s.key,n),i.Mo.containsKey(s.key)||aD(i,s.key)):qe()}function YN(i,n){const r=n.key,s=r.path.canonicalString();i.Oo.get(r)||i.$o.has(s)||(Fe("SyncEngine","New document in limbo: "+r),i.$o.add(s),uD(i))}function uD(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new Qe(jt.fromString(n)),s=i.Uo.next();i.Fo.set(s,new YT(r)),i.Oo=i.Oo.insert(r,s),jp(i.remoteStore,new cu(is(Fd(r.path)),s,2,Dr.T))}}function mu(i,n,r){return lD.apply(this,arguments)}function lD(){return(lD=(0,be.Z)(function*(i,n,r){const s=Be(i),l=[],d=[],p=[];var E;s.xo.isEmpty()||(s.xo.forEach((E,T)=>{p.push(s.Ko(T,n,r).then(S=>{if(S){s.isPrimaryClient&&s.sharedClientState.updateQueryState(T.targetId,S.fromCache?"not-current":"current"),l.push(S);const R=Gw.kn(T.targetId,S);d.push(R)}}))}),yield Promise.all(p),s.No.Tr(l),yield(E=(0,be.Z)(function*(T,S){const R=Be(T);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>De.forEach(S,B=>De.forEach(B.Nn,H=>R.persistence.referenceDelegate.addReference(x,B.targetId,H)).next(()=>De.forEach(B.xn,H=>R.persistence.referenceDelegate.removeReference(x,B.targetId,H)))))}catch(x){if(!Gd(x))throw x;Fe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of S){const B=x.targetId;if(!x.fromCache){const H=R.Un.get(B),ve=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);R.Un=R.Un.insert(B,ve)}}}),function(T,S){return E.apply(this,arguments)})(s.localStore,d))})).apply(this,arguments)}function bO(i,n){return O0.apply(this,arguments)}function O0(){return(O0=(0,be.Z)(function*(i,n){const r=Be(i);if(!r.currentUser.isEqual(n)){Fe("SyncEngine","User change. New user:",n.toKey());const s=yield NT(r.localStore,n);r.currentUser=n,(l=r).Bo.forEach(p=>{p.forEach(E=>{E.reject(new Re(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),r.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield mu(r,s.Wn)}var l})).apply(this,arguments)}function CO(i,n){const r=Be(i),s=r.Fo.get(n);if(s&&s.Co)return Yt().add(s.key);{let l=Yt();const d=r.ko.get(n);if(!d)return l;for(const p of d){const E=r.xo.get(p);l=l.unionWith(E.view.To)}return l}}function QN(i,n){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,be.Z)(function*(i,n){const r=Be(i),s=yield Mp(r.localStore,n.query,!0),l=n.view.So(s);return r.isPrimaryClient&&x0(r,n.targetId,l.vo),l})).apply(this,arguments)}function ih(i){return d_.apply(this,arguments)}function d_(){return(d_=(0,be.Z)(function*(i){const n=Be(i);return MN(n.localStore).then(r=>mu(n,r))})).apply(this,arguments)}function JN(i,n,r,s){return M0.apply(this,arguments)}function M0(){return(M0=(0,be.Z)(function*(i,n,r,s){const l=Be(i),d=yield function(p,E){const T=Be(p),S=Be(T.In);return T.persistence.runTransaction("Lookup mutation documents","readonly",R=>S.Xt(R,E).next(x=>x?T.Qn.Pn(R,x):De.resolve(null)))}(l.localStore,n);var E;null!==d?("pending"===r?yield $p(l.remoteStore):"acknowledged"===r||"rejected"===r?(oD(l,n,s||null),sD(l,n),E=n,Be(Be(l.localStore).In).te(E)):qe(),yield mu(l,d)):Fe("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function h_(){return(h_=(0,be.Z)(function*(i,n){const r=Be(i);if(hD(r),F0(r),!0===n&&!0!==r.qo){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield k0(r,s.toArray());r.qo=!0,yield i_(r.remoteStore,!0);for(const d of l)jp(r.remoteStore,d)}else if(!1===n&&!1!==r.qo){const s=[];let l=Promise.resolve();r.ko.forEach((d,p)=>{r.sharedClientState.isLocalQueryTarget(p)?s.push(p):l=l.then(()=>(Hp(r,p),Ps(r.localStore,p,!0))),Yl(r.remoteStore,p)}),yield l,yield k0(r,s),function(d){const p=Be(d);p.Fo.forEach((E,T)=>{Yl(p.remoteStore,T)}),p.Mo.us(),p.Fo=new Map,p.Oo=new ar(Qe.comparator)}(r),r.qo=!1,yield i_(r.remoteStore,!1)}})).apply(this,arguments)}function k0(i,n,r){return f_.apply(this,arguments)}function f_(){return(f_=(0,be.Z)(function*(i,n,r){const s=Be(i),l=[],d=[];for(const p of n){let E;const T=s.ko.get(p);if(T&&0!==T.length){E=yield Jd(s.localStore,is(T[0]));for(const S of T){const R=s.xo.get(S),x=yield QN(s,R);x.snapshot&&d.push(x.snapshot)}}else{const S=yield xT(s.localStore,p);E=yield Jd(s.localStore,S),yield JT(s,XN(S),p,!1)}l.push(E)}return s.No.Tr(d),l})).apply(this,arguments)}function XN(i){return mw(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function cD(i){const n=Be(i);return Be(Be(n.localStore).persistence).pn()}function p_(i,n,r,s){return g_.apply(this,arguments)}function g_(){return(g_=(0,be.Z)(function*(i,n,r,s){const l=Be(i);if(l.qo)Fe("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(n))switch(r){case"current":case"not-current":{const d=yield MN(l.localStore),p=wp.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield mu(l,d,p);break}case"rejected":yield Ps(l.localStore,n,!0),Hp(l,n,s);break;default:qe()}})).apply(this,arguments)}function IO(i,n,r){return dD.apply(this,arguments)}function dD(){return(dD=(0,be.Z)(function*(i,n,r){const s=hD(i);if(s.qo){for(const l of n){if(s.ko.has(l)){Fe("SyncEngine","Adding an already active target "+l);continue}const d=yield xT(s.localStore,l),p=yield Jd(s.localStore,d);yield JT(s,XN(d),p.targetId,!1),jp(s.remoteStore,p)}for(const l of r)s.ko.has(l)&&(yield Ps(s.localStore,l,!1).then(()=>{Yl(s.remoteStore,l),Hp(s,l)}).catch(Kl))}})).apply(this,arguments)}function hD(i){const n=Be(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=WN.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=CO.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=vO.bind(null,n),n.No.Tr=zT.bind(null,n.eventManager),n.No.jo=GN.bind(null,n.eventManager),n}function F0(i){const n=Be(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=EO.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=wO.bind(null,n),n}class qp{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,be.Z)(function*(){r.N=Up(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return zw(this.persistence,new qw,n.initialUser,this.N)}Go(n){return new Pp(Jy.Ns,this.N)}Wo(n){return new kT}terminate(){var n=this;return(0,be.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class fD extends qp{constructor(n,r,s){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield r().call(s,n),yield function(i){return Zw.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,n),yield F0(s.Jo.syncEngine),yield $p(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(n){return zw(this.persistence,new qw,n.initialUser,this.N)}zo(n){return new IN(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=Yy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new Hw(this.synchronizeTabs,r,n.clientId,s,n.asyncQueue,FT(),Zl(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new kT}}class DO extends fD{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield r().call(s,n);const l=s.Jo.syncEngine;s.sharedClientState instanceof s0&&(s.sharedClientState.syncEngine={_i:JN.bind(null,l),mi:p_.bind(null,l),gi:IO.bind(null,l),pn:cD.bind(null,l),wi:ih.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var d=(0,be.Z)(function*(p){yield function(i,n){return h_.apply(this,arguments)}(s.Jo.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):p||s.gcScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}Wo(n){const r=FT();if(!s0.bt(r))throw new Re(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Yy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new s0(r,n.asyncQueue,s,n.clientId,n.initialUser)}}class pD{initialize(n,r){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=n.localStore,s.sharedClientState=n.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!n.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>KN(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=bO.bind(null,s.syncEngine),yield i_(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(n){return new qT}createDatastore(n){const r=Up(n.databaseInfo.databaseId),s=new _o(n.databaseInfo);return new LT(n.credentials,s,r)}createRemoteStore(n){return r=this.localStore,s=this.datastore,l=n.asyncQueue,d=E=>KN(this.syncEngine,E,0),p=Xd.bt()?new Xd:new Vp,new d0(r,s,l,d,p);var r,s,l,d,p}createSyncEngine(n,r){return function(s,l,d,p,E,T,S){const R=new gO(s,l,d,p,E,T);return S&&(R.qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,be.Z)(function*(r){const s=Be(r);Fe("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield eh(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function m_(i,n=10240){let r=0;return{read:()=>(0,be.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+n),done:!1};return r+=n,s}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class y_{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class SO{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new ir,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,be.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,be.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,be.Z)(function*(){const r=yield n.na();if(null===r)return null;const s=n.ta.decode(r),l=Number(s);isNaN(l)&&n.sa(`length string (${s}) is not valid number`);const d=yield n.ia(l);return new qN(JSON.parse(d),r.length+l)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,be.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),s})()}ia(n){var r=this;return(0,be.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const s=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),s})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,be.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const s=new Uint8Array(n.buffer.length+r.value.length);s.set(n.buffer),s.set(r.value,n.buffer.length),n.buffer=s}return r.done})()}}class AO{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,be.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Re(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,be.Z)(function*(d,p){const E=Be(d),T=Ip(E.N)+"/documents",S={documents:p.map(H=>$d(E.N,H))},R=yield E.Ki("BatchGetDocuments",T,S),x=new Map;R.forEach(H=>{const X=function(i,n){return"found"in n?function(r,s){$e(!!s.found);const l=as(r,s.found.name),d=yr(s.found.updateTime),p=new Sr({mapValue:{fields:s.found.fields}});return mn.newFoundDocument(l,d,p)}(i,n):"missing"in n?function(r,s){$e(!!s.missing),$e(!!s.readTime);const l=as(r,s.missing),d=yr(s.readTime);return mn.newNoDocument(l,d)}(i,n):qe()}(E.N,H);x.set(X.key.toString(),X)});const B=[];return p.forEach(H=>{const X=x.get(H.toString());$e(!!X),B.push(X)}),B}),function(d,p){return l.apply(this,arguments)})(r.datastore,n);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new Ud(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,be.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var s;n.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const d=Qe.fromPath(l);n.mutations.push(new Uy(d,n.precondition(d)))}),yield(s=(0,be.Z)(function*(l,d){const p=Be(l),E=Ip(p.N)+"/documents",T={writes:d.map(S=>$l(p.N,S))};yield p.Li("Commit",E,T)}),function(l,d){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw qe();r=bt.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!r.isEqual(s))throw new Re(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?or.updateTime(r):or.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(bt.min()))throw new Re(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(r)}return or.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class eR{constructor(n,r,s,l){this.asyncQueue=n,this.datastore=r,this.updateFunction=s,this.deferred=l,this.aa=5,this.rr=new a0(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,be.Z)(function*(){const r=new AO(n.datastore),s=n.ua(r);s&&s.then(l=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(l)}).catch(d=>{n.ha(d)}))}).catch(l=>{n.ha(l)})}))}ua(n){try{const r=this.updateFunction(n);return!su(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!bw(r)}return!1}}class NO{constructor(n,r,s){var l=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pr.UNAUTHENTICATED,this.clientId=xI.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var d=(0,be.Z)(function*(p){Fe("FirestoreClient","Received user=",p.uid),yield l.credentialListener(p),l.user=p});return function(p){return d.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,be.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(s){const l=nh(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function L0(i,n){return V0.apply(this,arguments)}function V0(){return(V0=(0,be.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,be.Z)(function*(d){s.isEqual(d)||(yield NT(n.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function tR(i,n){return gD.apply(this,arguments)}function gD(){return(gD=(0,be.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield U0(i);Fe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield n.initialize(r,s),i.setCredentialChangeListener(l=>{return(d=(0,be.Z)(function*(p,E){const T=Be(p);T.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const S=pu(T);T.Kr.add(3),yield eh(T),S&&T.Wr.set("Unknown"),yield T.remoteSyncer.handleCredentialChange(E),T.Kr.delete(3),yield Bp(T)}),function(p,E){return d.apply(this,arguments)})(n.remoteStore,l);var d}),i.onlineComponents=n})).apply(this,arguments)}function U0(i){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,be.Z)(function*(i){return i.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield L0(i,new qp)),i.offlineComponents})).apply(this,arguments)}function __(i){return B0.apply(this,arguments)}function B0(){return(B0=(0,be.Z)(function*(i){return i.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield tR(i,new pD)),i.onlineComponents})).apply(this,arguments)}function mD(i){return U0(i).then(n=>n.persistence)}function zp(i){return U0(i).then(n=>n.localStore)}function yD(i){return __(i).then(n=>n.remoteStore)}function ai(i){return __(i).then(n=>n.syncEngine)}function sh(i){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,be.Z)(function*(i){const n=yield __(i),r=n.eventManager;return r.onListen=mO.bind(null,n.syncEngine),r.onUnlisten=yO.bind(null,n.syncEngine),r})).apply(this,arguments)}function $0(i,n,r={}){const s=new ir;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(l,d,p,E,T){const S=new y_({next:x=>{d.enqueueAndForget(()=>I0(l,R));const B=x.docs.has(p);!B&&x.fromCache?T.reject(new Re(he.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&x.fromCache&&E&&"server"===E.source?T.reject(new Re(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(x)},error:x=>T.reject(x)}),R=new c_(Fd(p.path),S,{includeMetadataChanges:!0,uo:!0});return a_(l,R)}(yield sh(i),i.asyncQueue,n,r,s)})),s.promise}function vD(i,n,r={}){const s=new ir;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(l,d,p,E,T){const S=new y_({next:x=>{d.enqueueAndForget(()=>I0(l,R)),x.fromCache&&"server"===E.source?T.reject(new Re(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(x)},error:x=>T.reject(x)}),R=new c_(p,S,{includeMetadataChanges:!0,uo:!0});return a_(l,R)}(yield sh(i),i.asyncQueue,n,r,s)})),s.promise}class H0{constructor(n,r,s,l,d,p,E,T){this.databaseId=n,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=E,this.useFetchStreams=T}}class ec{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof ec&&n.projectId===this.projectId&&n.database===this.database}}const G0=new Map;function Kp(i,n,r){if(!r)throw new Re(he.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function bD(i,n,r,s){if(!0===n&&!0===s)throw new Re(he.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function ls(i){if(!Qe.isDocumentKey(i))throw new Re(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function CD(i){if(Qe.isDocumentKey(i))throw new Re(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function q0(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=function(r){if(r.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(r.constructor.toString());if(s&&s.length>1)return s[1]}return null}(i);return n?`a custom ${n} object`:"an object"}}return"function"==typeof i?"a function":qe()}function Ft(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Re(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=q0(i);throw new Re(he.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function oR(i,n){if(n<=0)throw new Re(he.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class ID{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Re(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Re(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,bD("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Zp{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ID({}),this._settingsFrozen=!1,n instanceof ec?this._databaseId=n:(this._app=n,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Re(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(s.options.projectId)}(n))}get app(){if(!this._app)throw new Re(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ID(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new NI;switch(r.type){case"gapi":const s=r.client;return $e(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new YA(s,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Re(he.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=G0.get(n);r&&(Fe("ComponentProvider","Removing Datastore"),G0.delete(n),r.terminate())}(this),Promise.resolve()}}class Dn{constructor(n,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Dn(this.firestore,n,this._key)}}class $r{constructor(n,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new $r(this.firestore,n,this._query)}}class Fs extends $r{constructor(n,r,s){super(n,r,Fd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Dn(this.firestore,null,new Qe(n))}withConverter(n){return new Fs(this.firestore,n,this._path)}}function TD(i,n,...r){if(i=(0,Bt.m9)(i),Kp("collection","path",n),i instanceof Zp){const s=jt.fromString(n,...r);return CD(s),new Fs(i,null,s)}{if(!(i instanceof Dn||i instanceof Fs))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(jt.fromString(n,...r));return CD(s),new Fs(i.firestore,null,s)}}function Yp(i,n,...r){if(i=(0,Bt.m9)(i),1===arguments.length&&(n=xI.I()),Kp("doc","path",n),i instanceof Zp){const s=jt.fromString(n,...r);return ls(s),new Dn(i,null,new Qe(s))}{if(!(i instanceof Dn||i instanceof Fs))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(jt.fromString(n,...r));return ls(s),new Dn(i.firestore,i instanceof Fs?i.converter:null,new Qe(s))}}function DD(i,n){return i=(0,Bt.m9)(i),n=(0,Bt.m9)(n),(i instanceof Dn||i instanceof Fs)&&(n instanceof Dn||n instanceof Fs)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function lR(i,n){return i=(0,Bt.m9)(i),n=(0,Bt.m9)(n),i instanceof $r&&n instanceof $r&&i.firestore===n.firestore&&Ul(i._query,n._query)&&i.converter===n.converter}class SD{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new a0(this,"async_queue_retry"),this.Ea=()=>{const r=Zl();r&&Fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=Zl();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=Zl();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new ir;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,be.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!Gd(r))throw r;Fe("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(s=>{throw this.ma=s,this.ga=!1,Nn("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=r,r}enqueueAfterDelay(n,r,s){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const l=s_.createAndSchedule(this,n,r,s,d=>this.Ra(d));return this._a.push(l),l}Ta(){this.ma&&qe()}verifyOperationInProgress(){}ba(){var n=this;return(0,be.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function v_(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const s=n;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class cR{constructor(){this._progressObserver={},this._taskCompletionResolver=new ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,s){this._progressObserver={next:n,error:r,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class xn extends Zp{constructor(n,r){super(n,r),this.type="firestore",this._queue=new SD,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ND(this),this._firestoreClient.terminate()}}function Xn(i){return i._firestoreClient||ND(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ND(i){var n;const r=i._freezeSettings(),s=(d=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new H0(i._databaseId,d,i._persistenceKey,(E=r).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,E.useFetchStreams));var d,E;i._firestoreClient=new NO(i._credentials,i._queue,s)}function fR(i,n,r){const s=new ir;return i.asyncQueue.enqueue((0,be.Z)(function*(){try{yield L0(i,r),yield tR(i,n),s.resolve()}catch(l){if(!("FirebaseError"===(d=l).name?d.code===he.FAILED_PRECONDITION||d.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l)}var d})).then(()=>s.promise)}function z0(i){if(i._initialized||i._terminated)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yu{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Re(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class vo{constructor(n){this._byteString=n}static fromBase64String(n){try{return new vo(mr.fromBase64String(n))}catch(r){throw new Re(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new vo(mr.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ma{constructor(n){this._methodName=n}}class jn{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Re(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Re(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Ot(this._lat,n._lat)||Ot(this._long,n._long)}}const MO=/^__.*__$/;class OD{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return null!==this.fieldMask?new Bl(n,this.data,this.fieldMask,r,this.fieldTransforms):new _p(n,this.data,r,this.fieldTransforms)}}class W0{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return new Bl(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function MD(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class tc{constructor(n,r,s,l,d,p){this.settings=n,this.databaseId=r,this.N=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Sa(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new tc(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:s,xa:!1});return l.ka(n),l}$a(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:s,xa:!1});return l.Sa(),l}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return eb(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(MD(this.Da)&&MO.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class yR{constructor(n,r,s){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=s||Up(n)}Ba(n,r,s,l=!1){return new tc({Da:n,methodName:r,La:s,path:gr.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function nc(i){const n=i._freezeSettings(),r=Up(i._databaseId);return new yR(i._databaseId,!!n.ignoreUndefinedProperties,r)}function Qp(i,n,r,s,l,d={}){const p=i.Ba(d.merge||d.mergeFields?2:0,n,r,l);J0("Data must be an object, but it was:",p,s);const E=vR(s,p);let T,S;if(d.merge)T=new Fl(p.fieldMask),S=p.fieldTransforms;else if(d.mergeFields){const R=[];for(const x of d.mergeFields){const B=kD(n,x,r);if(!p.contains(B))throw new Re(he.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);ER(R,B)||R.push(B)}T=new Fl(R),S=p.fieldTransforms.filter(x=>T.covers(x.field))}else T=null,S=p.fieldTransforms;return new OD(new Sr(E),T,S)}class Ls extends ma{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Ls}}function K0(i,n,r){return new tc({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class Jp extends ma{_toFieldTransform(n){return new uu(n.path,new Ld)}isEqual(n){return n instanceof Jp}}class Z0 extends ma{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=K0(this,n,!0),s=this.Ua.map(d=>Sn(d,r)),l=new ss(s);return new uu(n.path,l)}isEqual(n){return this===n}}class _R extends ma{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=K0(this,n,!0),s=this.Ua.map(d=>Sn(d,r)),l=new Vd(s);return new uu(n.path,l)}isEqual(n){return this===n}}class w_ extends ma{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new si(n.N,KI(n.N,this.qa));return new uu(n.path,r)}isEqual(n){return this===n}}function Y0(i,n,r,s){const l=i.Ba(1,n,r);J0("Data must be an object, but it was:",l,s);const d=[],p=Sr.empty();Rs(s,(T,S)=>{const R=X0(n,T,r);S=(0,Bt.m9)(S);const x=l.$a(R);if(S instanceof Ls)d.push(R);else{const B=Sn(S,x);null!=B&&(d.push(R),p.set(R,B))}});const E=new Fl(d);return new W0(p,E,l.fieldTransforms)}function Xp(i,n,r,s,l,d){const p=i.Ba(1,n,r),E=[kD(n,s,r)],T=[l];if(d.length%2!=0)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<d.length;B+=2)E.push(kD(n,d[B])),T.push(d[B+1]);const S=[],R=Sr.empty();for(let B=E.length-1;B>=0;--B)if(!ER(S,E[B])){const H=E[B];let X=T[B];X=(0,Bt.m9)(X);const ve=p.$a(H);if(X instanceof Ls)S.push(H);else{const Ne=Sn(X,ve);null!=Ne&&(S.push(H),R.set(H,Ne))}}const x=new Fl(S);return new W0(R,x,p.fieldTransforms)}function Q0(i,n,r,s=!1){return Sn(r,i.Ba(s?4:3,n))}function Sn(i,n){if(PD(i=(0,Bt.m9)(i)))return J0("Unsupported field value:",n,i),vR(i,n);if(i instanceof ma)return function(r,s){if(!MD(s.Da))throw s.Fa(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,s){const l=[];let d=0;for(const p of r){let E=Sn(p,s.Oa(d));null==E&&(E={nullValue:"NULL_VALUE"}),l.push(E),d++}return{arrayValue:{values:l}}}(i,n)}return function(r,s){if(null===(r=(0,Bt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return KI(s.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=sr.fromDate(r);return{timestampValue:jy(s.N,l)}}if(r instanceof sr){const l=new sr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jy(s.N,l)}}if(r instanceof jn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vo)return{bytesValue:aT(s.N,r._byteString)};if(r instanceof Dn){const l=s.databaseId,d=r.firestore._databaseId;if(!d.isEqual(l))throw s.Fa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Tw(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Fa(`Unsupported field value: ${q0(r)}`)}(i,n)}function vR(i,n){const r={};return Md(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Rs(i,(s,l)=>{const d=Sn(l,n.Na(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function PD(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof sr||i instanceof jn||i instanceof vo||i instanceof Dn||i instanceof ma)}function J0(i,n,r){if(!PD(r)||"object"!=typeof(s=r)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=q0(r);throw n.Fa("an object"===s?i+" a custom object":i+" "+s)}var s}function kD(i,n,r){if((n=(0,Bt.m9)(n))instanceof yu)return n._internalPath;if("string"==typeof n)return X0(i,n);throw eb("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const b_=new RegExp("[~\\*/\\[\\]]");function X0(i,n,r){if(n.search(b_)>=0)throw eb(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new yu(...n.split("."))._internalPath}catch(s){throw eb(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function eb(i,n,r,s,l){const d=s&&!s.isEmpty(),p=void 0!==l;let E=`Function ${n}() called with invalid data`;r&&(E+=" (via `toFirestore()`)"),E+=". ";let T="";return(d||p)&&(T+=" (found",d&&(T+=` in field ${s}`),p&&(T+=` in document ${l}`),T+=")"),new Re(he.INVALID_ARGUMENT,E+i+T)}function ER(i,n){return i.some(r=>r.isEqual(n))}class C_{constructor(n,r,s,l,d){this._firestore=n,this._userDataWriter=r,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new wR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(I_("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class wR extends C_{data(){return super.data()}}function I_(i,n){return"string"==typeof n?X0(i,n):n instanceof yu?n._internalPath:n._delegate._internalPath}class rc{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class ya extends C_{constructor(n,r,s,l,d,p){super(n,r,s,l,p),this._firestore=n,this._firestoreImpl=n,this.metadata=d}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const s=this._document.data.field(I_("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class eg extends ya{data(n={}){return super.data(n)}}class ic{constructor(n,r,s,l){this._firestore=n,this._userDataWriter=r,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(s=>{n.call(r,new eg(this._firestore,this._userDataWriter,s.key,s,new rc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Re(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new eg(s._firestore,s._userDataWriter,p.doc.key,p.doc,new rc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>l||3!==p.type).map(p=>{const E=new eg(s._firestore,s._userDataWriter,p.doc.key,p.doc,new rc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let T=-1,S=-1;return 0!==p.type&&(T=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),1!==p.type&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:bR(p.type),doc:E,oldIndex:T,newIndex:S}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function bR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}function FD(i,n){return i instanceof ya&&n instanceof ya?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof ic&&n instanceof ic&&i._firestore===n._firestore&&lR(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function LD(i){if(My(i)&&0===i.explicitOrderBy.length)throw new Re(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T_{}function sc(i,...n){for(const r of n)i=r._apply(i);return i}class CR extends T_{constructor(n,r,s){super(),this.Ka=n,this.ja=r,this.Qa=s,this.type="where"}_apply(n){const r=nc(n.firestore),s=function(l,d,p,E,T,S,R){let x;if(T.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){tb(R,S);const H=[];for(const X of R)H.push(oh(E,l,X));x={arrayValue:{values:H}}}else x=oh(E,l,R)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||tb(R,S),x=Q0(p,"where",R,"in"===S||"not-in"===S);const B=ii.create(T,S,x);return function(H,X){if(X.v()){const Ne=pp(H);if(null!==Ne&&!Ne.isEqual(X.field))throw new Re(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ne.toString()}' and '${X.field.toString()}'`);const et=fp(H);null!==et&&MR(0,X.field,et)}const ve=function(Ne,et){for(const it of Ne.filters)if(et.indexOf(it.op)>=0)return it.op;return null}(H,function(Ne){switch(Ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==ve)throw new Re(he.INVALID_ARGUMENT,ve===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${ve.toString()}' filters.`)}(l,B),B}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new $r(n.firestore,n.converter,function(l,d){const p=l.filters.concat([d]);return new da(l.path,l.collectionGroup,l.explicitOrderBy.slice(),p,l.limit,l.limitType,l.startAt,l.endAt)}(n._query,s))}}class TR extends T_{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(s,l,d){if(null!==s.startAt)throw new Re(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Re(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new kd(l,d);return function(E,T){if(null===fp(E)){const S=pp(E);null!==S&&MR(0,S,T.field)}}(s,p),p}(n._query,this.Ka,this.Wa);return new $r(n.firestore,n.converter,function(s,l){const d=s.explicitOrderBy.concat([l]);return new da(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(n._query,r))}}class VD extends T_{constructor(n,r,s){super(),this.type=n,this.Ga=r,this.za=s}_apply(n){return new $r(n.firestore,n.converter,qI(n._query,this.Ga,this.za))}}class UD extends T_{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=BD(n,this.type,this.Ha,this.Ja);return new $r(n.firestore,n.converter,(l=r,new da((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class RR extends T_{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=BD(n,this.type,this.Ha,this.Ja);return new $r(n.firestore,n.converter,(l=r,new da((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function BD(i,n,r,s){if(r[0]=(0,Bt.m9)(r[0]),r[0]instanceof C_)return function(l,d,p,E,T){if(!E)throw new Re(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const S=[];for(const R of au(l))if(R.field.isKeyField())S.push(ap(d,E.key));else{const x=E.data.field(R.field);if(kI(x))throw new Re(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const B=R.field.canonicalString();throw new Re(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}S.push(x)}return new hp(S,T)}(i._query,i.firestore._databaseId,n,r[0]._document,s);{const l=nc(i.firestore);return function(d,p,E,T,S,R){const x=d.explicitOrderBy;if(S.length>x.length)throw new Re(he.INVALID_ARGUMENT,`Too many arguments provided to ${T}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let H=0;H<S.length;H++){const X=S[H];if(x[H].field.isKeyField()){if("string"!=typeof X)throw new Re(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${T}(), but got a ${typeof X}`);if(!Py(d)&&-1!==X.indexOf("/"))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${T}() must be a plain document ID, but '${X}' contains a slash.`);const ve=d.path.child(jt.fromString(X));if(!Qe.isDocumentKey(ve))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${T}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Ne=new Qe(ve);B.push(ap(p,Ne))}else{const ve=Q0(E,T,X);B.push(ve)}}return new hp(B,R)}(i._query,i.firestore._databaseId,l,n,r,s)}}function oh(i,n,r){if("string"==typeof(r=(0,Bt.m9)(r))){if(""===r)throw new Re(he.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Py(n)&&-1!==r.indexOf("/"))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=n.path.child(jt.fromString(r));if(!Qe.isDocumentKey(s))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ap(i,new Qe(s))}if(r instanceof Dn)return ap(i,r._key);throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${q0(r)}.`)}function tb(i,n){if(!Array.isArray(i)||0===i.length)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function MR(i,n,r){if(!r.isEqual(n))throw new Re(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class nb{convertValue(n,r="none"){switch(ou(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Zn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(sp(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw qe()}}convertObject(n,r){const s={};return Rs(n.fields,(l,d)=>{s[l]=this.convertValue(d,r)}),s}convertGeoPoint(n){return new jn(Zn(n.latitude),Zn(n.longitude))}convertArray(n,r){return(n.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(n,r){switch(r){case"previous":const s=XA(n);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ay(n));default:return null}}convertTimestamp(n){const r=iu(n);return new sr(r.seconds,r.nanos)}convertDocumentKey(n,r){const s=jt.fromString(n);$e(hT(s));const l=new ec(s.get(1),s.get(3)),d=new Qe(s.popFirst(5));return l.isEqual(r)||Nn(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function rb(i,n,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,s}class PO extends nb{constructor(n){super(),this.firestore=n}convertBytes(n){return new vo(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Dn(this.firestore,null,r)}}class PR{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=nc(n)}set(n,r,s){this._verifyNotCommitted();const l=Eo(n,this._firestore),d=rb(l.converter,r,s),p=Qp(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(p.toMutation(l._key,or.none())),this}update(n,r,s,...l){this._verifyNotCommitted();const d=Eo(n,this._firestore);let p;return p="string"==typeof(r=(0,Bt.m9)(r))||r instanceof yu?Xp(this._dataReader,"WriteBatch.update",d._key,r,s,l):Y0(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(p.toMutation(d._key,or.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=Eo(n,this._firestore);return this._mutations=this._mutations.concat(new Ud(r._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eo(i,n){if((i=(0,Bt.m9)(i)).firestore!==n)throw new Re(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class oc extends nb{constructor(n){super(),this.firestore=n}convertBytes(n){return new vo(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Dn(this.firestore,null,r)}}function cs(i,n,r){i=Ft(i,Dn);const s=Ft(i.firestore,xn),l=rb(i.converter,n,r);return ac(s,[Qp(nc(s),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,or.none())])}function BR(i,n,r,...s){i=Ft(i,Dn);const l=Ft(i.firestore,xn),d=nc(l);let p;return p="string"==typeof(n=(0,Bt.m9)(n))||n instanceof yu?Xp(d,"updateDoc",i._key,n,r,s):Y0(d,"updateDoc",i._key,n),ac(l,[p.toMutation(i._key,or.exists(!0))])}function ib(i,...n){var r,s,l;i=(0,Bt.m9)(i);let d={includeMetadataChanges:!1},p=0;"object"!=typeof n[p]||v_(n[p])||(d=n[p],p++);const E={includeMetadataChanges:d.includeMetadataChanges};if(v_(n[p])){const x=n[p];n[p]=null===(r=x.next)||void 0===r?void 0:r.bind(x),n[p+1]=null===(s=x.error)||void 0===s?void 0:s.bind(x),n[p+2]=null===(l=x.complete)||void 0===l?void 0:l.bind(x)}let T,S,R;if(i instanceof Dn)S=Ft(i.firestore,xn),R=Fd(i._key.path),T={next:x=>{n[p]&&n[p](tg(S,i,x))},error:n[p+1],complete:n[p+2]};else{const x=Ft(i,$r);S=Ft(x.firestore,xn),R=x._query;const B=new oc(S);T={next:H=>{n[p]&&n[p](new ic(S,B,x,H))},error:n[p+1],complete:n[p+2]},LD(i._query)}return function(x,B,H,X){const ve=new y_(X),Ne=new c_(B,ve,H);return x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return a_(yield sh(x),Ne)})),()=>{ve.Xo(),x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return I0(yield sh(x),Ne)}))}}(Xn(S),R,E,T)}function ac(i,n){return function(r,s){const l=new ir;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,n,r){return tD.apply(this,arguments)}(yield ai(r),s,l)})),l.promise}(Xn(i),n)}function tg(i,n,r){const s=r.docs.get(n._key),l=new oc(i);return new ya(i,l,n._key,s,new rc(r.hasPendingWrites,r.fromCache),n.converter)}class sb extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=nc(n)}get(n){const r=Eo(n,this._firestore),s=new PO(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return qe();const d=l[0];if(d.isFoundDocument())return new C_(this._firestore,s,d.key,d,r.converter);if(d.isNoDocument())return new C_(this._firestore,s,r._key,null,r.converter);throw qe()})}set(n,r,s){const l=Eo(n,this._firestore),d=rb(l.converter,r,s),p=Qp(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,s);return this._transaction.set(l._key,p),this}update(n,r,s,...l){const d=Eo(n,this._firestore);let p;return p="string"==typeof(r=(0,Bt.m9)(r))||r instanceof yu?Xp(this._dataReader,"Transaction.update",d._key,r,s,l):Y0(this._dataReader,"Transaction.update",d._key,r),this._transaction.update(d._key,p),this}delete(n){const r=Eo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=Eo(n,this._firestore),s=new oc(this._firestore);return super.get(n).then(l=>new ya(this._firestore,s,r._key,l._document,new rc(!1,!1),r.converter))}}function ab(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Re("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function A_(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function zD(){if("undefined"==typeof atob)throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){np=i})(Wm.SDK_VERSION),(0,Wm._registerComponent)(new oE.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),s=new xn(r,new KA(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),s._setSettings(n),s},"PUBLIC")),(0,Wm.registerVersion)("@firebase/firestore","3.0.2",void 0);class lr{constructor(n){this._delegate=n}static fromBase64String(n){return zD(),new lr(vo.fromBase64String(n))}static fromUint8Array(n){return A_(),new lr(vo.fromUint8Array(n))}toBase64(){return zD(),this._delegate.toBase64()}toUint8Array(){return A_(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uc(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(i)}class WD{enableIndexedDbPersistence(n,r){return function(i,n){z0(i=Ft(i,xn));const r=Xn(i),s=i._freezeSettings(),l=new pD;return fR(r,l,new fD(l,s.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){z0(i=Ft(i,xn));const n=Xn(i),r=i._freezeSettings(),s=new pD;return fR(n,s,new DO(s,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Re(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new ir;return i._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(r=(0,be.Z)(function*(s){if(!ji.bt())return Promise.resolve();const l=s+"main";yield ji.delete(l)}),function(s){return r.apply(this,arguments)})(Yy(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class ng{constructor(n,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof ec||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&rp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,s={}){!function(i,n,r,s={}){var l;const d=(i=Ft(i,Zp))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==n&&rp("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${n}:${r}`,ssl:!1})),s.mockUserToken){let p,E;if("string"==typeof s.mockUserToken)p=s.mockUserToken,E=pr.MOCK_USER;else{p=(0,Bt.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new Re(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new pr(T)}i._credentials=new RI(new uw(p,E))}}(this._delegate,n,r,s)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,be.Z)(function*(){const n=yield mD(i),r=yield yD(i);return n.setNetworkEnabled(!0),function(s){const l=Be(s);return l.Kr.delete(0),Bp(l)}(r)}))}(Xn(i=Ft(i,xn)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,be.Z)(function*(){const n=yield mD(i),r=yield yD(i);return n.setNetworkEnabled(!1),(s=(0,be.Z)(function*(l){const d=Be(l);d.Kr.add(0),yield eh(d),d.Wr.set("Offline")}),function(l){return s.apply(this,arguments)})(r);var s}))}(Xn(i=Ft(i,xn)))}(this._delegate)}enablePersistence(n){let r=!1,s=!1;return n&&(r=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,bD("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new ir;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,n){return R0.apply(this,arguments)}(yield ai(n),r)})),r.promise}(Xn(i=Ft(i,xn)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new y_(n);return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield sh(i),l=r,Be(s).Zr.add(l),void l.next();var s,l})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield sh(i),l=r,void Be(s).Zr.delete(l);var s,l}))}}(Xn(i=Ft(i,xn)),v_(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new uh(this,TD(this._delegate,n))}catch(r){throw ui(r,"collection()","Firestore.collection()")}}doc(n){try{return new ds(this,Yp(this._delegate,n))}catch(r){throw ui(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Ln(this,function(i,n){if(i=Ft(i,Zp),Kp("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $r(i,null,(r=n,new da(jt.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw ui(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new ir;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(l=i,__(l).then(d=>d.datastore));var l;new eR(i.asyncQueue,s,n,r).run()})),r.promise}(Xn(i),r=>n(new sb(i,r)))}(this._delegate,r=>n(new rg(this,r)))}batch(){return Xn(this._delegate),new ZD(new PR(this._delegate,n=>ac(this._delegate,n)))}loadBundle(n){return function(i,n){const r=Xn(i=Ft(i,xn)),s=new cR;return function(i,n,r,s){const l=function(d,p){let E;return E="string"==typeof d?(new TextEncoder).encode(d):d,T=function(T,S){if(T instanceof Uint8Array)return m_(T,S);if(T instanceof ArrayBuffer)return m_(new Uint8Array(T),S);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(E),new SO(T,p);var T}(r,Up(n));i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(i,n,r){const s=Be(i);var l;(l=(0,be.Z)(function*(d,p,E){try{const T=yield p.getMetadata();if(yield function(B,H){const X=Be(B),ve=yr(H.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",Ne=>X.Je.getBundleMetadata(Ne,H.id)).then(Ne=>!!Ne&&Ne.createTime.compareTo(ve)>=0)}(d.localStore,T))return yield p.close(),void E._completeWith((B=T,{taskState:"Success",documentsLoaded:B.totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}));E._updateProgress(S0(T));const S=new WT(T,d.localStore,p.N);let R=yield p.Qo();for(;R;){const B=yield S.fo(R);B&&E._updateProgress(B),R=yield p.Qo()}const x=yield S.complete();yield mu(d,x.Tn,void 0),yield function(B,H){const X=Be(B);return X.persistence.runTransaction("Save bundle","readwrite",ve=>X.Je.saveBundleMetadata(ve,H))}(d.localStore,T),E._completeWith(x.progress)}catch(T){rp("SyncEngine",`Loading bundle failed with ${T}`),E._failWith(T)}var B}),function(d,p,E){return l.apply(this,arguments)})(s,n,r).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield ai(i),l,s)}))}(r,i._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,be.Z)(function*(){return function(r,s){const l=Be(r);return l.persistence.runTransaction("Get named query","readonly",d=>l.Je.getNamedQuery(d,s))}(yield zp(i),n)}))}(Xn(i=Ft(i,xn)),n).then(r=>r?new $r(i,null,r.query):null)}(this._delegate,n).then(r=>r?new Ln(this,r):null)}}class ah extends nb{constructor(n){super(),this.firestore=n}convertBytes(n){return new lr(new vo(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return ds.forKey(r,this.firestore,null)}}class rg{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new ah(n)}get(n){const r=cc(n);return this._delegate.get(r).then(s=>new ig(this._firestore,new ya(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(n,r,s){const l=cc(n);return s?(ab("Transaction.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(n,r,s,...l){const d=cc(n);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(n){const r=cc(n);return this._delegate.delete(r),this}}class ZD{constructor(n){this._delegate=n}set(n,r,s){const l=cc(n);return s?(ab("WriteBatch.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(n,r,s,...l){const d=cc(n);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(n){const r=cc(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class lc{constructor(n,r,s){this._firestore=n,this._userDataWriter=r,this._delegate=s}fromFirestore(n,r){const s=new eg(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new sg(this._firestore,s),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const s=lc.INSTANCES;let l=s.get(n);l||(l=new WeakMap,s.set(n,l));let d=l.get(r);return d||(d=new lc(n,new ah(n),r),l.set(r,d)),d}}lc.INSTANCES=new WeakMap;class ds{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new ah(n)}static forPath(n,r,s){if(n.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new ds(r,new Dn(r._delegate,s,new Qe(n)))}static forKey(n,r,s){return new ds(r,new Dn(r._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new uh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new uh(this.firestore,TD(this._delegate,n))}catch(r){throw ui(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Bt.m9)(n))instanceof Dn&&DD(this._delegate,n)}set(n,r){r=ab("DocumentReference.set",r);try{return r?cs(this._delegate,n,r):cs(this._delegate,n)}catch(s){throw ui(s,"setDoc()","DocumentReference.set()")}}update(n,r,...s){try{return 1===arguments.length?BR(this._delegate,n):BR(this._delegate,n,r,...s)}catch(l){throw ui(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return ac(Ft(i.firestore,xn),[new Ud(i._key,or.none())])}(this._delegate)}onSnapshot(...n){const r=ub(n),s=YD(n,l=>new ig(this.firestore,new ya(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return ib(this._delegate,r,s)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Ft(i,Dn);const n=Ft(i.firestore,xn),r=Xn(n),s=new oc(n);return function(i,n){const r=new ir;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(l,d,p){try{const E=yield function(T,S){const R=Be(T);return R.persistence.runTransaction("read document","readonly",x=>R.Qn.An(x,S))}(l,d);E.isFoundDocument()?p.resolve(E):E.isNoDocument()?p.resolve(null):p.reject(new Re(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(E){const T=nh(E,`Failed to get document '${d} from cache`);p.reject(T)}}),function(l,d,p){return s.apply(this,arguments)})(yield zp(i),n,r);var s})),r.promise}(r,i._key).then(l=>new ya(n,s,i._key,l,new rc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Ft(i,Dn);const n=Ft(i.firestore,xn);return $0(Xn(n),i._key,{source:"server"}).then(r=>tg(n,i,r))}(this._delegate):function(i){i=Ft(i,Dn);const n=Ft(i.firestore,xn);return $0(Xn(n),i._key).then(r=>tg(n,i,r))}(this._delegate),r.then(s=>new ig(this.firestore,new ya(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new ds(this.firestore,this._delegate.withConverter(n?lc.getInstance(this.firestore,n):null))}}function ui(i,n,r){return i.message=i.message.replace(n,r),i}function ub(i){for(const n of i)if("object"==typeof n&&!uc(n))return n;return{}}function YD(i,n){var r,s;let l;return l=uc(i[0])?i[0]:uc(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(n(d))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class ig{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new ds(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return FD(this._delegate,n._delegate)}}class sg extends ig{data(n){const r=this._delegate.data(n);return function(i,n){i||qe()}(void 0!==r),r}}class Ln{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new ah(n)}where(n,r,s){try{return new Ln(this.firestore,sc(this._delegate,function(i,n,r){const s=n,l=I_("where",i);return new CR(l,s,r)}(n,r,s)))}catch(l){throw ui(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new Ln(this.firestore,sc(this._delegate,function(i,n="asc"){const r=n,s=I_("orderBy",i);return new TR(s,r)}(n,r)))}catch(s){throw ui(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Ln(this.firestore,sc(this._delegate,function(i){return oR("limit",i),new VD("limit",i,"F")}(n)))}catch(r){throw ui(r,"limit()","Query.limit()")}}limitToLast(n){try{return new Ln(this.firestore,sc(this._delegate,function(i){return oR("limitToLast",i),new VD("limitToLast",i,"L")}(n)))}catch(r){throw ui(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Ln(this.firestore,sc(this._delegate,function(...i){return new UD("startAt",i,!0)}(...n)))}catch(r){throw ui(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Ln(this.firestore,sc(this._delegate,function(...i){return new UD("startAfter",i,!1)}(...n)))}catch(r){throw ui(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Ln(this.firestore,sc(this._delegate,function(...i){return new RR("endBefore",i,!0)}(...n)))}catch(r){throw ui(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Ln(this.firestore,sc(this._delegate,function(...i){return new RR("endAt",i,!1)}(...n)))}catch(r){throw ui(r,"endAt()","Query.endAt()")}}isEqual(n){return lR(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Ft(i,$r);const n=Ft(i.firestore,xn),r=Xn(n),s=new oc(n);return function(i,n){const r=new ir;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(l,d,p){try{const E=yield Mp(l,d,!0),T=new ZT(d,E.Gn),S=T.Io(E.documents),R=T.applyChanges(S,!1);p.resolve(R.snapshot)}catch(E){const T=nh(E,`Failed to execute query '${d} against cache`);p.reject(T)}}),function(l,d,p){return s.apply(this,arguments)})(yield zp(i),n,r);var s})),r.promise}(r,i._query).then(l=>new ic(n,s,i,l))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Ft(i,$r);const n=Ft(i.firestore,xn),r=Xn(n),s=new oc(n);return vD(r,i._query,{source:"server"}).then(l=>new ic(n,s,i,l))}(this._delegate):function(i){i=Ft(i,$r);const n=Ft(i.firestore,xn),r=Xn(n),s=new oc(n);return LD(i._query),vD(r,i._query).then(l=>new ic(n,s,i,l))}(this._delegate),r.then(s=>new ag(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const r=ub(n),s=YD(n,l=>new ag(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return ib(this._delegate,r,s)}withConverter(n){return new Ln(this.firestore,this._delegate.withConverter(n?lc.getInstance(this.firestore,n):null))}}class og{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new sg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ag{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new Ln(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new sg(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new og(this._firestore,r))}forEach(n,r){this._delegate.forEach(s=>{n.call(r,new sg(this._firestore,s))})}isEqual(n){return FD(this._delegate,n._delegate)}}class uh extends Ln{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new ds(this.firestore,n):null}doc(n){try{return new ds(this.firestore,void 0===n?Yp(this._delegate):Yp(this._delegate,n))}catch(r){throw ui(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=Ft(i.firestore,xn),s=Yp(i),l=rb(i.converter,n);return ac(r,[Qp(nc(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,or.exists(!1))]).then(()=>s)}(this._delegate,n).then(r=>new ds(this.firestore,r))}isEqual(n){return DD(this._delegate,n._delegate)}withConverter(n){return new uh(this.firestore,this._delegate.withConverter(n?lc.getInstance(this.firestore,n):null))}}function cc(i){return Ft(i,Dn)}class lb{constructor(...n){this._delegate=new yu(...n)}static documentId(){return new lb(gr.keyField().canonicalString())}isEqual(n){return(n=(0,Bt.m9)(n))instanceof yu&&this._delegate._internalPath.isEqual(n._internalPath)}}class _a{constructor(n){this._delegate=n}static serverTimestamp(){const n=new Jp("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new _a(n)}static delete(){const n=new Ls("deleteField");return n._methodName="FieldValue.delete",new _a(n)}static arrayUnion(...n){const r=function(...i){return new Z0("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new _a(r)}static arrayRemove(...n){const r=function(...i){return new _R("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new _a(r)}static increment(n){const r=function(i){return new w_("increment",i)}(n);return r._methodName="FieldValue.increment",new _a(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const qR={Firestore:ng,GeoPoint:jn,Timestamp:sr,Blob:lr,Transaction:rg,WriteBatch:ZD,DocumentReference:ds,DocumentSnapshot:ig,Query:Ln,QueryDocumentSnapshot:sg,QuerySnapshot:ag,CollectionReference:uh,FieldPath:lb,FieldValue:_a,setLogLevel:function(i){!function(i){Je.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,n){i.INTERNAL.registerComponent(new oE.wA("firestore-compat",r=>((n,r)=>new ng(n,r,new WD))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},qR)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.2")}(sE.Z);var zR=k(6682),ug=k(309),WR=k(7771),va=k(8858);class lg extends dr.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new lh(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,s=r?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,d=s.length;let p;if(this.closed)throw new eo.N;if(this.isStopped||this.hasError?p=J_.w.EMPTY:(this.observers.push(n),p=new va.W(this,n)),l&&n.add(n=new ug.ht(n,l)),r)for(let E=0;E<d&&!n.closed;E++)n.next(s[E]);else for(let E=0;E<d&&!n.closed;E++)n.next(s[E].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),p}_getNow(){return(this.scheduler||WR.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,s=this._windowTime,l=this._events,d=l.length;let p=0;for(;p<d&&!(n-l[p].time<s);)p++;return d>r&&(p=Math.max(p,d-r)),p>0&&l.splice(0,p),l}}class lh{constructor(n,r){this.time=n,this.value=r}}function cg(i,n,r){let s;return s=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:s}){let l,p,d=0,E=!1,T=!1;return function(R){let x;d++,!l||E?(E=!1,l=new lg(i,n,s),x=l.subscribe(this),p=R.subscribe({next(B){l.next(B)},error(B){E=!0,l.error(B)},complete(){T=!0,p=void 0,l.complete()}}),T&&(p=void 0)):x=l.subscribe(this),this.add(()=>{d--,x.unsubscribe(),x=void 0,p&&!T&&r&&0===d&&(p.unsubscribe(),p=void 0,l=void 0)})}}(s))}function XD(i,n){return n?qn(()=>i,n):qn(()=>i)}var cb=k(3101),KR=k(7841);const db=new g.OlP("angularfire2.auth.use-emulator"),hb=new g.OlP("angularfire2.auth.settings"),fb=new g.OlP("angularfire2.auth.tenant-id"),R_=new g.OlP("angularfire2.auth.langugage-code"),tS=new g.OlP("angularfire2.auth.use-device-language"),nS=new g.OlP("angularfire.auth.persistence"),pb=(i,n,r,s,l,d,p,E)=>(0,Tr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const T=n.runOutsideAngular(()=>i.auth());if(r&&T.useEmulator(...r),s&&(T.tenantId=s),T.languageCode=l,d&&T.useDeviceLanguage(),p)for(const[S,R]of Object.entries(p))T.settings[S]=R;return E&&T.setPersistence(E),T},[r,s,l,d,p,E]);let _u=(()=>{class i{constructor(r,s,l,d,p,E,T,S,R,x,B){const H=new dr.xQ,X=(0,ot.of)(void 0).pipe((0,ug.QV)(p.outsideAngular),qn(()=>d.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6780)))),(0,ft.U)(()=>(0,aa.on)(r,d,s)),(0,ft.U)(ve=>pb(ve,d,E,S,R,x,T,B)),cg({bufferSize:1,refCount:!1}));if(Du(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ot.of)(null);else{X.pipe(ws()).subscribe();const Ne=X.pipe(qn(st=>st.getRedirectResult().then(Et=>Et,()=>null)),Tr.iC,cg({bufferSize:1,refCount:!1})),et=X.pipe(qn(st=>new pi.y(Et=>({unsubscribe:d.runOutsideAngular(()=>st.onAuthStateChanged($n=>Et.next($n),$n=>Et.error($n),()=>Et.complete()))})))),it=X.pipe(qn(st=>new pi.y(Et=>({unsubscribe:d.runOutsideAngular(()=>st.onIdTokenChanged($n=>Et.next($n),$n=>Et.error($n),()=>Et.complete()))}))));this.authState=Ne.pipe(XD(et),(0,cb.R)(p.outsideAngular),(0,ug.QV)(p.insideAngular)),this.user=Ne.pipe(XD(it),(0,cb.R)(p.outsideAngular),(0,ug.QV)(p.insideAngular)),this.idToken=this.user.pipe(qn(st=>st?(0,hn.D)(st.getIdToken()):(0,ot.of)(null))),this.idTokenResult=this.user.pipe(qn(st=>st?(0,hn.D)(st.getIdTokenResult()):(0,ot.of)(null))),this.credential=(0,zR.T)(Ne,H,this.authState.pipe(Zi(st=>!st))).pipe((0,ft.U)(st=>(null==st?void 0:st.user)?st:null),(0,cb.R)(p.outsideAngular),(0,ug.QV)(p.insideAngular))}return(0,aa.pX)(this,X,d,{spy:{apply:(ve,Ne,et)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&et.then(it=>H.next(it))}}})}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(aa.Dh),g.LFG(aa.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Tr.HU),g.LFG(db,8),g.LFG(hb,8),g.LFG(fb,8),g.LFG(R_,8),g.LFG(tS,8),g.LFG(nS,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function iS(i,n){return function(i,n=Yx.z){return new pi.y(r=>{let s;return null!=n?n.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,n)}function sS(i,n){return iS(i,n).pipe((0,ft.U)(r=>({payload:r,type:"query"})))}function gb(i,n){return sS(i,n).pipe(ka(void 0),iE(),(0,ft.U)(([r,s])=>{const l=s.payload.docChanges(),d=l.map(p=>({type:p.type,payload:p}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,E)=>{const T=l.find(R=>R.doc.ref.isEqual(p.ref)),S=null==r?void 0:r.payload.docs.find(R=>R.ref.isEqual(p.ref));T&&JSON.stringify(T.doc.metadata)===JSON.stringify(p.metadata)||!T&&S&&JSON.stringify(S.metadata)===JSON.stringify(p.metadata)||d.push({type:"modified",payload:{oldIndex:E,newIndex:E,type:"modified",doc:p}})}),d}))}function YR(i,n,r){return gb(i,r).pipe(Fa((s,l)=>function(i,n,r){return n.forEach(s=>{r.indexOf(s.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return mb(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return mb(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return mb(i,n.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),n),[]),r=>r.lift(new kC(void 0,void 0)),(0,ft.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function mb(i,n,r,...s){const l=i.slice();return l.splice(n,r,...s),l}function JR(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class XR{constructor(n,r,s){this.ref=n,this.query=r,this.afs=s}stateChanges(n){let r=gb(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,ft.U)(s=>s.filter(l=>n.indexOf(l.type)>-1)))),r.pipe(ka(void 0),iE(),Zi(([s,l])=>l.length>0||!s),(0,ft.U)(([s,l])=>l),Tr.iC)}auditTrail(n){return this.stateChanges(n).pipe(Fa((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=JR(n);return YR(this.query,r,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(n={}){return sS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(r=>r.payload.docs.map(s=>n.idField?Object.assign(Object.assign({},s.data()),{[n.idField]:s.id}):s.data())),Tr.iC)}get(n){return(0,hn.D)(this.query.get(n)).pipe(Tr.iC)}add(n){return this.ref.add(n)}doc(n){return new ex(this.ref.doc(n),this.afs)}}class ex{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const s=this.ref.collection(n),{ref:l,query:d}=o(s,r);return new XR(l,d,this.afs)}snapshotChanges(){return function(i,n){return iS(i,n).pipe(ka(void 0),iE(),(0,ft.U)(([r,s])=>s.exists?(null==r?void 0:r.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,hn.D)(this.ref.get(n)).pipe(Tr.iC)}}class tx{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?gb(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(r=>r.filter(s=>n.indexOf(s.type)>-1)),Zi(r=>r.length>0),Tr.iC):gb(this.query,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}auditTrail(n){return this.stateChanges(n).pipe(Fa((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=JR(n);return YR(this.query,r,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(n={}){return sS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(s=>s.payload.docs.map(l=>n.idField?Object.assign({[n.idField]:l.id},l.data()):l.data())),Tr.iC)}get(n){return(0,hn.D)(this.query.get(n)).pipe(Tr.iC)}}const nx=new g.OlP("angularfire2.enableFirestorePersistence"),rx=new g.OlP("angularfire2.firestore.persistenceSettings"),UO=new g.OlP("angularfire2.firestore.settings"),BO=new g.OlP("angularfire2.firestore.use-emulator");function o(i,n=(r=>r)){return{query:n(i),ref:i}}let a=(()=>{class i{constructor(r,s,l,d,p,E,T,S,R,x,B,H,X,ve,Ne,et){this.schedulers=T;const it=(0,aa.on)(r,E,s),st=R;x&&pb(it,E,B,X,ve,Ne,H,et),[this.firestore,this.persistenceEnabled$]=(0,Tr.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const Et=E.runOutsideAngular(()=>it.firestore());if(d&&Et.settings(d),st&&Et.useEmulator(...st),l&&!Du(p)){const $n=()=>{try{return(0,hn.D)(Et.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch($i){return"undefined"!=typeof console&&console.warn($i),(0,ot.of)(!1)}};return[Et,E.runOutsideAngular($n)]}return[Et,(0,ot.of)(!1)]},[d,st,l])}collection(r,s){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:d,query:p}=o(l,s),E=this.schedulers.ngZone.run(()=>d);return new XR(E,p,this)}collectionGroup(r,s){const l=s||(p=>p),d=this.firestore.collectionGroup(r);return new tx(l(d),this)}doc(r){let s;s="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>s);return new ex(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(aa.Dh),g.LFG(aa.xv,8),g.LFG(nx,8),g.LFG(UO,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Tr.HU),g.LFG(rx,8),g.LFG(BO,8),g.LFG(_u,8),g.LFG(db,8),g.LFG(hb,8),g.LFG(fb,8),g.LFG(R_,8),g.LFG(tS,8),g.LFG(nS,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),u=(()=>{class i{constructor(){KR.Z.registerVersion("angularfire",Tr.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:nx,useValue:!0},{provide:rx,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[a]}),i})(),c=(()=>{class i{constructor(r){this.firestore=r}agregarEmpleado(r){return this.firestore.collection("empleados").add(r)}getEmpleados(){return this.firestore.collection("empleados",r=>r.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarEmpleado(r){return this.firestore.collection("empleados").doc(r).delete()}getEmpleado(r){return this.firestore.collection("empleados").doc(r).snapshotChanges()}actualizarEmpleado(r,s){return this.firestore.collection("empleados").doc(r).update(s)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(a))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class h{}const _="*";function w(i,n){return{type:7,name:i,definitions:n,options:{}}}function I(i,n=null){return{type:4,styles:n,timings:i}}function A(i,n=null){return{type:2,steps:i,options:n}}function O(i){return{type:6,styles:i,offset:null}}function P(i,n,r){return{type:0,name:i,styles:n,options:r}}function z(i,n,r=null){return{type:1,expr:i,animation:n,options:r}}function lt(i){Promise.resolve(null).then(i)}class Tt{constructor(n=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}class er{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let r=0,s=0,l=0;const d=this.players.length;0==d?lt(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++r==d&&this._onFinish()}),p.onDestroy(()=>{++s==d&&this._onDestroy()}),p.onStart(()=>{++l==d&&this._onStart()})}),this.totalTime=this.players.reduce((p,E)=>Math.max(p,E.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const r=n*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,r/s.totalTime):1;s.setPosition(l)})}getPosition(){const n=this.players.reduce((r,s)=>null===r||s.totalTime>r.totalTime?s:r,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}const dh=["toast-component",""];function hh(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){return g.CHM(r),g.oxw().remove()}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA(),g.qZA()}}function fh(i,n){if(1&i&&(g.ynx(0),g._uU(1),g.BQk()),2&i){const r=g.oxw(2);g.xp6(1),g.hij("[",r.duplicatesCount+1,"]")}}function ph(i,n){if(1&i&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,fh,2,1,"ng-container",4),g.qZA()),2&i){const r=g.oxw();g.Tol(r.options.titleClass),g.uIk("aria-label",r.title),g.xp6(1),g.hij(" ",r.title," "),g.xp6(1),g.Q6J("ngIf",r.duplicatesCount)}}function yb(i,n){if(1&i&&g._UZ(0,"div",7),2&i){const r=g.oxw();g.Tol(r.options.messageClass),g.Q6J("innerHTML",r.message,g.oJD)}}function _b(i,n){if(1&i&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&i){const r=g.oxw();g.Tol(r.options.messageClass),g.uIk("aria-label",r.message),g.xp6(1),g.hij(" ",r.message," ")}}function vb(i,n){if(1&i&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&i){const r=g.oxw();g.xp6(1),g.Udp("width",r.width+"%")}}function Eb(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){return g.CHM(r),g.oxw().remove()}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA(),g.qZA()}}function wb(i,n){if(1&i&&(g.ynx(0),g._uU(1),g.BQk()),2&i){const r=g.oxw(2);g.xp6(1),g.hij("[",r.duplicatesCount+1,"]")}}function QM(i,n){if(1&i&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,wb,2,1,"ng-container",4),g.qZA()),2&i){const r=g.oxw();g.Tol(r.options.titleClass),g.uIk("aria-label",r.title),g.xp6(1),g.hij(" ",r.title," "),g.xp6(1),g.Q6J("ngIf",r.duplicatesCount)}}function JM(i,n){if(1&i&&g._UZ(0,"div",7),2&i){const r=g.oxw();g.Tol(r.options.messageClass),g.Q6J("innerHTML",r.message,g.oJD)}}function XM(i,n){if(1&i&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&i){const r=g.oxw();g.Tol(r.options.messageClass),g.uIk("aria-label",r.message),g.xp6(1),g.hij(" ",r.message," ")}}function eP(i,n){if(1&i&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&i){const r=g.oxw();g.xp6(1),g.Udp("width",r.width+"%")}}class oS{constructor(n,r,s,l,d,p){this.toastId=n,this.config=r,this.message=s,this.title=l,this.toastType=d,this.toastRef=p,this._onTap=new dr.xQ,this._onAction=new dr.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const ix={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},bb=new g.OlP("ToastConfig");class tP{constructor(n,r){this.component=n,this.injector=r}attach(n,r){return this._attachedHost=n,n.attach(this,r)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class rP extends class{attach(n,r){return this._attachedPortal=n,this.attachComponentPortal(n,r)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}{constructor(n,r,s){super(),this._hostDomElement=n,this._componentFactoryResolver=r,this._appRef=s}attachComponentPortal(n,r){const s=this._componentFactoryResolver.resolveComponentFactory(n.component);let l;return l=s.create(n.injector),this._appRef.attachView(l.hostView),this.setDisposeFn(()=>{this._appRef.detachView(l.hostView),l.destroy()}),r?this._hostDomElement.insertBefore(this._getComponentRootNode(l),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(l)),l}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let jO=(()=>{class i{constructor(r){this._document=r}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r=this._document.createElement("div");r.classList.add("overlay-container"),this._document.body.appendChild(r),this._containerElement=r}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(_e))},i.\u0275prov=g.Yz7({factory:function(){return new i(g.LFG(_e))},token:i,providedIn:"root"}),i})();class iP{constructor(n){this._portalHost=n}attach(n,r=!0){return this._portalHost.attach(n,r)}detach(){return this._portalHost.detach()}}let $O=(()=>{class i{constructor(r,s,l,d){this._overlayContainer=r,this._componentFactoryResolver=s,this._appRef=l,this._document=d,this._paneElements=new Map}create(r,s){return this._createOverlayRef(this.getPaneElement(r,s))}getPaneElement(r="",s){return this._paneElements.get(s)||this._paneElements.set(s,{}),this._paneElements.get(s)[r]||(this._paneElements.get(s)[r]=this._createPaneElement(r,s)),this._paneElements.get(s)[r]}_createPaneElement(r,s){const l=this._document.createElement("div");return l.id="toast-container",l.classList.add(r),l.classList.add("toast-container"),s?s.getContainerElement().appendChild(l):this._overlayContainer.getContainerElement().appendChild(l),l}_createPortalHost(r){return new rP(r,this._componentFactoryResolver,this._appRef)}_createOverlayRef(r){return new iP(this._createPortalHost(r))}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(jO),g.LFG(g._Vd),g.LFG(g.z2F),g.LFG(_e))},i.\u0275prov=g.Yz7({factory:function(){return new i(g.LFG(jO),g.LFG(g._Vd),g.LFG(g.z2F),g.LFG(_e))},token:i,providedIn:"root"}),i})();class sP{constructor(n){this._overlayRef=n,this.duplicatesCount=0,this._afterClosed=new dr.xQ,this._activate=new dr.xQ,this._manualClose=new dr.xQ,this._resetTimeout=new dr.xQ,this._countDuplicate=new dr.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,r){n&&this._resetTimeout.next(),r&&this._countDuplicate.next(++this.duplicatesCount)}}class oP{constructor(n,r){this._toastPackage=n,this._parentInjector=r}get(n,r,s){return n===oS?this._toastPackage:this._parentInjector.get(n,r,s)}}let aS=(()=>{class i{constructor(r,s,l,d,p){this.overlay=s,this._injector=l,this.sanitizer=d,this.ngZone=p,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},r.default),r.config),r.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},r.default.iconClasses),r.config.iconClasses))}show(r,s,l={},d=""){return this._preBuildNotification(d,r,s,this.applyConfig(l))}success(r,s,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",r,s,this.applyConfig(l))}error(r,s,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",r,s,this.applyConfig(l))}info(r,s,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",r,s,this.applyConfig(l))}warning(r,s,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",r,s,this.applyConfig(l))}clear(r){for(const s of this.toasts)if(void 0!==r){if(s.toastId===r)return void s.toastRef.manualClose()}else s.toastRef.manualClose()}remove(r){const s=this._findToast(r);if(!s||(s.activeToast.toastRef.close(),this.toasts.splice(s.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const l=this.toasts[this.currentlyActive].toastRef;l.isInactive()||(this.currentlyActive=this.currentlyActive+1,l.activate())}return!0}findDuplicate(r="",s="",l,d){const{includeTitleDuplicates:p}=this.toastrConfig;for(const E of this.toasts){const T=p&&E.title===r;if((!p||T)&&E.message===s)return E.toastRef.onDuplicate(l,d),E}return null}applyConfig(r={}){return Object.assign(Object.assign({},this.toastrConfig),r)}_findToast(r){for(let s=0;s<this.toasts.length;s++)if(this.toasts[s].toastId===r)return{index:s,activeToast:this.toasts[s]};return null}_preBuildNotification(r,s,l,d){return d.onActivateTick?this.ngZone.run(()=>this._buildNotification(r,s,l,d)):this._buildNotification(r,s,l,d)}_buildNotification(r,s,l,d){if(!d.toastComponent)throw new Error("toastComponent required");const p=this.findDuplicate(l,s,this.toastrConfig.resetTimeoutOnDuplicate&&d.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&l||s)&&this.toastrConfig.preventDuplicates&&null!==p)return p;this.previousToastMessage=s;let E=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(E=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const T=this.overlay.create(d.positionClass,this.overlayContainer);this.index=this.index+1;let S=s;s&&d.enableHtml&&(S=this.sanitizer.sanitize(g.q3G.HTML,s));const R=new sP(T),x=new oS(this.index,d,S,l,r,R),B=new oP(x,this._injector),H=new tP(d.toastComponent,B),X=T.attach(H,this.toastrConfig.newestOnTop);R.componentInstance=X.instance;const ve={toastId:this.index,title:l||"",message:s||"",toastRef:R,onShown:R.afterActivate(),onHidden:R.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:X};return E||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ve.toastRef.activate()})),this.toasts.push(ve),ve}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(bb),g.LFG($O),g.LFG(g.zs3),g.LFG(Mi),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({factory:function(){return new i(g.LFG(bb),g.LFG($O),g.LFG(g.gxx),g.LFG(Mi),g.LFG(g.R0b))},token:i,providedIn:"root"}),i})(),aP=(()=>{class i{constructor(r,s,l){this.toastrService=r,this.toastPackage=s,this.ngZone=l,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(d=>{this.duplicatesCount=d})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(r,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(r),s)):this.timeout=setTimeout(()=>r(),s)}outsideInterval(r,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(r),s)):this.intervalId=setInterval(()=>r(),s)}runInsideAngular(r){this.ngZone?this.ngZone.run(()=>r()):r()}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(aS),g.Y36(oS),g.Y36(g.R0b))},i.\u0275cmp=g.Xpm({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,s){1&r&&g.NdJ("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),2&r&&(g.d8E("@flyInOut",s.state),g.Tol(s.toastClasses),g.Udp("display",s.displayStyle))},attrs:dh,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(r,s){1&r&&(g.YNc(0,hh,3,0,"button",0),g.YNc(1,ph,3,5,"div",1),g.YNc(2,yb,1,3,"div",2),g.YNc(3,_b,2,4,"div",3),g.YNc(4,vb,2,2,"div",4)),2&r&&(g.Q6J("ngIf",s.options.closeButton),g.xp6(1),g.Q6J("ngIf",s.title),g.xp6(1),g.Q6J("ngIf",s.message&&s.options.enableHtml),g.xp6(1),g.Q6J("ngIf",s.message&&!s.options.enableHtml),g.xp6(1),g.Q6J("ngIf",s.options.progressBar))},directives:[zi],encapsulation:2,data:{animation:[w("flyInOut",[P("inactive",O({opacity:0})),P("active",O({opacity:1})),P("removed",O({opacity:0})),z("inactive => active",I("{{ easeTime }}ms {{ easing }}")),z("active => removed",I("{{ easeTime }}ms {{ easing }}"))])]}}),i})();const uP=Object.assign(Object.assign({},ix),{toastComponent:aP});let HO=(()=>{class i{static forRoot(r={}){return{ngModule:i,providers:[{provide:bb,useValue:{default:uP,config:r}}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[Nh]]}),i})(),lP=(()=>{class i{constructor(r,s,l){this.toastrService=r,this.toastPackage=s,this.appRef=l,this.width=-1,this.toastClasses="",this.state="inactive",this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(d=>{this.duplicatesCount=d})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(aS),g.Y36(oS),g.Y36(g.z2F))},i.\u0275cmp=g.Xpm({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,s){1&r&&g.NdJ("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),2&r&&(g.Tol(s.toastClasses),g.Udp("display",s.displayStyle))},attrs:dh,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(r,s){1&r&&(g.YNc(0,Eb,3,0,"button",0),g.YNc(1,QM,3,5,"div",1),g.YNc(2,JM,1,3,"div",2),g.YNc(3,XM,2,4,"div",3),g.YNc(4,eP,2,2,"div",4)),2&r&&(g.Q6J("ngIf",s.options.closeButton),g.xp6(1),g.Q6J("ngIf",s.title),g.xp6(1),g.Q6J("ngIf",s.message&&s.options.enableHtml),g.xp6(1),g.Q6J("ngIf",s.message&&!s.options.enableHtml),g.xp6(1),g.Q6J("ngIf",s.options.progressBar))},directives:[zi],encapsulation:2}),i})();function dP(i,n){1&i&&(g.TgZ(0,"div",16),g.TgZ(1,"span",17),g._uU(2,"Loading..."),g.qZA(),g.qZA())}function hP(i,n){1&i&&(g.TgZ(0,"span",18),g._uU(1,"TODOS LOS CAMPOS SON OBLIGATORIOS"),g.qZA())}Object.assign(Object.assign({},ix),{toastComponent:lP});let GO=(()=>{class i{constructor(r,s,l,d,p){this.fb=r,this._empleadoService=s,this.router=l,this.toastr=d,this.aRoute=p,this.submitted=!1,this.loading=!1,this.titulo="Agregar Empleado",this.createEmpleado=this.fb.group({nombre:["",ts.required],apellido:["",ts.required],documento:["",ts.required],salario:["",ts.required]}),this.id=this.aRoute.snapshot.paramMap.get("id"),console.log(this.id)}ngOnInit(){this.esEditar()}agregarEditarEmpleado(){this.submitted=!0,!this.createEmpleado.invalid&&(null===this.id?this.agregarEmpleado():this.editarEmpleado(this.id))}agregarEmpleado(){const r={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.agregarEmpleado(r).then(()=>{this.toastr.success("El Empleado fue registrado con exito!","Empleado Registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,console.log("empleado registrado con exito!"),this.router.navigate(["/list-empleados"])}).catch(s=>{console.log(s),this.loading=!1})}editarEmpleado(r){const s={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.actualizarEmpleado(r,s).then(()=>{this.loading=!1,this.toastr.info("El empleado fue modificado con exito","Empleado modificado",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-empleados"])})}esEditar(){this.titulo="Editar Empleado",null!==this.id&&(this.loading=!0,this._empleadoService.getEmpleado(this.id).subscribe(r=>{this.loading=!1,console.log(r.payload.data().nombre),this.createEmpleado.setValue({nombre:r.payload.data().nombre,apellido:r.payload.data().apellido,documento:r.payload.data().documento,salario:r.payload.data().salario})}))}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(rE),g.Y36(c),g.Y36(Fr),g.Y36(aS),g.Y36(Qo))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-create-empleado"]],decls:22,vars:4,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],["class","spinner-border float-right","role","status",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","documento","placeholder","Documento",1,"form-control","form-control-lg","mt-3"],["type","number","formControlName","salario","placeholder","Salario",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["type","text","routerLink","/list-empleado",1,"btn","btn-secondary","btn-lg","mr-3"],["typer","submit",1,"btn","btn-dark","btn-lg"],["role","status",1,"spinner-border","float-right"],[1,"sr-only"],[1,"badge","badge-danger"]],template:function(r,s){1&r&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"h3"),g._uU(6),g.YNc(7,dP,3,0,"div",5),g.qZA(),g.YNc(8,hP,2,0,"span",6),g.TgZ(9,"form",7),g.NdJ("ngSubmit",function(){return s.agregarEditarEmpleado()}),g.TgZ(10,"div",1),g.TgZ(11,"div",8),g._UZ(12,"input",9),g.qZA(),g.TgZ(13,"div",8),g._UZ(14,"input",10),g.qZA(),g.qZA(),g._UZ(15,"input",11),g._UZ(16,"input",12),g.TgZ(17,"div",13),g.TgZ(18,"button",14),g._uU(19,"Volver"),g.qZA(),g.TgZ(20,"button",15),g._uU(21,"Agregar"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&r&&(g.xp6(6),g.hij("",s.titulo," "),g.xp6(1),g.Q6J("ngIf",s.loading),g.xp6(1),g.Q6J("ngIf",s.submitted&&s.createEmpleado.invalid),g.xp6(1),g.Q6J("formGroup",s.createEmpleado))},directives:[zi,Wv,cC,Vm,Cf,xm,Bm,Kv,od],styles:[""]}),i})();function fP(i,n){1&i&&(g.TgZ(0,"h5",7),g._uU(1,"NO HAY DATOS PARA MOSTRAR"),g.qZA())}const pP=function(i){return["/editEmpleado/",i]};function gP(i,n){if(1&i){const r=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.ALo(9,"currency"),g.qZA(),g.TgZ(10,"td"),g._UZ(11,"i",10),g.TgZ(12,"i",11),g.NdJ("click",function(){const d=g.CHM(r).$implicit;return g.oxw(2).eliminarEmpleado(d.id)}),g.qZA(),g.qZA(),g.qZA()}if(2&i){const r=n.$implicit;g.xp6(2),g.Oqu(r.nombre),g.xp6(2),g.Oqu(r.apellido),g.xp6(2),g.Oqu(r.documento),g.xp6(2),g.Oqu(g.lcZ(9,5,r.salario)),g.xp6(3),g.Q6J("routerLink",g.VKq(7,pP,r.id))}}function mP(i,n){if(1&i&&(g.TgZ(0,"table",8),g.TgZ(1,"thead"),g.TgZ(2,"tr"),g.TgZ(3,"th"),g._uU(4,"Nombre"),g.qZA(),g.TgZ(5,"th"),g._uU(6,"Apellido"),g.qZA(),g.TgZ(7,"th"),g._uU(8,"Documento"),g.qZA(),g.TgZ(9,"th"),g._uU(10,"Salario"),g.qZA(),g._UZ(11,"th"),g.qZA(),g.qZA(),g.TgZ(12,"tbody"),g.YNc(13,gP,13,9,"tr",9),g.qZA(),g.qZA()),2&i){const r=g.oxw();g.xp6(13),g.Q6J("ngForOf",r.empleados)}}const yP=[{path:"",redirectTo:"list-empleado",pathMatch:"full"},{path:"list-empleado",component:(()=>{class i{constructor(r,s){this._empleadoService=r,this.toastr=s,this.empleados=[]}ngOnInit(){this.getEmpleados()}getEmpleados(){this._empleadoService.getEmpleados().subscribe(r=>{this.empleados=[],r.forEach(s=>{this.empleados.push(Object.assign({id:s.payload.doc.id},s.payload.doc.data()))}),console.log(this.empleados)})}eliminarEmpleado(r){this._empleadoService.eliminarEmpleado(r).then(()=>{console.log("empleado eliminado con exito"),this.toastr.error("El empleado fue elminiado con exito","Registro Eliminado!",{positionClass:"toast-bottom-right"})}).catch(s=>{console.log(s)})}}return i.\u0275fac=function(r){return new(r||i)(g.Y36(c),g.Y36(aS))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-list-empleados"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["routerLink","/create-empleado",1,"btn","btn-dark","btn-lg","float-right"],["style"," margin-top: 30px;",4,"ngIf"],["class","table table-striped mt-5",4,"ngIf"],[2,"margin-top","30px"],[1,"table","table-striped","mt-5"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","mr-2",3,"routerLink"],[1,"far","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(r,s){1&r&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"span",3),g._uU(4,"Listado de empleados"),g.qZA(),g.TgZ(5,"button",4),g._uU(6,"Agregar"),g.qZA(),g.YNc(7,fP,2,0,"h5",5),g.YNc(8,mP,14,1,"table",6),g.qZA(),g.qZA(),g.qZA()),2&r&&(g.xp6(7),g.Q6J("ngIf",0==s.empleados.length),g.xp6(1),g.Q6J("ngIf",s.empleados.length>0))},directives:[od,zi,fs],pipes:[Sa],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),i})()},{path:"create-empleado",component:GO},{path:"editEmpleado/:id",component:GO},{path:"**",redirectTo:"list-empleado",pathMatch:"full"}];let _P=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[Sv.forRoot(yP)],Sv]}),i})();function qO(){return"undefined"!=typeof window&&void 0!==window.document}function sx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function gh(i){switch(i.length){case 0:return new Tt;case 1:return i[0];default:return new er(i)}}function zO(i,n,r,s,l={},d={}){const p=[],E=[];let T=-1,S=null;if(s.forEach(R=>{const x=R.offset,B=x==T,H=B&&S||{};Object.keys(R).forEach(X=>{let ve=X,Ne=R[X];if("offset"!==X)switch(ve=n.normalizePropertyName(ve,p),Ne){case"!":Ne=l[X];break;case _:Ne=d[X];break;default:Ne=n.normalizeStyleValue(X,ve,Ne,p)}H[ve]=Ne}),B||E.push(H),S=H,T=x}),p.length){const R="\n - ";throw new Error(`Unable to animate due to the following errors:${R}${p.join(R)}`)}return E}function ox(i,n,r,s){switch(n){case"start":i.onStart(()=>s(r&&ax(r,"start",i)));break;case"done":i.onDone(()=>s(r&&ax(r,"done",i)));break;case"destroy":i.onDestroy(()=>s(r&&ax(r,"destroy",i)))}}function ax(i,n,r){const s=r.totalTime,d=ux(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,null==s?i.totalTime:s,!!r.disabled),p=i._data;return null!=p&&(d._data=p),d}function ux(i,n,r,s,l="",d=0,p){return{element:i,triggerName:n,fromState:r,toState:s,phaseName:l,totalTime:d,disabled:!!p}}function Us(i,n,r){let s;return i instanceof Map?(s=i.get(n),s||i.set(n,s=r)):(s=i[n],s||(s=i[n]=r)),s}function WO(i){const n=i.indexOf(":");return[i.substring(1,n),i.substr(n+1)]}let lx=(i,n)=>!1,cx=(i,n)=>!1,KO=(i,n,r)=>[];const ZO=sx();(ZO||"undefined"!=typeof Element)&&(lx=qO()?(i,n)=>{for(;n&&n!==document.documentElement;){if(n===i)return!0;n=n.parentNode||n.host}return!1}:(i,n)=>i.contains(n),cx=(()=>{if(ZO||Element.prototype.matches)return(i,n)=>i.matches(n);{const i=Element.prototype,n=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return n?(r,s)=>n.apply(r,[s]):cx}})(),KO=(i,n,r)=>{let s=[];if(r){const l=i.querySelectorAll(n);for(let d=0;d<l.length;d++)s.push(l[d])}else{const l=i.querySelector(n);l&&s.push(l)}return s});let dg=null,YO=!1;function dx(i){dg||(dg=("undefined"!=typeof document?document.body:null)||{},YO=!!dg.style&&"WebkitAppearance"in dg.style);let n=!0;return dg.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in dg.style,!n&&YO&&(n="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in dg.style)),n}const hx=cx,fx=lx,px=KO;function QO(i){const n={};return Object.keys(i).forEach(r=>{const s=r.replace(/([a-z])([A-Z])/g,"$1-$2");n[s]=i[r]}),n}let JO=(()=>{class i{validateStyleProperty(r){return dx(r)}matchesElement(r,s){return hx(r,s)}containsElement(r,s){return fx(r,s)}query(r,s,l){return px(r,s,l)}computeStyle(r,s,l){return l||""}animate(r,s,l,d,p,E=[],T){return new Tt(l,d)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),gx=(()=>{class i{}return i.NOOP=new JO,i})();const mx="ng-enter",uS="ng-leave",lS="ng-trigger",cS=".ng-trigger",eM="ng-animating",yx=".ng-animating";function hg(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:_x(parseFloat(n[1]),n[2])}function _x(i,n){switch(n){case"s":return 1e3*i;default:return i}}function dS(i,n,r){return i.hasOwnProperty("duration")?i:function(i,n,r){let l,d=0,p="";if("string"==typeof i){const E=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===E)return n.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};l=_x(parseFloat(E[1]),E[2]);const T=E[3];null!=T&&(d=_x(parseFloat(T),E[4]));const S=E[5];S&&(p=S)}else l=i;if(!r){let E=!1,T=n.length;l<0&&(n.push("Duration values below 0 are not allowed for this animation step."),E=!0),d<0&&(n.push("Delay values below 0 are not allowed for this animation step."),E=!0),E&&n.splice(T,0,`The provided timing value "${i}" is invalid.`)}return{duration:l,delay:d,easing:p}}(i,n,r)}function x_(i,n={}){return Object.keys(i).forEach(r=>{n[r]=i[r]}),n}function mh(i,n,r={}){if(n)for(let s in i)r[s]=i[s];else x_(i,r);return r}function nM(i,n,r){return r?n+":"+r+";":""}function rM(i){let n="";for(let r=0;r<i.style.length;r++){const s=i.style.item(r);n+=nM(0,s,i.style.getPropertyValue(s))}for(const r in i.style)i.style.hasOwnProperty(r)&&!r.startsWith("_")&&(n+=nM(0,DP(r),i.style[r]));i.setAttribute("style",n)}function vu(i,n,r){i.style&&(Object.keys(n).forEach(s=>{const l=Ex(s);r&&!r.hasOwnProperty(s)&&(r[s]=i.style[l]),i.style[l]=n[s]}),sx()&&rM(i))}function fg(i,n){i.style&&(Object.keys(n).forEach(r=>{const s=Ex(r);i.style[s]=""}),sx()&&rM(i))}function Cb(i){return Array.isArray(i)?1==i.length?i[0]:A(i):i}const vx=new RegExp("{{\\s*(.+?)\\s*}}","g");function iM(i){let n=[];if("string"==typeof i){let r;for(;r=vx.exec(i);)n.push(r[1]);vx.lastIndex=0}return n}function hS(i,n,r){const s=i.toString(),l=s.replace(vx,(d,p)=>{let E=n[p];return n.hasOwnProperty(p)||(r.push(`Please provide a value for the animation param ${p}`),E=""),E.toString()});return l==s?i:l}function fS(i){const n=[];let r=i.next();for(;!r.done;)n.push(r.value),r=i.next();return n}const TP=/-+([a-z0-9])/g;function Ex(i){return i.replace(TP,(...n)=>n[1].toUpperCase())}function DP(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sM(i,n){return 0===i||0===n}function oM(i,n,r){const s=Object.keys(r);if(s.length&&n.length){let d=n[0],p=[];if(s.forEach(E=>{d.hasOwnProperty(E)||p.push(E),d[E]=r[E]}),p.length)for(var l=1;l<n.length;l++){let E=n[l];p.forEach(function(T){E[T]=wx(i,T)})}}return n}function Bs(i,n,r){switch(n.type){case 7:return i.visitTrigger(n,r);case 0:return i.visitState(n,r);case 1:return i.visitTransition(n,r);case 2:return i.visitSequence(n,r);case 3:return i.visitGroup(n,r);case 4:return i.visitAnimate(n,r);case 5:return i.visitKeyframes(n,r);case 6:return i.visitStyle(n,r);case 8:return i.visitReference(n,r);case 9:return i.visitAnimateChild(n,r);case 10:return i.visitAnimateRef(n,r);case 11:return i.visitQuery(n,r);case 12:return i.visitStagger(n,r);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function wx(i,n){return window.getComputedStyle(i)[n]}function SP(i,n){const r=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(s=>function(i,n,r){if(":"==i[0]){const T=function(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,s)=>parseFloat(s)>parseFloat(r);case":decrement":return(r,s)=>parseFloat(s)<parseFloat(r);default:return n.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,r);if("function"==typeof T)return void n.push(T);i=T}const s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return r.push(`The provided transition expression "${i}" is not supported`),n;const l=s[1],d=s[2],p=s[3];n.push(aM(l,p));"<"==d[0]&&!("*"==l&&"*"==p)&&n.push(aM(p,l))}(s,r,n)):r.push(i),r}const gS=new Set(["true","1"]),mS=new Set(["false","0"]);function aM(i,n){const r=gS.has(i)||mS.has(i),s=gS.has(n)||mS.has(n);return(l,d)=>{let p="*"==i||i==l,E="*"==n||n==d;return!p&&r&&"boolean"==typeof l&&(p=l?gS.has(i):mS.has(i)),!E&&s&&"boolean"==typeof d&&(E=d?gS.has(n):mS.has(n)),p&&E}}const RP=new RegExp("s*:selfs*,?","g");function bx(i,n,r){return new xP(i).build(n,r)}class xP{constructor(n){this._driver=n}build(n,r){const s=new PP(r);return this._resetContextStyleTimingState(s),Bs(this,Cb(n),s)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,r){let s=r.queryCount=0,l=r.depCount=0;const d=[],p=[];return"@"==n.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(E=>{if(this._resetContextStyleTimingState(r),0==E.type){const T=E,S=T.name;S.toString().split(/\s*,\s*/).forEach(R=>{T.name=R,d.push(this.visitState(T,r))}),T.name=S}else if(1==E.type){const T=this.visitTransition(E,r);s+=T.queryCount,l+=T.depCount,p.push(T)}else r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:d,transitions:p,queryCount:s,depCount:l,options:null}}visitState(n,r){const s=this.visitStyle(n.styles,r),l=n.options&&n.options.params||null;if(s.containsDynamicStyles){const d=new Set,p=l||{};if(s.styles.forEach(E=>{if(yS(E)){const T=E;Object.keys(T).forEach(S=>{iM(T[S]).forEach(R=>{p.hasOwnProperty(R)||d.add(R)})})}}),d.size){const E=fS(d.values());r.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${E.join(", ")}`)}}return{type:0,name:n.name,style:s,options:l?{params:l}:null}}visitTransition(n,r){r.queryCount=0,r.depCount=0;const s=Bs(this,Cb(n.animation),r);return{type:1,matchers:SP(n.expr,r.errors),animation:s,queryCount:r.queryCount,depCount:r.depCount,options:pg(n.options)}}visitSequence(n,r){return{type:2,steps:n.steps.map(s=>Bs(this,s,r)),options:pg(n.options)}}visitGroup(n,r){const s=r.currentTime;let l=0;const d=n.steps.map(p=>{r.currentTime=s;const E=Bs(this,p,r);return l=Math.max(l,r.currentTime),E});return r.currentTime=l,{type:3,steps:d,options:pg(n.options)}}visitAnimate(n,r){const s=function(i,n){let r=null;if(i.hasOwnProperty("duration"))r=i;else if("number"==typeof i)return Cx(dS(i,n).duration,0,"");const s=i;if(s.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=Cx(0,0,"");return d.dynamic=!0,d.strValue=s,d}return r=r||dS(s,n),Cx(r.duration,r.delay,r.easing)}(n.timings,r.errors);r.currentAnimateTimings=s;let l,d=n.styles?n.styles:O({});if(5==d.type)l=this.visitKeyframes(d,r);else{let p=n.styles,E=!1;if(!p){E=!0;const S={};s.easing&&(S.easing=s.easing),p=O(S)}r.currentTime+=s.duration+s.delay;const T=this.visitStyle(p,r);T.isEmptyStep=E,l=T}return r.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(n,r){const s=this._makeStyleAst(n,r);return this._validateStyleAst(s,r),s}_makeStyleAst(n,r){const s=[];Array.isArray(n.styles)?n.styles.forEach(p=>{"string"==typeof p?p==_?s.push(p):r.errors.push(`The provided style string value ${p} is not allowed.`):s.push(p)}):s.push(n.styles);let l=!1,d=null;return s.forEach(p=>{if(yS(p)){const E=p,T=E.easing;if(T&&(d=T,delete E.easing),!l)for(let S in E)if(E[S].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:d,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,r){const s=r.currentAnimateTimings;let l=r.currentTime,d=r.currentTime;s&&d>0&&(d-=s.duration+s.delay),n.styles.forEach(p=>{"string"!=typeof p&&Object.keys(p).forEach(E=>{if(!this._driver.validateStyleProperty(E))return void r.errors.push(`The provided animation property "${E}" is not a supported CSS property for animations`);const T=r.collectedStyles[r.currentQuerySelector],S=T[E];let R=!0;S&&(d!=l&&d>=S.startTime&&l<=S.endTime&&(r.errors.push(`The CSS property "${E}" that exists between the times of "${S.startTime}ms" and "${S.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${l}ms"`),R=!1),d=S.startTime),R&&(T[E]={startTime:d,endTime:l}),r.options&&function(i,n,r){const s=n.params||{},l=iM(i);l.length&&l.forEach(d=>{s.hasOwnProperty(d)||r.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(p[E],r.options,r.errors)})})}visitKeyframes(n,r){const s={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),s;let d=0;const p=[];let E=!1,T=!1,S=0;const R=n.steps.map(et=>{const it=this._makeStyleAst(et,r);let st=null!=it.offset?it.offset:function(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(r=>{if(yS(r)&&r.hasOwnProperty("offset")){const s=r;n=parseFloat(s.offset),delete s.offset}});else if(yS(i)&&i.hasOwnProperty("offset")){const r=i;n=parseFloat(r.offset),delete r.offset}return n}(it.styles),Et=0;return null!=st&&(d++,Et=it.offset=st),T=T||Et<0||Et>1,E=E||Et<S,S=Et,p.push(Et),it});T&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),E&&r.errors.push("Please ensure that all keyframe offsets are in order");const x=n.steps.length;let B=0;d>0&&d<x?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(B=1/(x-1));const H=x-1,X=r.currentTime,ve=r.currentAnimateTimings,Ne=ve.duration;return R.forEach((et,it)=>{const st=B>0?it==H?1:B*it:p[it],Et=st*Ne;r.currentTime=X+ve.delay+Et,ve.duration=Et,this._validateStyleAst(et,r),et.offset=st,s.styles.push(et)}),s}visitReference(n,r){return{type:8,animation:Bs(this,Cb(n.animation),r),options:pg(n.options)}}visitAnimateChild(n,r){return r.depCount++,{type:9,options:pg(n.options)}}visitAnimateRef(n,r){return{type:10,animation:this.visitReference(n.animation,r),options:pg(n.options)}}visitQuery(n,r){const s=r.currentQuerySelector,l=n.options||{};r.queryCount++,r.currentQuery=n;const[d,p]=function(i){const n=!!i.split(/\s*,\s*/).find(r=>":self"==r);return n&&(i=i.replace(RP,"")),[i=i.replace(/@\*/g,cS).replace(/@\w+/g,r=>cS+"-"+r.substr(1)).replace(/:animating/g,yx),n]}(n.selector);r.currentQuerySelector=s.length?s+" "+d:d,Us(r.collectedStyles,r.currentQuerySelector,{});const E=Bs(this,Cb(n.animation),r);return r.currentQuery=null,r.currentQuerySelector=s,{type:11,selector:d,limit:l.limit||0,optional:!!l.optional,includeSelf:p,animation:E,originalSelector:n.selector,options:pg(n.options)}}visitStagger(n,r){r.currentQuery||r.errors.push("stagger() can only be used inside of query()");const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:dS(n.timings,r.errors,!0);return{type:12,animation:Bs(this,Cb(n.animation),r),timings:s,options:null}}}class PP{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function yS(i){return!Array.isArray(i)&&"object"==typeof i}function pg(i){return i?(i=x_(i)).params&&(i.params=function(i){return i?x_(i):null}(i.params)):i={},i}function Cx(i,n,r){return{duration:i,delay:n,easing:r}}function Ix(i,n,r,s,l,d,p=null,E=!1){return{type:1,element:i,keyframes:n,preStyleProps:r,postStyleProps:s,duration:l,delay:d,totalTime:l+d,easing:p,subTimeline:E}}class _S{constructor(){this._map=new Map}consume(n){let r=this._map.get(n);return r?this._map.delete(n):r=[],r}append(n,r){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...r)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const UP=new RegExp(":enter","g"),jP=new RegExp(":leave","g");function Tx(i,n,r,s,l,d={},p={},E,T,S=[]){return(new $P).buildKeyframes(i,n,r,s,l,d,p,E,T,S)}class $P{buildKeyframes(n,r,s,l,d,p,E,T,S,R=[]){S=S||new _S;const x=new Dx(n,r,S,l,d,R,[]);x.options=T,x.currentTimeline.setStyles([p],null,x.errors,T),Bs(this,s,x);const B=x.timelines.filter(H=>H.containsAnimation());if(B.length&&Object.keys(E).length){const H=B[B.length-1];H.allowOnlyTimelineStyles()||H.setStyles([E],null,x.errors,T)}return B.length?B.map(H=>H.buildKeyframes()):[Ix(r,[],[],[],0,0,"",!1)]}visitTrigger(n,r){}visitState(n,r){}visitTransition(n,r){}visitAnimateChild(n,r){const s=r.subInstructions.consume(r.element);if(s){const l=r.createSubContext(n.options),d=r.currentTimeline.currentTime,p=this._visitSubInstructions(s,l,l.options);d!=p&&r.transformIntoNewTimeline(p)}r.previousNode=n}visitAnimateRef(n,r){const s=r.createSubContext(n.options);s.transformIntoNewTimeline(),this.visitReference(n.animation,s),r.transformIntoNewTimeline(s.currentTimeline.currentTime),r.previousNode=n}_visitSubInstructions(n,r,s){let d=r.currentTimeline.currentTime;const p=null!=s.duration?hg(s.duration):null,E=null!=s.delay?hg(s.delay):null;return 0!==p&&n.forEach(T=>{const S=r.appendInstructionToTimeline(T,p,E);d=Math.max(d,S.duration+S.delay)}),d}visitReference(n,r){r.updateOptions(n.options,!0),Bs(this,n.animation,r),r.previousNode=n}visitSequence(n,r){const s=r.subContextCount;let l=r;const d=n.options;if(d&&(d.params||d.delay)&&(l=r.createSubContext(d),l.transformIntoNewTimeline(),null!=d.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=vS);const p=hg(d.delay);l.delayNextStep(p)}n.steps.length&&(n.steps.forEach(p=>Bs(this,p,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),r.previousNode=n}visitGroup(n,r){const s=[];let l=r.currentTimeline.currentTime;const d=n.options&&n.options.delay?hg(n.options.delay):0;n.steps.forEach(p=>{const E=r.createSubContext(n.options);d&&E.delayNextStep(d),Bs(this,p,E),l=Math.max(l,E.currentTimeline.currentTime),s.push(E.currentTimeline)}),s.forEach(p=>r.currentTimeline.mergeTimelineCollectedStyles(p)),r.transformIntoNewTimeline(l),r.previousNode=n}_visitTiming(n,r){if(n.dynamic){const s=n.strValue;return dS(r.params?hS(s,r.params,r.errors):s,r.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,r){const s=r.currentAnimateTimings=this._visitTiming(n.timings,r),l=r.currentTimeline;s.delay&&(r.incrementTime(s.delay),l.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,r):(r.incrementTime(s.duration),this.visitStyle(d,r),l.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=n}visitStyle(n,r){const s=r.currentTimeline,l=r.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const d=l&&l.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(d):s.setStyles(n.styles,d,r.errors,r.options),r.previousNode=n}visitKeyframes(n,r){const s=r.currentAnimateTimings,l=r.currentTimeline.duration,d=s.duration,E=r.createSubContext().currentTimeline;E.easing=s.easing,n.styles.forEach(T=>{E.forwardTime((T.offset||0)*d),E.setStyles(T.styles,T.easing,r.errors,r.options),E.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(E),r.transformIntoNewTimeline(l+d),r.previousNode=n}visitQuery(n,r){const s=r.currentTimeline.currentTime,l=n.options||{},d=l.delay?hg(l.delay):0;d&&(6===r.previousNode.type||0==s&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vS);let p=s;const E=r.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!l.optional,r.errors);r.currentQueryTotal=E.length;let T=null;E.forEach((S,R)=>{r.currentQueryIndex=R;const x=r.createSubContext(n.options,S);d&&x.delayNextStep(d),S===r.element&&(T=x.currentTimeline),Bs(this,n.animation,x),x.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,x.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(p),T&&(r.currentTimeline.mergeTimelineCollectedStyles(T),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=n}visitStagger(n,r){const s=r.parentContext,l=r.currentTimeline,d=n.timings,p=Math.abs(d.duration),E=p*(r.currentQueryTotal-1);let T=p*r.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":T=E-T;break;case"full":T=s.currentStaggerTime}const R=r.currentTimeline;T&&R.delayNextStep(T);const x=R.currentTime;Bs(this,n.animation,r),r.previousNode=n,s.currentStaggerTime=l.currentTime-x+(l.startTime-s.currentTimeline.startTime)}}const vS={};class Dx{constructor(n,r,s,l,d,p,E,T){this._driver=n,this.element=r,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=d,this.errors=p,this.timelines=E,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=T||new ES(this._driver,r,0),E.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,r){if(!n)return;const s=n;let l=this.options;null!=s.duration&&(l.duration=hg(s.duration)),null!=s.delay&&(l.delay=hg(s.delay));const d=s.params;if(d){let p=l.params;p||(p=this.options.params={}),Object.keys(d).forEach(E=>{(!r||!p.hasOwnProperty(E))&&(p[E]=hS(d[E],p,this.errors))})}}_copyOptions(){const n={};if(this.options){const r=this.options.params;if(r){const s=n.params={};Object.keys(r).forEach(l=>{s[l]=r[l]})}}return n}createSubContext(n=null,r,s){const l=r||this.element,d=new Dx(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=vS,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,r,s){const l={duration:null!=r?r:n.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+n.delay,easing:""},d=new HP(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,l,n.stretchStartingKeyframe);return this.timelines.push(d),l}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,r,s,l,d,p){let E=[];if(l&&E.push(this.element),n.length>0){n=(n=n.replace(UP,"."+this._enterClassName)).replace(jP,"."+this._leaveClassName);let S=this._driver.query(this.element,n,1!=s);0!==s&&(S=s<0?S.slice(S.length+s,S.length):S.slice(0,s)),E.push(...S)}return!d&&0==E.length&&p.push(`\`query("${r}")\` returned zero elements. (Use \`query("${r}", { optional: true })\` if you wish to allow this.)`),E}}class ES{constructor(n,r,s,l){this._driver=n,this.element=r,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const r=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||r?(this.forwardTime(this.currentTime+n),r&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,r){return this.applyStylesToKeyframe(),new ES(this._driver,n,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,r){this._localTimelineStyles[n]=r,this._globalTimelineStyles[n]=r,this._styleSummary[n]={time:this.currentTime,value:r}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(r=>{this._backFill[r]=this._globalTimelineStyles[r]||_,this._currentKeyframe[r]=_}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,r,s,l){r&&(this._previousKeyframe.easing=r);const d=l&&l.params||{},p=function(i,n){const r={};let s;return i.forEach(l=>{"*"===l?(s=s||Object.keys(n),s.forEach(d=>{r[d]=_})):mh(l,!1,r)}),r}(n,this._globalTimelineStyles);Object.keys(p).forEach(E=>{const T=hS(p[E],d,s);this._pendingStyles[E]=T,this._localTimelineStyles.hasOwnProperty(E)||(this._backFill[E]=this._globalTimelineStyles.hasOwnProperty(E)?this._globalTimelineStyles[E]:_),this._updateStyle(E,T)})}applyStylesToKeyframe(){const n=this._pendingStyles,r=Object.keys(n);0!=r.length&&(this._pendingStyles={},r.forEach(s=>{this._currentKeyframe[s]=n[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const r=this._localTimelineStyles[n];this._pendingStyles[n]=r,this._updateStyle(n,r)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let r in this._currentKeyframe)n.push(r);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(r=>{const s=this._styleSummary[r],l=n._styleSummary[r];(!s||l.time>s.time)&&this._updateStyle(r,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,r=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((E,T)=>{const S=mh(E,!0);Object.keys(S).forEach(R=>{const x=S[R];"!"==x?n.add(R):x==_&&r.add(R)}),s||(S.offset=T/this.duration),l.push(S)});const d=n.size?fS(n.values()):[],p=r.size?fS(r.values()):[];if(s){const E=l[0],T=x_(E);E.offset=0,T.offset=1,l=[E,T]}return Ix(this.element,l,d,p,this.duration,this.startTime,this.easing,!1)}}class HP extends ES{constructor(n,r,s,l,d,p,E=!1){super(n,r,p.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=d,this._stretchStartingKeyframe=E,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:r,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&r){const d=[],p=s+r,E=r/p,T=mh(n[0],!1);T.offset=0,d.push(T);const S=mh(n[0],!1);S.offset=cM(E),d.push(S);const R=n.length-1;for(let x=1;x<=R;x++){let B=mh(n[x],!1);B.offset=cM((r+B.offset*s)/p),d.push(B)}s=p,r=0,l="",n=d}return Ix(this.element,n,this.preStyleProps,this.postStyleProps,s,r,l,!0)}}function cM(i,n=3){const r=Math.pow(10,n-1);return Math.round(i*r)/r}class Sx{}class qP extends Sx{normalizePropertyName(n,r){return Ex(n)}normalizeStyleValue(n,r,s,l){let d="";const p=s.toString().trim();if(zP[r]&&0!==s&&"0"!==s)if("number"==typeof s)d="px";else{const E=s.match(/^[+-]?[\d\.]+([a-z]*)$/);E&&0==E[1].length&&l.push(`Please provide a CSS unit value for ${n}:${s}`)}return p+d}}const zP=(()=>function(i){const n={};return i.forEach(r=>n[r]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dM(i,n,r,s,l,d,p,E,T,S,R,x,B){return{type:0,element:i,triggerName:n,isRemovalTransition:l,fromState:r,fromStyles:d,toState:s,toStyles:p,timelines:E,queriedElements:T,preStyleProps:S,postStyleProps:R,totalTime:x,errors:B}}const Ax={};class hM{constructor(n,r,s){this._triggerName=n,this.ast=r,this._stateStyles=s}match(n,r,s,l){return function(i,n,r,s,l){return i.some(d=>d(n,r,s,l))}(this.ast.matchers,n,r,s,l)}buildStyles(n,r,s){const l=this._stateStyles["*"],d=this._stateStyles[n],p=l?l.buildStyles(r,s):{};return d?d.buildStyles(r,s):p}build(n,r,s,l,d,p,E,T,S,R){const x=[],B=this.ast.options&&this.ast.options.params||Ax,X=this.buildStyles(s,E&&E.params||Ax,x),ve=T&&T.params||Ax,Ne=this.buildStyles(l,ve,x),et=new Set,it=new Map,st=new Map,Et="void"===l,$n={params:Object.assign(Object.assign({},B),ve)},$i=R?[]:Tx(n,r,this.ast.animation,d,p,X,Ne,$n,S,x);let Hi=0;if($i.forEach(hc=>{Hi=Math.max(hc.duration+hc.delay,Hi)}),x.length)return dM(r,this._triggerName,s,l,Et,X,Ne,[],[],it,st,Hi,x);$i.forEach(hc=>{const fc=hc.element,HM=Us(it,fc,{});hc.preStyleProps.forEach(gg=>HM[gg]=!0);const Tb=Us(st,fc,{});hc.postStyleProps.forEach(gg=>Tb[gg]=!0),fc!==r&&et.add(fc)});const dc=fS(et.values());return dM(r,this._triggerName,s,l,Et,X,Ne,$i,dc,it,st,Hi)}}class ZP{constructor(n,r,s){this.styles=n,this.defaultParams=r,this.normalizer=s}buildStyles(n,r){const s={},l=x_(this.defaultParams);return Object.keys(n).forEach(d=>{const p=n[d];null!=p&&(l[d]=p)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const p=d;Object.keys(p).forEach(E=>{let T=p[E];T.length>1&&(T=hS(T,l,r));const S=this.normalizer.normalizePropertyName(E,r);T=this.normalizer.normalizeStyleValue(E,S,T,r),s[S]=T})}}),s}}class QP{constructor(n,r,s){this.name=n,this.ast=r,this._normalizer=s,this.transitionFactories=[],this.states={},r.states.forEach(l=>{this.states[l.name]=new ZP(l.style,l.options&&l.options.params||{},s)}),fM(this.states,"true","1"),fM(this.states,"false","0"),r.transitions.forEach(l=>{this.transitionFactories.push(new hM(n,l,this.states))}),this.fallbackTransition=function(i,n,r){return new hM(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,E)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,r,s,l){return this.transitionFactories.find(p=>p.match(n,r,s,l))||null}matchStyles(n,r,s){return this.fallbackTransition.buildStyles(n,r,s)}}function fM(i,n,r){i.hasOwnProperty(n)?i.hasOwnProperty(r)||(i[r]=i[n]):i.hasOwnProperty(r)&&(i[n]=i[r])}const XP=new _S;class e1{constructor(n,r,s){this.bodyNode=n,this._driver=r,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(n,r){const s=[],l=bx(this._driver,r,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[n]=l}_buildPlayer(n,r,s){const l=n.element,d=zO(0,this._normalizer,0,n.keyframes,r,s);return this._driver.animate(l,d,n.duration,n.delay,n.easing,[],!0)}create(n,r,s={}){const l=[],d=this._animations[n];let p;const E=new Map;if(d?(p=Tx(this._driver,r,d,mx,uS,{},{},s,XP,l),p.forEach(R=>{const x=Us(E,R.element,{});R.postStyleProps.forEach(B=>x[B]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),p=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);E.forEach((R,x)=>{Object.keys(R).forEach(B=>{R[B]=this._driver.computeStyle(x,B,_)})});const S=gh(p.map(R=>{const x=E.get(R.element);return this._buildPlayer(R,{},x)}));return this._playersById[n]=S,S.onDestroy(()=>this.destroy(n)),this.players.push(S),S}destroy(n){const r=this._getPlayer(n);r.destroy(),delete this._playersById[n];const s=this.players.indexOf(r);s>=0&&this.players.splice(s,1)}_getPlayer(n){const r=this._playersById[n];if(!r)throw new Error(`Unable to find the timeline player referenced by ${n}`);return r}listen(n,r,s,l){const d=ux(r,"","","");return ox(this._getPlayer(n),s,d,l),()=>{}}command(n,r,s,l){if("register"==s)return void this.register(n,l[0]);if("create"==s)return void this.create(n,r,l[0]||{});const d=this._getPlayer(n);switch(s){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(n)}}}const pM="ng-animate-queued",gM="ng-animate-disabled",mM=".ng-animate-disabled",i1=[],yM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},s1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wo="__ng_removed";class Nx{constructor(n,r=""){this.namespaceId=r;const s=n&&n.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(s?n.value:n),s){const d=x_(n);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const r=n.params;if(r){const s=this.options.params;Object.keys(r).forEach(l=>{null==s[l]&&(s[l]=r[l])})}}}const Ib="void",Rx=new Nx(Ib);class o1{constructor(n,r,s){this.id=n,this.hostElement=r,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,bo(r,this._hostClassName)}listen(n,r,s,l){if(!this._triggers.hasOwnProperty(r))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${r}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${r}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${r}" is not supported!`);const d=Us(this._elementListeners,n,[]),p={name:r,phase:s,callback:l};d.push(p);const E=Us(this._engine.statesByElement,n,{});return E.hasOwnProperty(r)||(bo(n,lS),bo(n,lS+"-"+r),E[r]=Rx),()=>{this._engine.afterFlush(()=>{const T=d.indexOf(p);T>=0&&d.splice(T,1),this._triggers[r]||delete E[r]})}}register(n,r){return!this._triggers[n]&&(this._triggers[n]=r,!0)}_getTrigger(n){const r=this._triggers[n];if(!r)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return r}trigger(n,r,s,l=!0){const d=this._getTrigger(r),p=new xx(this.id,r,n);let E=this._engine.statesByElement.get(n);E||(bo(n,lS),bo(n,lS+"-"+r),this._engine.statesByElement.set(n,E={}));let T=E[r];const S=new Nx(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&T&&S.absorbOptions(T.options),E[r]=S,T||(T=Rx),S.value!==Ib&&T.value===S.value){if(!function(i,n){const r=Object.keys(i),s=Object.keys(n);if(r.length!=s.length)return!1;for(let l=0;l<r.length;l++){const d=r[l];if(!n.hasOwnProperty(d)||i[d]!==n[d])return!1}return!0}(T.params,S.params)){const ve=[],Ne=d.matchStyles(T.value,T.params,ve),et=d.matchStyles(S.value,S.params,ve);ve.length?this._engine.reportError(ve):this._engine.afterFlush(()=>{fg(n,Ne),vu(n,et)})}return}const B=Us(this._engine.playersByElement,n,[]);B.forEach(ve=>{ve.namespaceId==this.id&&ve.triggerName==r&&ve.queued&&ve.destroy()});let H=d.matchTransition(T.value,S.value,n,S.params),X=!1;if(!H){if(!l)return;H=d.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:H,fromState:T,toState:S,player:p,isFallbackTransition:X}),X||(bo(n,pM),p.onStart(()=>{O_(n,pM)})),p.onDone(()=>{let ve=this.players.indexOf(p);ve>=0&&this.players.splice(ve,1);const Ne=this._engine.playersByElement.get(n);if(Ne){let et=Ne.indexOf(p);et>=0&&Ne.splice(et,1)}}),this.players.push(p),B.push(p),p}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((r,s)=>{delete r[n]}),this._elementListeners.forEach((r,s)=>{this._elementListeners.set(s,r.filter(l=>l.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const r=this._engine.playersByElement.get(n);r&&(r.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,r){const s=this._engine.driver.query(n,cS,!0);s.forEach(l=>{if(l[wo])return;const d=this._engine.fetchNamespacesByElement(l);d.size?d.forEach(p=>p.triggerLeaveAnimation(l,r,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(n,r,s,l){const d=this._engine.statesByElement.get(n);if(d){const p=[];if(Object.keys(d).forEach(E=>{if(this._triggers[E]){const T=this.trigger(n,E,Ib,l);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,n,!0,r),s&&gh(p).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const r=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(r&&s){const l=new Set;r.forEach(d=>{const p=d.name;if(l.has(p))return;l.add(p);const T=this._triggers[p].fallbackTransition,S=s[p]||Rx,R=new Nx(Ib),x=new xx(this.id,p,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:p,transition:T,fromState:S,toState:R,player:x,isFallbackTransition:!0})})}}removeNode(n,r){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,r),this.triggerLeaveAnimation(n,r,!0))return;let l=!1;if(s.totalAnimations){const d=s.players.length?s.playersByQueriedElement.get(n):[];if(d&&d.length)l=!0;else{let p=n;for(;p=p.parentNode;)if(s.statesByElement.get(p)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(n),l)s.markElementAsRemoved(this.id,n,!1,r);else{const d=n[wo];(!d||d===yM)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,r))}}insertNode(n,r){bo(n,this._hostClassName)}drainQueuedTransitions(n){const r=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const d=s.element,p=this._elementListeners.get(d);p&&p.forEach(E=>{if(E.name==s.triggerName){const T=ux(d,s.triggerName,s.fromState.value,s.toState.value);T._data=n,ox(s.player,E.phase,T,E.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):r.push(s)}),this._queue=[],r.sort((s,l)=>{const d=s.transition.ast.depCount,p=l.transition.ast.depCount;return 0==d||0==p?d-p:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(n){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let r=!1;return this._elementListeners.has(n)&&(r=!0),r=!!this._queue.find(s=>s.element===n)||r,r}}class a1{constructor(n,r,s){this.bodyNode=n,this.driver=r,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,d)=>{}}_onRemovalComplete(n,r){this.onRemovalComplete(n,r)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(r=>{r.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,r){const s=new o1(n,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(s,r):(this.newHostElements.set(r,s),this.collectEnterElement(r)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,r){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let d=s;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,r)){this._namespaceList.splice(d+1,0,n),l=!0;break}l||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(r,n),n}register(n,r){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,r)),s}registerTrigger(n,r,s){let l=this._namespaceLookup[n];l&&l.register(r,s)&&this.totalAnimations++}destroy(n,r){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(r))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const r=new Set,s=this.statesByElement.get(n);if(s){const l=Object.keys(s);for(let d=0;d<l.length;d++){const p=s[l[d]].namespaceId;if(p){const E=this._fetchNamespace(p);E&&r.add(E)}}}return r}trigger(n,r,s,l){if(wS(r)){const d=this._fetchNamespace(n);if(d)return d.trigger(r,s,l),!0}return!1}insertNode(n,r,s,l){if(!wS(r))return;const d=r[wo];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const p=this.collectedLeaveElements.indexOf(r);p>=0&&this.collectedLeaveElements.splice(p,1)}if(n){const p=this._fetchNamespace(n);p&&p.insertNode(r,s)}l&&this.collectEnterElement(r)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,r){r?this.disabledNodes.has(n)||(this.disabledNodes.add(n),bo(n,gM)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),O_(n,gM))}removeNode(n,r,s,l){if(wS(r)){const d=n?this._fetchNamespace(n):null;if(d?d.removeNode(r,l):this.markElementAsRemoved(n,r,!1,l),s){const p=this.namespacesByHostElement.get(r);p&&p.id!==n&&p.removeNode(r,l)}}else this._onRemovalComplete(r,l)}markElementAsRemoved(n,r,s,l){this.collectedLeaveElements.push(r),r[wo]={namespaceId:n,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(n,r,s,l,d){return wS(r)?this._fetchNamespace(n).listen(r,s,l,d):()=>{}}_buildInstruction(n,r,s,l,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,l,n.fromState.options,n.toState.options,r,d)}destroyInnerAnimations(n){let r=this.driver.query(n,cS,!0);r.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(n,yx,!0),r.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const r=this.playersByElement.get(n);r&&r.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const r=this.playersByQueriedElement.get(n);r&&r.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return gh(this.players).onDone(()=>n());n()})}processLeaveNode(n){const r=n[wo];if(r&&r.setForRemoval){if(n[wo]=yM,r.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}this.driver.matchesElement(n,mM)&&this.markElementAsDisabled(n,!1),this.driver.query(n,mM,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)bo(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{r=this._flushAnimations(s,n)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],r.length?gh(r).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,r){const s=new _S,l=[],d=new Map,p=[],E=new Map,T=new Map,S=new Map,R=new Set;this.disabledNodes.forEach(Ze=>{R.add(Ze);const at=this.driver.query(Ze,".ng-animate-queued",!0);for(let Ct=0;Ct<at.length;Ct++)R.add(at[Ct])});const x=this.bodyNode,B=Array.from(this.statesByElement.keys()),H=EM(B,this.collectedEnterElements),X=new Map;let ve=0;H.forEach((Ze,at)=>{const Ct=mx+ve++;X.set(at,Ct),Ze.forEach(Ht=>bo(Ht,Ct))});const Ne=[],et=new Set,it=new Set;for(let Ze=0;Ze<this.collectedLeaveElements.length;Ze++){const at=this.collectedLeaveElements[Ze],Ct=at[wo];Ct&&Ct.setForRemoval&&(Ne.push(at),et.add(at),Ct.hasAnimation?this.driver.query(at,".ng-star-inserted",!0).forEach(Ht=>et.add(Ht)):it.add(at))}const st=new Map,Et=EM(B,Array.from(et));Et.forEach((Ze,at)=>{const Ct=uS+ve++;st.set(at,Ct),Ze.forEach(Ht=>bo(Ht,Ct))}),n.push(()=>{H.forEach((Ze,at)=>{const Ct=X.get(at);Ze.forEach(Ht=>O_(Ht,Ct))}),Et.forEach((Ze,at)=>{const Ct=st.get(at);Ze.forEach(Ht=>O_(Ht,Ct))}),Ne.forEach(Ze=>{this.processLeaveNode(Ze)})});const $n=[],$i=[];for(let Ze=this._namespaceList.length-1;Ze>=0;Ze--)this._namespaceList[Ze].drainQueuedTransitions(r).forEach(Ct=>{const Ht=Ct.player,Hr=Ct.element;if($n.push(Ht),this.collectedEnterElements.length){const wu=Hr[wo];if(wu&&wu.setForMove)return void Ht.destroy()}const Eu=!x||!this.driver.containsElement(x,Hr),js=st.get(Hr),yh=X.get(Hr),tr=this._buildInstruction(Ct,s,yh,js,Eu);if(tr.errors&&tr.errors.length)$i.push(tr);else{if(Eu)return Ht.onStart(()=>fg(Hr,tr.fromStyles)),Ht.onDestroy(()=>vu(Hr,tr.toStyles)),void l.push(Ht);if(Ct.isFallbackTransition)return Ht.onStart(()=>fg(Hr,tr.fromStyles)),Ht.onDestroy(()=>vu(Hr,tr.toStyles)),void l.push(Ht);tr.timelines.forEach(wu=>wu.stretchStartingKeyframe=!0),s.append(Hr,tr.timelines),p.push({instruction:tr,player:Ht,element:Hr}),tr.queriedElements.forEach(wu=>Us(E,wu,[]).push(Ht)),tr.preStyleProps.forEach((wu,Db)=>{const DS=Object.keys(wu);if(DS.length){let mg=T.get(Db);mg||T.set(Db,mg=new Set),DS.forEach(kx=>mg.add(kx))}}),tr.postStyleProps.forEach((wu,Db)=>{const DS=Object.keys(wu);let mg=S.get(Db);mg||S.set(Db,mg=new Set),DS.forEach(kx=>mg.add(kx))})}});if($i.length){const Ze=[];$i.forEach(at=>{Ze.push(`@${at.triggerName} has failed due to:\n`),at.errors.forEach(Ct=>Ze.push(`- ${Ct}\n`))}),$n.forEach(at=>at.destroy()),this.reportError(Ze)}const Hi=new Map,dc=new Map;p.forEach(Ze=>{const at=Ze.element;s.has(at)&&(dc.set(at,at),this._beforeAnimationBuild(Ze.player.namespaceId,Ze.instruction,Hi))}),l.forEach(Ze=>{const at=Ze.element;this._getPreviousPlayers(at,!1,Ze.namespaceId,Ze.triggerName,null).forEach(Ht=>{Us(Hi,at,[]).push(Ht),Ht.destroy()})});const hc=Ne.filter(Ze=>bM(Ze,T,S)),fc=new Map;vM(fc,this.driver,it,S,_).forEach(Ze=>{bM(Ze,T,S)&&hc.push(Ze)});const Tb=new Map;H.forEach((Ze,at)=>{vM(Tb,this.driver,new Set(Ze),T,"!")}),hc.forEach(Ze=>{const at=fc.get(Ze),Ct=Tb.get(Ze);fc.set(Ze,Object.assign(Object.assign({},at),Ct))});const gg=[],GM=[],qM={};p.forEach(Ze=>{const{element:at,player:Ct,instruction:Ht}=Ze;if(s.has(at)){if(R.has(at))return Ct.onDestroy(()=>vu(at,Ht.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime(Ht.totalTime),void l.push(Ct);let Hr=qM;if(dc.size>1){let js=at;const yh=[];for(;js=js.parentNode;){const tr=dc.get(js);if(tr){Hr=tr;break}yh.push(js)}yh.forEach(tr=>dc.set(tr,Hr))}const Eu=this._buildAnimation(Ct.namespaceId,Ht,Hi,d,Tb,fc);if(Ct.setRealPlayer(Eu),Hr===qM)gg.push(Ct);else{const js=this.playersByElement.get(Hr);js&&js.length&&(Ct.parentPlayer=gh(js)),l.push(Ct)}}else fg(at,Ht.fromStyles),Ct.onDestroy(()=>vu(at,Ht.toStyles)),GM.push(Ct),R.has(at)&&l.push(Ct)}),GM.forEach(Ze=>{const at=d.get(Ze.element);if(at&&at.length){const Ct=gh(at);Ze.setRealPlayer(Ct)}}),l.forEach(Ze=>{Ze.parentPlayer?Ze.syncPlayerEvents(Ze.parentPlayer):Ze.destroy()});for(let Ze=0;Ze<Ne.length;Ze++){const at=Ne[Ze],Ct=at[wo];if(O_(at,uS),Ct&&Ct.hasAnimation)continue;let Ht=[];if(E.size){let Eu=E.get(at);Eu&&Eu.length&&Ht.push(...Eu);let js=this.driver.query(at,yx,!0);for(let yh=0;yh<js.length;yh++){let tr=E.get(js[yh]);tr&&tr.length&&Ht.push(...tr)}}const Hr=Ht.filter(Eu=>!Eu.destroyed);Hr.length?d1(this,at,Hr):this.processLeaveNode(at)}return Ne.length=0,gg.forEach(Ze=>{this.players.push(Ze),Ze.onDone(()=>{Ze.destroy();const at=this.players.indexOf(Ze);this.players.splice(at,1)}),Ze.play()}),gg}elementContainsData(n,r){let s=!1;const l=r[wo];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(r)&&(s=!0),this.playersByQueriedElement.has(r)&&(s=!0),this.statesByElement.has(r)&&(s=!0),this._fetchNamespace(n).elementContainsData(r)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,r,s,l,d){let p=[];if(r){const E=this.playersByQueriedElement.get(n);E&&(p=E)}else{const E=this.playersByElement.get(n);if(E){const T=!d||d==Ib;E.forEach(S=>{S.queued||!T&&S.triggerName!=l||p.push(S)})}}return(s||l)&&(p=p.filter(E=>!(s&&s!=E.namespaceId||l&&l!=E.triggerName))),p}_beforeAnimationBuild(n,r,s){const d=r.element,p=r.isRemovalTransition?void 0:n,E=r.isRemovalTransition?void 0:r.triggerName;for(const T of r.timelines){const S=T.element,R=S!==d,x=Us(s,S,[]);this._getPreviousPlayers(S,R,p,E,r.toState).forEach(H=>{const X=H.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),H.destroy(),x.push(H)})}fg(d,r.fromStyles)}_buildAnimation(n,r,s,l,d,p){const E=r.triggerName,T=r.element,S=[],R=new Set,x=new Set,B=r.timelines.map(X=>{const ve=X.element;R.add(ve);const Ne=ve[wo];if(Ne&&Ne.removedBeforeQueried)return new Tt(X.duration,X.delay);const et=ve!==T,it=function(i){const n=[];return wM(i,n),n}((s.get(ve)||i1).map(Hi=>Hi.getRealPlayer())).filter(Hi=>!!Hi.element&&Hi.element===ve),st=d.get(ve),Et=p.get(ve),$n=zO(0,this._normalizer,0,X.keyframes,st,Et),$i=this._buildPlayer(X,$n,it);if(X.subTimeline&&l&&x.add(ve),et){const Hi=new xx(n,E,ve);Hi.setRealPlayer($i),S.push(Hi)}return $i});S.forEach(X=>{Us(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function(i,n,r){let s;if(i instanceof Map){if(s=i.get(n),s){if(s.length){const l=s.indexOf(r);s.splice(l,1)}0==s.length&&i.delete(n)}}else if(s=i[n],s){if(s.length){const l=s.indexOf(r);s.splice(l,1)}0==s.length&&delete i[n]}return s}(this.playersByQueriedElement,X.element,X))}),R.forEach(X=>bo(X,eM));const H=gh(B);return H.onDestroy(()=>{R.forEach(X=>O_(X,eM)),vu(T,r.toStyles)}),x.forEach(X=>{Us(l,X,[]).push(H)}),H}_buildPlayer(n,r,s){return r.length>0?this.driver.animate(n.element,r,n.duration,n.delay,n.easing,s):new Tt(n.duration,n.delay)}}class xx{constructor(n,r,s){this.namespaceId=n,this.triggerName=r,this.element=s,this._player=new Tt,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(r=>{this._queuedCallbacks[r].forEach(s=>ox(n,r,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const r=this._player;r.triggerCallback&&n.onStart(()=>r.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,r){Us(this._queuedCallbacks,n,[]).push(r)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const r=this._player;r.triggerCallback&&r.triggerCallback(n)}}function wS(i){return i&&1===i.nodeType}function _M(i,n){const r=i.style.display;return i.style.display=null!=n?n:"none",r}function vM(i,n,r,s,l){const d=[];r.forEach(T=>d.push(_M(T)));const p=[];s.forEach((T,S)=>{const R={};T.forEach(x=>{const B=R[x]=n.computeStyle(S,x,l);(!B||0==B.length)&&(S[wo]=s1,p.push(S))}),i.set(S,R)});let E=0;return r.forEach(T=>_M(T,d[E++])),p}function EM(i,n){const r=new Map;if(i.forEach(E=>r.set(E,[])),0==n.length)return r;const l=new Set(n),d=new Map;function p(E){if(!E)return 1;let T=d.get(E);if(T)return T;const S=E.parentNode;return T=r.has(S)?S:l.has(S)?1:p(S),d.set(E,T),T}return n.forEach(E=>{const T=p(E);1!==T&&r.get(T).push(E)}),r}const bS="$$classes";function bo(i,n){if(i.classList)i.classList.add(n);else{let r=i[bS];r||(r=i[bS]={}),r[n]=!0}}function O_(i,n){if(i.classList)i.classList.remove(n);else{let r=i[bS];r&&delete r[n]}}function d1(i,n,r){gh(r).onDone(()=>i.processLeaveNode(n))}function wM(i,n){for(let r=0;r<i.length;r++){const s=i[r];s instanceof er?wM(s.players,n):n.push(s)}}function bM(i,n,r){const s=r.get(i);if(!s)return!1;let l=n.get(i);return l?s.forEach(d=>l.add(d)):n.set(i,s),r.delete(i),!0}class CS{constructor(n,r,s){this.bodyNode=n,this._driver=r,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,d)=>{},this._transitionEngine=new a1(n,r,s),this._timelineEngine=new e1(n,r,s),this._transitionEngine.onRemovalComplete=(l,d)=>this.onRemovalComplete(l,d)}registerTrigger(n,r,s,l,d){const p=n+"-"+l;let E=this._triggerCache[p];if(!E){const T=[],S=bx(this._driver,d,T);if(T.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${T.join("\n - ")}`);E=function(i,n,r){return new QP(i,n,r)}(l,S,this._normalizer),this._triggerCache[p]=E}this._transitionEngine.registerTrigger(r,l,E)}register(n,r){this._transitionEngine.register(n,r)}destroy(n,r){this._transitionEngine.destroy(n,r)}onInsert(n,r,s,l){this._transitionEngine.insertNode(n,r,s,l)}onRemove(n,r,s,l){this._transitionEngine.removeNode(n,r,l||!1,s)}disableAnimations(n,r){this._transitionEngine.markElementAsDisabled(n,r)}process(n,r,s,l){if("@"==s.charAt(0)){const[d,p]=WO(s);this._timelineEngine.command(d,r,p,l)}else this._transitionEngine.trigger(n,r,s,l)}listen(n,r,s,l,d){if("@"==s.charAt(0)){const[p,E]=WO(s);return this._timelineEngine.listen(p,r,E,d)}return this._transitionEngine.listen(n,r,s,l,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function CM(i,n){let r=null,s=null;return Array.isArray(n)&&n.length?(r=Ox(n[0]),n.length>1&&(s=Ox(n[n.length-1]))):n&&(r=Ox(n)),r||s?new p1(i,r,s):null}let p1=(()=>{class i{constructor(r,s,l){this._element=r,this._startStyles=s,this._endStyles=l,this._state=0;let d=i.initialStylesByElement.get(r);d||i.initialStylesByElement.set(r,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&vu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vu(this._element,this._initialStyles),this._endStyles&&(vu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(fg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fg(this._element,this._endStyles),this._endStyles=null),vu(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function Ox(i){let n=null;const r=Object.keys(i);for(let s=0;s<r.length;s++){const l=r[s];g1(l)&&(n=n||{},n[l]=i[l])}return n}function g1(i){return"display"===i||"position"===i}const IM="animation",TM="animationend";class _1{constructor(n,r,s,l,d,p,E){this._element=n,this._name=r,this._duration=s,this._delay=l,this._easing=d,this._fillMode=p,this._onDoneFn=E,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=T=>this._handleCallback(T)}apply(){(function(i,n){const r=Px(i,"").trim();let s=0;r.length&&(function(i,n){let r=0;for(let s=0;s<i.length;s++)","===i.charAt(s)&&r++;return r}(r)+1,n=`${r}, ${n}`),IS(i,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),AM(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){DM(this._element,this._name,"paused")}resume(){DM(this._element,this._name,"running")}setPosition(n){const r=SM(this._element,this._name);this._position=n*this._duration,IS(this._element,"Delay",`-${this._position}ms`,r)}getPosition(){return this._position}_handleCallback(n){const r=n._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(r-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),AM(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,n){const s=Px(i,"").split(","),l=Mx(s,n);l>=0&&(s.splice(l,1),IS(i,"",s.join(",")))}(this._element,this._name))}}function DM(i,n,r){IS(i,"PlayState",r,SM(i,n))}function SM(i,n){const r=Px(i,"");return r.indexOf(",")>0?Mx(r.split(","),n):Mx([r],n)}function Mx(i,n){for(let r=0;r<i.length;r++)if(i[r].indexOf(n)>=0)return r;return-1}function AM(i,n,r){r?i.removeEventListener(TM,n):i.addEventListener(TM,n)}function IS(i,n,r,s){const l=IM+n;if(null!=s){const d=i.style[l];if(d.length){const p=d.split(",");p[s]=r,r=p.join(",")}}i.style[l]=r}function Px(i,n){return i.style[IM+n]||""}class NM{constructor(n,r,s,l,d,p,E,T){this.element=n,this.keyframes=r,this.animationName=s,this._duration=l,this._delay=d,this._finalStyles=E,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=p||"linear",this.totalTime=l+d,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new _1(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const r=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(n[s]=r?this._finalStyles[s]:wx(this.element,s))})}this.currentSnapshot=n}}class I1 extends Tt{constructor(n,r){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=QO(r)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const r=this._startingStyles[n];r?this.element.style.setProperty(n,r):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class xM{constructor(){this._count=0}validateStyleProperty(n){return dx(n)}matchesElement(n,r){return hx(n,r)}containsElement(n,r){return fx(n,r)}query(n,r,s){return px(n,r,s)}computeStyle(n,r,s){return window.getComputedStyle(n)[r]}buildKeyframeElement(n,r,s){s=s.map(E=>QO(E));let l=`@keyframes ${r} {\n`,d="";s.forEach(E=>{d=" ";const T=parseFloat(E.offset);l+=`${d}${100*T}% {\n`,d+=" ",Object.keys(E).forEach(S=>{const R=E[S];switch(S){case"offset":return;case"easing":return void(R&&(l+=`${d}animation-timing-function: ${R};\n`));default:return void(l+=`${d}${S}: ${R};\n`)}}),l+=`${d}}\n`}),l+="}\n";const p=document.createElement("style");return p.textContent=l,p}animate(n,r,s,l,d,p=[],E){const T=p.filter(Ne=>Ne instanceof NM),S={};sM(s,l)&&T.forEach(Ne=>{let et=Ne.currentSnapshot;Object.keys(et).forEach(it=>S[it]=et[it])});const R=function(i){let n={};return i&&(Array.isArray(i)?i:[i]).forEach(s=>{Object.keys(s).forEach(l=>{"offset"==l||"easing"==l||(n[l]=s[l])})}),n}(r=oM(n,r,S));if(0==s)return new I1(n,R);const x="gen_css_kf_"+this._count++,B=this.buildKeyframeElement(n,x,r);(function(i){var n;const r=null===(n=i.getRootNode)||void 0===n?void 0:n.call(i);return"undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot?r:document.head})(n).appendChild(B);const X=CM(n,r),ve=new NM(n,r,x,s,l,d,R,X);return ve.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(B)),ve}}class MM{constructor(n,r,s,l){this.element=n,this.keyframes=r,this.options=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,r,s){return n.animate(r,s)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(r=>{"offset"!=r&&(n[r]=this._finished?this._finalKeyframe[r]:wx(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}class N1{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(PM().toString()),this._cssKeyframesDriver=new xM}validateStyleProperty(n){return dx(n)}matchesElement(n,r){return hx(n,r)}containsElement(n,r){return fx(n,r)}query(n,r,s){return px(n,r,s)}computeStyle(n,r,s){return window.getComputedStyle(n)[r]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,r,s,l,d,p=[],E){if(!E&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,r,s,l,d,p);const R={duration:s,delay:l,fill:0==l?"both":"forwards"};d&&(R.easing=d);const x={},B=p.filter(X=>X instanceof MM);sM(s,l)&&B.forEach(X=>{let ve=X.currentSnapshot;Object.keys(ve).forEach(Ne=>x[Ne]=ve[Ne])});const H=CM(n,r=oM(n,r=r.map(X=>mh(X,!1)),x));return new MM(n,r,R,H)}}function PM(){return qO()&&Element.prototype.animate||{}}let x1=(()=>{class i extends h{constructor(r,s){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(s.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(r){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(r)?A(r):r;return kM(this._renderer,null,s,"register",[l]),new O1(s,this._renderer)}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.FYo),g.LFG(_e))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class O1 extends class{}{constructor(n,r){super(),this._id=n,this._renderer=r}create(n,r){return new M1(this._id,n,r||{},this._renderer)}}class M1{constructor(n,r,s,l){this.id=n,this.element=r,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,r){return this._renderer.listen(this.element,`@@${this.id}:${n}`,r)}_command(n,...r){return kM(this._renderer,this.element,this.id,n,r)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,r;return null!==(r=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==r?r:0}}function kM(i,n,r,s,l){return i.setProperty(n,`@@${r}:${s}`,l)}const FM="@.disabled";let P1=(()=>{class i{constructor(r,s,l){this.delegate=r,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(d,p)=>{p&&p.parentNode(d)&&p.removeChild(d.parentNode,d)}}createRenderer(r,s){const d=this.delegate.createRenderer(r,s);if(!(r&&s&&s.data&&s.data.animation)){let R=this._rendererCache.get(d);return R||(R=new LM("",d,this.engine),this._rendererCache.set(d,R)),R}const p=s.id,E=s.id+"-"+this._currentId;this._currentId++,this.engine.register(E,r);const T=R=>{Array.isArray(R)?R.forEach(T):this.engine.registerTrigger(p,E,r,R.name,R)};return s.data.animation.forEach(T),new k1(this,E,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,s,l){r>=0&&r<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[p,E]=d;p(E)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(g.FYo),g.LFG(CS),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class LM{constructor(n,r,s){this.namespaceId=n,this.delegate=r,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>r.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,r){this.delegate.appendChild(n,r),this.engine.onInsert(this.namespaceId,r,n,!1)}insertBefore(n,r,s,l=!0){this.delegate.insertBefore(n,r,s),this.engine.onInsert(this.namespaceId,r,n,l)}removeChild(n,r,s){this.engine.onRemove(this.namespaceId,r,this.delegate,s)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,s,l){this.delegate.setAttribute(n,r,s,l)}removeAttribute(n,r,s){this.delegate.removeAttribute(n,r,s)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,s,l){this.delegate.setStyle(n,r,s,l)}removeStyle(n,r,s){this.delegate.removeStyle(n,r,s)}setProperty(n,r,s){"@"==r.charAt(0)&&r==FM?this.disableAnimations(n,!!s):this.delegate.setProperty(n,r,s)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,s){return this.delegate.listen(n,r,s)}disableAnimations(n,r){this.engine.disableAnimations(n,r)}}class k1 extends LM{constructor(n,r,s,l){super(r,s,l),this.factory=n,this.namespaceId=r}setProperty(n,r,s){"@"==r.charAt(0)?"."==r.charAt(1)&&r==FM?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,r.substr(1),s):this.delegate.setProperty(n,r,s)}listen(n,r,s){if("@"==r.charAt(0)){const l=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let d=r.substr(1),p="";return"@"!=d.charAt(0)&&([d,p]=function(i){const n=i.indexOf(".");return[i.substring(0,n),i.substr(n+1)]}(d)),this.engine.listen(this.namespaceId,l,d,p,E=>{this.factory.scheduleListenerCallback(E._data||-1,s,E)})}return this.delegate.listen(n,r,s)}}let V1=(()=>{class i extends CS{constructor(r,s,l){super(r.body,s,l)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(r){return new(r||i)(g.LFG(_e),g.LFG(gx),g.LFG(Sx))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const VM=new g.OlP("AnimationModuleType"),UM=[{provide:h,useClass:x1},{provide:Sx,useFactory:function(){return new qP}},{provide:CS,useClass:V1},{provide:g.FYo,useFactory:function(i,n,r){return new P1(i,n,r)},deps:[Vo,CS,g.R0b]}],BM=[{provide:gx,useFactory:function(){return"function"==typeof PM()?new N1:new xM}},{provide:VM,useValue:"BrowserAnimations"},...UM],jM=[{provide:gx,useClass:JO},{provide:VM,useValue:"NoopAnimations"},...UM];let $1=(()=>{class i{static withConfig(r){return{ngModule:i,providers:r.disableAnimations?jM:BM}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:BM,imports:[jo]}),i})(),H1=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-navbar"]],decls:3,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"navbar-brand","mb-0","h1"]],template:function(r,s){1&r&&(g.TgZ(0,"nav",0),g.TgZ(1,"span",1),g._uU(2,"App empleados - firebase"),g.qZA(),g.qZA())},styles:[""]}),i})(),G1=(()=>{class i{constructor(){this.title="empleados"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:0,template:function(r,s){1&r&&(g._UZ(0,"app-navbar"),g._UZ(1,"router-outlet"))},directives:[H1,Cm],styles:[""]}),i})();const $M_firebase={apiKey:"AIzaSyAE0bE8RcePjreAgnnJDPv7XqMyUzZwWuc",authDomain:"empleados-9625f.firebaseapp.com",projectId:"empleados-9625f",storageBucket:"empleados-9625f.appspot.com",messagingSenderId:"267151545377",appId:"1:267151545377:web:e08743cc5efaed8e65ff60"};let q1=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=g.oAB({type:i,bootstrap:[G1]}),i.\u0275inj=g.cJS({providers:[],imports:[[jo,_P,aa.hO.initializeApp($M_firebase),u,RA,HO.forRoot(),$1]]}),i})();(0,g.G48)(),H_().bootstrapModule(q1).catch(i=>console.error(i))},4762:(ze,Ce,k)=>{"use strict";k.d(Ce,{ZT:()=>ae,pi:()=>$,_T:()=>re,mG:()=>me,Jh:()=>Z,XA:()=>G,CR:()=>U,ev:()=>ne});var g=function(ie,oe){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,le){fe.__proto__=le}||function(fe,le){for(var pe in le)Object.prototype.hasOwnProperty.call(le,pe)&&(fe[pe]=le[pe])})(ie,oe)};function ae(ie,oe){if("function"!=typeof oe&&null!==oe)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function fe(){this.constructor=ie}g(ie,oe),ie.prototype=null===oe?Object.create(oe):(fe.prototype=oe.prototype,new fe)}var $=function(){return($=Object.assign||function(oe){for(var fe,le=1,pe=arguments.length;le<pe;le++)for(var Q in fe=arguments[le])Object.prototype.hasOwnProperty.call(fe,Q)&&(oe[Q]=fe[Q]);return oe}).apply(this,arguments)};function re(ie,oe){var fe={};for(var le in ie)Object.prototype.hasOwnProperty.call(ie,le)&&oe.indexOf(le)<0&&(fe[le]=ie[le]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(le=Object.getOwnPropertySymbols(ie);pe<le.length;pe++)oe.indexOf(le[pe])<0&&Object.prototype.propertyIsEnumerable.call(ie,le[pe])&&(fe[le[pe]]=ie[le[pe]])}return fe}function me(ie,oe,fe,le){return new(fe||(fe=Promise))(function(Q,Me){function We(At){try{rt(le.next(At))}catch(Gt){Me(Gt)}}function St(At){try{rt(le.throw(At))}catch(Gt){Me(Gt)}}function rt(At){At.done?Q(At.value):function(Q){return Q instanceof fe?Q:new fe(function(Me){Me(Q)})}(At.value).then(We,St)}rt((le=le.apply(ie,oe||[])).next())})}function Z(ie,oe){var le,pe,Q,Me,fe={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Me={next:We(0),throw:We(1),return:We(2)},"function"==typeof Symbol&&(Me[Symbol.iterator]=function(){return this}),Me;function We(rt){return function(At){return function(rt){if(le)throw new TypeError("Generator is already executing.");for(;fe;)try{if(le=1,pe&&(Q=2&rt[0]?pe.return:rt[0]?pe.throw||((Q=pe.return)&&Q.call(pe),0):pe.next)&&!(Q=Q.call(pe,rt[1])).done)return Q;switch(pe=0,Q&&(rt=[2&rt[0],Q.value]),rt[0]){case 0:case 1:Q=rt;break;case 4:return fe.label++,{value:rt[1],done:!1};case 5:fe.label++,pe=rt[1],rt=[0];continue;case 7:rt=fe.ops.pop(),fe.trys.pop();continue;default:if(!(Q=(Q=fe.trys).length>0&&Q[Q.length-1])&&(6===rt[0]||2===rt[0])){fe=0;continue}if(3===rt[0]&&(!Q||rt[1]>Q[0]&&rt[1]<Q[3])){fe.label=rt[1];break}if(6===rt[0]&&fe.label<Q[1]){fe.label=Q[1],Q=rt;break}if(Q&&fe.label<Q[2]){fe.label=Q[2],fe.ops.push(rt);break}Q[2]&&fe.ops.pop(),fe.trys.pop();continue}rt=oe.call(ie,fe)}catch(At){rt=[6,At],pe=0}finally{le=Q=0}if(5&rt[0])throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}([rt,At])}}}function G(ie){var oe="function"==typeof Symbol&&Symbol.iterator,fe=oe&&ie[oe],le=0;if(fe)return fe.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&le>=ie.length&&(ie=void 0),{value:ie&&ie[le++],done:!ie}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(ie,oe){var fe="function"==typeof Symbol&&ie[Symbol.iterator];if(!fe)return ie;var pe,Me,le=fe.call(ie),Q=[];try{for(;(void 0===oe||oe-- >0)&&!(pe=le.next()).done;)Q.push(pe.value)}catch(We){Me={error:We}}finally{try{pe&&!pe.done&&(fe=le.return)&&fe.call(le)}finally{if(Me)throw Me.error}}return Q}function ne(ie,oe,fe){if(fe||2===arguments.length)for(var Q,le=0,pe=oe.length;le<pe;le++)(Q||!(le in oe))&&(Q||(Q=Array.prototype.slice.call(oe,0,le)),Q[le]=oe[le]);return ie.concat(Q||Array.prototype.slice.call(oe))}},8239:(ze,Ce,k)=>{"use strict";function g($,re,ye,se,_e,me,Z){try{var F=$[me](Z),j=F.value}catch(G){return void ye(G)}F.done?re(j):Promise.resolve(j).then(se,_e)}function ae($){return function(){var re=this,ye=arguments;return new Promise(function(se,_e){var me=$.apply(re,ye);function Z(j){g(me,se,_e,Z,F,"next",j)}function F(j){g(me,se,_e,Z,F,"throw",j)}Z(void 0)})}}k.d(Ce,{Z:()=>ae})}},ze=>{ze(ze.s=9327)}]);